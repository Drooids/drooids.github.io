(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"1e04":function(e,a,t){"use strict";(function(e){t("e6cf"),t("a79d");var n=t("bc3a"),o=t.n(n),s=t("6f0d");const i=Object(s["setupCache"])({maxAge:9e5});function l(a,t,n){const s=e.env.API_GUEST_TOKEN,l=t||!1;if(n=n||!1,a.method=a.method||"get",a.cache=a.cache||!1,null===s)throw new Error("Api key not defined");const r={baseURL:"https://zbc.dev"};a.cache&&(r.adapter=i.adapter);const c=o.a.create(r);function d(e){return new Promise(((a,t)=>{n&&l.notify({group:!1,position:"top",color:"info",message:"Complete"}),a(e)}))}function u(e){return new Promise(((a,t)=>{n&&l.notify({group:!1,position:"top",color:"red",message:"Request Failed."}),t(e.response)}))}function p(){return new Promise(((e,a)=>{e(),l&&l.loading.hide()}))}return o.a.defaults.baseURL="https://zbc.dev",o.a.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8",l&&l.loading.show(),c(a).then(d).catch(u).finally(p)}a["a"]=l}).call(this,t("4362"))},8041:function(e,a,t){"use strict";t("cb9a")},"8b24":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("q-page",{staticClass:"row col-12 q-pa-md"},[t("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 text-center"},[t("div",{staticClass:"q-pr-md q-pl-md"},[t("div",{staticClass:"container",attrs:{id:"container"}}),t("div",{staticClass:"container",attrs:{id:"container1"}})])]),t("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},[t("q-card",[t("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:e.tab,callback:function(a){e.tab=a},expression:"tab"}},[t("q-tab",{attrs:{name:"real",label:"Real time"}}),t("q-tab",{attrs:{name:"recent",label:"Recent events"}})],1),t("q-separator"),t("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(a){e.tab=a},expression:"tab"}},[t("q-tab-panel",{staticClass:"no-padding",attrs:{name:"real"}},[t("q-input",{staticClass:"q-pa-md",attrs:{label:"Search",icon:"language",outlined:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"search"}})]},proxy:!0}])}),t("div",[t("q-table",{attrs:{data:this.queue.nodes,columns:e.table.nodes.columns,loading:e.loading,"row-key":"pubkey",pagination:e.table.nodes.pagination,"binary-state-sort":"",flat:""},on:{"update:pagination":function(a){return e.$set(e.table.nodes,"pagination",a)}},scopedSlots:e._u([{key:"body-cell-edit",fn:function(a){return[t("q-td",{staticClass:"cursor-pointer",attrs:{props:a}},[t("q-btn",{attrs:{color:"primary","text-color":"white",icon:"edit",round:""},on:{click:function(t){e.selected.node=a.row,e.dialogs.account=!0}}})],1)]}}])})],1)],1),t("q-tab-panel",{attrs:{name:"recent"}},[t("q-input",{attrs:{label:"Search",icon:"language",outlined:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"search"}})]},proxy:!0}])}),t("q-table",{attrs:{data:this.events,columns:e.table.events.columns,loading:e.loading,"row-key":"pubkey",pagination:e.table.events.pagination,"binary-state-sort":"",flat:""},on:{"update:pagination":function(a){return e.$set(e.table.events,"pagination",a)}}})],1)],1)],1)],1),t("q-dialog",{model:{value:e.dialogs.account,callback:function(a){e.$set(e.dialogs,"account",a)},expression:"dialogs.account"}},[t("q-card",{staticStyle:{width:"800px"}},[t("q-card-section",[t("div",{staticClass:"text-h6"},[e._v("Change the account name")])]),t("q-card-section",{staticClass:"q-pt-none"},[e._v("\n        Change the display name for the account:\n\n        "),t("br"),t("br"),t("span",{staticClass:"text-grey"},[e._v(e._s(e.selected.node.showPubkey))]),t("br"),t("br"),e._v("\n\n        It is stored locally and will get reset with a new browser session.\n\n        "),t("br"),t("br"),t("b",[e._v("Name")]),t("br"),t("q-input",{attrs:{label:"Email address name",outlined:""}})],1),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Change",color:"primary"}})],1)],1)],1)],1)},o=[],s=(t("e6cf"),t("4e82"),t("a79d"),t("1e04")),i={name:"PageIndex",data(){return{tab:"real",table:{nodes:{columns:[{name:"position",label:"Position",align:"left",field:"position",sortable:!0},{name:"funds",align:"left",label:"Locked  ZBC",field:"funds",sortable:!0},{name:"showPubkey",label:"Account",field:"showPubkey",align:"left",sortable:!0},{name:"edit",label:"",field:"edit",align:"left",sortable:!1}],pagination:{sortBy:"funds",descending:!0,page:1,rowsPerPage:8}},events:{columns:[{name:"height",label:"Height",align:"left",field:"height",sortable:!0},{name:"funds",label:"Funds",align:"left",field:"funds",sortable:!0},{name:"joined",label:"Joined",align:"left",field:"joined",sortable:!0},{name:"node",label:"Node",align:"left",field:"showPubkey",sortable:!0}],pagination:{sortBy:"height",descending:!1,page:1,rowsPerPage:16}}},selected:{node:{}},dialogs:{account:!1},queue:{},events:[],loading:!1}},created(){this.loading=!0,this.main().then((()=>{this.loading=!1,console.warn("Animation modules loaded.");new window.roadBuilder({containerId:"container",initCamera:"chase",visible:{cars:!0,grid:!0}}),new window.roadBuilder({containerId:"container1",initCamera:"topdown",visible:{cars:!1,grid:!1}})})).catch((()=>{this.loading=!1}))},methods:{main(){return new Promise(((e,a)=>{Object(s["a"])({method:"get",url:"/queue"}).then((t=>{this.queue=t.data,this.queue.nodes.map((e=>{e.showPubkey=e.pubkey.slice(0,8)+"..."+e.pubkey.slice(-4)})),this.queue.nodes.sort(((e,a)=>parseInt(a.funds)-parseInt(e.funds))).map(((e,a)=>{e.position=a+1})),Object(s["a"])({method:"get",url:"/events"}).then((e=>{this.events=e.data.events.map((e=>(e.showPubkey=e.node.slice(0,8)+"..."+e.node.slice(-4),e)))})).catch((()=>{a()})).finally((()=>{e()}))})).catch((()=>{a()}))}))}}},l=i,r=(t("8041"),t("2877")),c=t("9989"),d=t("f09f"),u=t("429b"),p=t("7460"),b=t("eb85"),g=t("adad"),m=t("823b"),f=t("27f9"),h=t("0016"),w=t("eaac"),v=t("db86"),y=t("9c40"),q=t("24e8"),C=t("a370"),k=t("4b7e"),P=t("7f67"),x=t("eebe"),Q=t.n(x),_=Object(r["a"])(l,n,o,!1,null,null,null);a["default"]=_.exports;Q()(_,"components",{QPage:c["a"],QCard:d["a"],QTabs:u["a"],QTab:p["a"],QSeparator:b["a"],QTabPanels:g["a"],QTabPanel:m["a"],QInput:f["a"],QIcon:h["a"],QTable:w["a"],QTd:v["a"],QBtn:y["a"],QDialog:q["a"],QCardSection:C["a"],QCardActions:k["a"]}),Q()(_,"directives",{ClosePopup:P["a"]})},cb9a:function(e,a,t){}}]);