(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"46a0":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row justify-center"},[a("div",{staticClass:"co-10 row"},[a("div",{staticClass:"col-9"},[a("q-input",{attrs:{color:"teal",outlined:"",label:"Plate number (No input validation yet)"},scopedSlots:e._u([{key:"append",fn:function(){return[a("img",{staticStyle:{width:"64px"},attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/b/b2/CH-Zusatztafel-Leichte_Motorwagen.svg"}})]},proxy:!0}]),model:{value:e.regNum,callback:function(t){e.regNum=t},expression:"regNum"}})],1),a("div",{staticClass:"col-3"},[e._v("\n        \n      "),a("q-btn",{staticStyle:{height:"100%"},attrs:{loading:e.loading,color:"primary",label:"Query"},on:{click:e.getStepOne}})],1)]),a("br"),a("div",{staticClass:"steps col-10",staticStyle:{"margin-top":"16px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.step.one.vehicle.Vin.length>0,expression:"step.one.vehicle.Vin.length > 0"}],staticClass:"col-10"},[a("q-list",[a("q-expansion-item",{directives:[{name:"show",rawName:"v-show",value:e.step.one.show,expression:"step.one.show"}],staticStyle:{border:"1px #000 solid"},attrs:{icon:"",label:"Icelandic car registry","header-class":"text-primary",caption:e.regNum},model:{value:e.step.one.expanded,callback:function(t){e.$set(e.step.one,"expanded",t)},expression:"step.one.expanded"}},[a("q-card",[a("q-card-section",{directives:[{name:"show",rawName:"v-show",value:e.step.one.vehicle.Vin.length>0,expression:"step.one.vehicle.Vin.length > 0"}]},[e._v("\n                Vin: "+e._s(e.step.one.vehicle.Vin)+" "),a("br"),a("p",{staticClass:"text-primary"},[e._v("You seem to have a valid car.")]),a("div",{staticClass:"col-12 text-right"},[e._v("\n                    \n                  "),a("q-btn",{staticStyle:{height:"100%"},attrs:{loading:e.step.one.loading,size:"md",color:"primary",label:"Continue"},on:{click:e.getStepTwo}})],1)]),a("q-card-section",{directives:[{name:"show",rawName:"v-show",value:0===e.step.one.vehicle.Vin.length,expression:"step.one.vehicle.Vin.length === 0"}]},[e._v("\n                Vehicle not found.\n              ")])],1)],1),a("br"),a("q-expansion-item",{directives:[{name:"show",rawName:"v-show",value:e.step.two.show,expression:"step.two.show"}],staticStyle:{border:"1px #000 solid"},attrs:{label:"TecAlliance query","header-class":"text-primary",caption:"Vin: "+e.step.one.vehicle.Vin},model:{value:e.step.two.expanded,callback:function(t){e.$set(e.step.two,"expanded",t)},expression:"step.two.expanded"}},[a("q-card",[a("q-card-section",[a("q-select",{attrs:{filled:"",options:e.step.two.data.matchingVehicles,label:"Select a model"},model:{value:e.step.two.input.vehicleSelection,callback:function(t){e.$set(e.step.two.input,"vehicleSelection",t)},expression:"step.two.input.vehicleSelection"}}),a("br"),a("div",{staticClass:"col-12 text-right"},[e._v("\n                      \n                    "),a("q-btn",{staticStyle:{height:"100%"},attrs:{loading:e.step.two.loading,size:"md",color:"primary",label:"Continue"},on:{click:e.getStepThree}})],1)],1)],1)],1),a("br"),a("q-expansion-item",{directives:[{name:"show",rawName:"v-show",value:e.step.three.show,expression:"step.three.show"}],staticStyle:{border:"1px #000 solid"},attrs:{label:"NAV Select category","header-class":"text-primary",caption:"..."},model:{value:e.step.three.expanded,callback:function(t){e.$set(e.step.three,"expanded",t)},expression:"step.three.expanded"}},[a("q-card",[a("q-card-section",[a("q-select",{attrs:{filled:"",options:e.step.three.data.cats,label:"Select cat"},on:{input:e.getStepThreeSubCats},model:{value:e.step.three.input.catSelection,callback:function(t){e.$set(e.step.three.input,"catSelection",t)},expression:"step.three.input.catSelection"}}),a("br"),a("q-select",{attrs:{filled:"",options:e.step.three.data.subCats,label:"Select sub cat"},model:{value:e.step.three.input.subCatSelection,callback:function(t){e.$set(e.step.three.input,"subCatSelection",t)},expression:"step.three.input.subCatSelection"}}),a("br"),a("div",{staticClass:"col-12 text-right"},[e._v("\n                      \n                    "),a("q-btn",{staticStyle:{height:"100%"},attrs:{loading:e.step.three.loading,size:"md",color:"primary",label:"Continue"},on:{click:e.getStepFive}})],1)],1)],1)],1),a("br"),a("q-expansion-item",{directives:[{name:"show",rawName:"v-show",value:e.step.five.show,expression:"step.five.show"}],staticStyle:{border:"1px #000 solid"},attrs:{label:"NAV Select car parts","header-class":"text-primary",caption:"..."},model:{value:e.step.five.expanded,callback:function(t){e.$set(e.step.five,"expanded",t)},expression:"step.five.expanded"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"row"},e._l(e.step.five.data,(function(t,s){return a("q-card",{key:s,staticClass:"my-card col-xl-3 col-lg-3 col-md-4 col-sm-12 col-12",staticStyle:{"margin-right":"16px"}},[a("q-card-section",[a("img",{attrs:{src:t.tecAlliance.images[0].imageURL200}}),a("p",[e._v(e._s(t.itemname))])])],1)})),1),a("br"),a("div",{staticClass:"col-12 text-right"},[e._v("\n                      \n                    "),a("q-btn",{staticStyle:{height:"100%"},attrs:{loading:e.step.four.loading,size:"md",color:"primary",label:"Continue"},on:{click:e.getStepFive}})],1)])],1)],1)],1)],1)])])},i=[],n=(a("6b54"),a("06db"),a("bc3a")),l=a.n(n),o={name:"PartFinder",data:function(){return{loading:!1,regNum:"",step:{one:{loading:!1,show:!1,expanded:!0,vehicle:{Vin:""}},two:{loading:!1,show:!1,expanded:!0,data:{matchingVehicles:[]},input:{vehicleSelection:{label:"Select a car",value:0}}},three:{loading:!1,show:!1,expanded:!0,data:{cats:[{label:"Select a cat",value:0}],subCats:[{label:"Select a sub cat",value:0}]},input:{}},four:{loading:!1,show:!1,expanded:!0,data:{carId:0},input:{catSelection:{label:"Select a cat",value:0},subCatSelection:{label:"Select a sub cat",value:0}}},five:{loading:!1,show:!1,expanded:!0,data:[],input:{}}}}},methods:{getStepOne:function(){var e=this;this.loading=!0,l.a.get("https://dev.poulsen.is/api/VehicleRegistryService.php?regNum="+this.regNum).then((function(t){e.loading=!1,console.log(t),e.step.one.show=!0,e.step.one.vehicle.Vin="",t.data.error||(e.step.one.vehicle=t.data.ret.Vehicle[0],e.getStepTwo())}))},getStepTwo:function(){var e=this;this.step.one.loading=!0,l.a.get('http://dev.poulsen.is/api/TecAlliance.php?fn=getVehiclesByVIN&fnparams={"lang": "en","provider" : 21011,"country":"IS","articleCountry":"IS","vin": "'+this.step.one.vehicle.Vin+'"}').then((function(t){if(console.log(t),e.step.two.show=!0,e.step.one.loading=!1,!t.data.error)for(var a in e.step.one.data=t.data.ret.data,e.step.two.data.matchingVehicles=[],t.data.ret.data.matchingVehicles.array)t.data.ret.data.matchingVehicles.array[a].label=t.data.ret.data.matchingVehicles.array[a].carName,t.data.ret.data.matchingVehicles.array[a].value=t.data.ret.data.matchingVehicles.array[a].manuId,e.step.two.data.matchingVehicles.push(t.data.ret.data.matchingVehicles.array[a])}))},getStepThree:function(){var e=this;this.step.two.loading=!1,this.step.three.data.cat=[],l.a.get("http://dev.poulsen.is/api/LocalDb.php?sql=select%20*%20from%20webcat%20where%20parentID%20=%201").then((function(t){for(var a in console.log(t),e.step.three.show=!0,e.step.two.loading=!1,t.data.ret.data)t.data.ret.data[a].label=t.data.ret.data[a].Description,t.data.ret.data[a].value=t.data.ret.data[a].Code;e.step.three.data.cats=t.data.ret.data}))},getStepThreeSubCats:function(){var e=this;l.a.get("http://dev.poulsen.is/api/LocalDb.php?sql=select%20*%20from%20webcat%20where%20Parent='"+this.step.three.input.catSelection.value+"'").then((function(t){for(var a in console.log(t),t.data.ret.data)t.data.ret.data[a].label=t.data.ret.data[a].Description,t.data.ret.data[a].value=t.data.ret.data[a].Code;e.step.three.data.subCats=t.data.ret.data}))},getStepFour_:function(){var e=this;this.step.two.loading=!0,l.a.get('http://dev.poulsen.is/api/TecAlliance.php?fn=getVehicleByIds4&fnparams={"lang":"en","provider":21011,"country":"IS","countriesCarSelection":"IS","articleCountry":"IS","axles":false,"cabs":false,"countryGroupFlag":false,"kbaData":false,"motorCodes":false,"protoTypes":false,"registrationInfo":false,"secondaryTypes":false,"wheelbases":false,"carIds":{"array":['+this.step.two.input.vehicleSelection.carId+"]}}").then((function(t){e.step.three.show=!0,e.step.two.loading=!1,t.data.error||(e.step.three.data=t.data.ret.data.array[0])}))},getStepFive:function(){var e=this;this.step.three.loading=!0,l.a.get('http://dev.poulsen.is/api/TecAlliance.php?fn=getArticles&fnparams={ "articleCountry": "IS", "provider": 21011, "linkageTargetId": "'+this.step.two.input.vehicleSelection.carId+'", "linkageTargetType": "P", "lang": "en", "perPage": 729, "includeImages": true }').then((function(t){console.log(t);var a=[];for(var s in t.data.ret.articles)a.push(t.data.ret.articles[s].articleNumber);var i=a.map((function(e){return"'"+e+"'"}));console.log(a),console.log(e.step.three.input.subCatSelection);var n=" SELECT * FROM cus_products  WHERE status = 1 AND ( catnos IN( '"+e.step.three.input.subCatSelection.value+"' ) OR catnos REGEXP '"+e.step.three.input.subCatSelection.value+"' ) AND tecdocnos IN ("+i.toString()+")";console.log(n),l.a.get("http://dev.poulsen.is/api/LocalDb.php?sql="+n).then((function(a){for(var s in console.log(t),a.data.ret.data)for(var i in t.data.ret.articles)t.data.ret.articles[i].articleNumber===a.data.ret.data[s].tecdocnos&&(a.data.ret.data[s].tecAlliance=t.data.ret.articles[i]);e.step.five.data=a.data.ret.data,e.step.five.show=!0,e.step.three.loading=!1}))}))}}},r=o,c=a("2877"),p=a("eebe"),d=a.n(p),h=a("27f9"),u=a("9c40"),v=a("1c1c"),g=a("3b73"),m=a("f09f"),b=a("a370"),w=a("ddd8"),f=Object(c["a"])(r,s,i,!1,null,null,null);t["a"]=f.exports;d()(f,"components",{QInput:h["a"],QBtn:u["a"],QList:v["a"],QExpansionItem:g["a"],QCard:m["a"],QCardSection:b["a"],QSelect:w["a"]})},7237:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"qa-md",staticStyle:{"margin-top":"28px"}},[a("part-finder")],1)},i=[],n=a("46a0"),l={name:"PartFinderPage",components:{PartFinder:n["a"]}},o=l,r=a("2877"),c=a("eebe"),p=a.n(c),d=a("9989"),h=Object(r["a"])(o,s,i,!1,null,null,null);t["default"]=h.exports;p()(h,"components",{QPage:d["a"]})}}]);