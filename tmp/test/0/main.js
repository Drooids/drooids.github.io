function FastClick(e){"use strict";var t,i=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=e,!e||!e.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(i,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(i,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(i,arguments)},this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(i,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(i,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(i,arguments)},FastClick.notNeeded(e)||(this.deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,n){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,i.hijacked||i,n):r.call(e,t,i,n)},e.addEventListener=function(t,i,n){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,i.hijacked||(i.hijacked=function(e){e.propagationStopped||i(e)}),n):r.call(e,t,i,n)}),"function"==typeof e.onclick&&(t=e.onclick,e.addEventListener("click",function(e){t(e)},!1),e.onclick=null))}(function(){"use strict";function e(){}function t(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,r=this,s=r.EventEmitter;n.getListeners=function(e){var t,i,n=this._getEvents();if(e instanceof RegExp){t={};for(i in n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i])}else t=n[e]||(n[e]=[]);return t},n.flattenListeners=function(e){var t,i=[];for(t=0;t<e.length;t+=1)i.push(e[t].listener);return i},n.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&(t={},t[e]=i),t||i},n.addListener=function(e,i){var n,r=this.getListenersAsObject(e),s="object"==typeof i;for(n in r)r.hasOwnProperty(n)&&-1===t(r[n],i)&&r[n].push(s?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,i){var n,r,s=this.getListenersAsObject(e);for(r in s)s.hasOwnProperty(r)&&(n=t(s[r],i),-1!==n&&s[r].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,i){var n,r,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)s.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(r=t[n])&&("function"==typeof r?s.call(this,n,r):o.call(this,n,r));return this},n.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(e,t){var i,n,r,s,o=this.getListenersAsObject(e);for(r in o)if(o.hasOwnProperty(r))for(n=o[r].length;n--;)i=o[r][n],i.once===!0&&this.removeListener(e,i.listener),s=i.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=s,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:r.EventEmitter=e}).call(this),function(e,t){"function"==typeof define&&define.amd?define("smoothScroll",t(e)):"object"==typeof exports?module.smoothScroll=t(e):e.smoothScroll=t(e)}(this,function(e){"use strict";var t,i={},n=!!document.querySelector&&!!e.addEventListener,r={speed:500,easing:"easeInOutCubic",offset:0,updateURL:!0,callbackBefore:function(){},callbackAfter:function(){}},s=function(e,t,i){if("[object Object]"===Object.prototype.toString.call(e))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(i,e[n],n,e);else for(var r=0,s=e.length;s>r;r++)t.call(i,e[r],r,e)},o=function(e,t){var i={};return s(e,function(t,n){i[n]=e[n]}),s(t,function(e,n){i[n]=t[n]}),i},a=function(e,t){var i;return"easeInQuad"===e&&(i=t*t),"easeOutQuad"===e&&(i=t*(2-t)),"easeInOutQuad"===e&&(i=.5>t?2*t*t:-1+(4-2*t)*t),"easeInCubic"===e&&(i=t*t*t),"easeOutCubic"===e&&(i=--t*t*t+1),"easeInOutCubic"===e&&(i=.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(i=t*t*t*t),"easeOutQuart"===e&&(i=1- --t*t*t*t),"easeInOutQuart"===e&&(i=.5>t?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(i=t*t*t*t*t),"easeOutQuint"===e&&(i=1+--t*t*t*t*t),"easeInOutQuint"===e&&(i=.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t),i||t},l=function(e,t,i){var n=0;if(e.offsetParent)do n+=e.offsetTop,e=e.offsetParent;while(e);return n=n-t-i,n>=0?n:0},u=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},d=function(e){return e&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(e):{}},c=function(e,t){history.pushState&&(t||"true"===t)&&history.pushState({pos:e.id},"",window.location.pathname+e)};return i.animateScroll=function(t,i,n,s){var p=o(p||r,n||{}),h=d(t?t.getAttribute("data-options"):null);p=o(p,h);var f,m,g,v=document.querySelector("[data-scroll-header]"),y=null===v?0:v.offsetHeight+v.offsetTop,b=e.pageYOffset,_=l(document.querySelector(i),y,parseInt(p.offset,10)),w=_-b,C=u(),k=0;t&&"a"===t.tagName.toLowerCase()&&s&&s.preventDefault(),c(i,p.updateURL);var x=function(n,r,s){var o=e.pageYOffset;(n==r||o==r||e.innerHeight+o>=C)&&(clearInterval(s),p.callbackAfter(t,i))},T=function(){k+=16,m=k/parseInt(p.speed,10),m=m>1?1:m,g=b+w*a(p.easing,m),e.scrollTo(0,Math.floor(g)),x(g,_,f)},S=function(){p.callbackBefore(t,i),f=setInterval(T,16)};0===e.pageYOffset&&e.scrollTo(0,0),S()},i.init=function(e){if(n){t=o(r,e||{});var a=document.querySelectorAll("[data-scroll]");s(a,function(e){e.addEventListener("click",i.animateScroll.bind(null,e,e.hash,t),!1)})}},i}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t:e.echo=t(e)}(this,function(e){"use strict";var t,i,n,r,s,o,a,l={},u=function(){},d=function(e,t){var i=e.getBoundingClientRect();return i.right>=t.l&&i.bottom>=t.t&&i.left<=t.r&&i.top<=t.b},c=function(){clearTimeout(i),i=setTimeout(l.render,n)};return a=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},s=function(e,t){return a(e,t)?void 0:e.className+=" "+t},o=function(e,t){var i;if(i=" "+e.className.replace(/[\t\r\n]/g," ")+" ",a(e,t)){for(;i.indexOf(" "+t+" ")>=0;)i=i.replace(" "+t+" "," ");return e.className=i.replace(/^\s+|\s+$/g,"")}},l.init=function(i){i=i||{};var s=i.offset||0,o=i.offsetVertical||s,a=i.offsetHorizontal||s,d=function(e,t){return parseInt(e||t,10)};t={t:d(i.offsetTop,o),b:d(i.offsetBottom,o),l:d(i.offsetLeft,a),r:d(i.offsetRight,a)},n=d(i.throttle,250),r=!!i.unload,u=i.callback||u,l.render(),document.addEventListener?(e.addEventListener("scroll",c,!1),e.addEventListener("load",c,!1)):(e.attachEvent("onscroll",c),e.attachEvent("onload",c))},l.render=function(){for(var i,n,a=document.querySelectorAll("[data-lazy-load]"),c=a.length,p={l:0-t.l,t:0-t.t,b:(e.innerHeight||document.documentElement.clientHeight)+t.b,r:(e.innerWidth||document.documentElement.clientWidth)+t.r},h=0;c>h;h++)if(n=a[h],s(n,"lazy--pre"),d(n,p))if(r&&n.setAttribute("data-lazy-load-placeholder",n.src),"IMG"!=n.tagName){var f;f=document.createElement("IMG"),f.src=n.getAttribute("data-lazy-load");var m=function(e){var t=e.target.stashedEle;t.style.backgroundImage="url( "+t.getAttribute("data-lazy-load")+")",s(t,"lazy--post"),o(t,"lazy--pre"),u(t,"load")};f.stashedEle=n,f.addEventListener("load",m,!1)}else{var f;f=document.createElement("IMG"),f.src=ele.getAttribute("data-lazy-load");var g=function(e){var t=e.target.stashedEle;t.src=t.getAttribute("data-lazy-load"),s(t,"lazy--post"),o(t,"lazy--pre"),u(t,"load")};f.stashedEle=n,f.addEventListener("load",g,!1)}else r&&(i=n.getAttribute("data-lazy-load-placeholder"))&&("IMG"!=n.tagName?n.style.backgroundImage="url( "+i+")":n.src=i,n.removeAttribute("data-lazy-load-placeholder"),u(n,"unload"));c||l.detach()},l.detach=function(){document.removeEventListener?e.removeEventListener("scroll",c):e.detachEvent("onscroll",c),clearTimeout(i)},l});var Handlebars=function(){var e=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){"use strict";function t(e){return a[e]||"&amp;"}function i(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function n(e){return e instanceof o?e.toString():e||0===e?(e=""+e,u.test(e)?e.replace(l,t):e):""}function r(e){return e||0===e?p(e)&&0===e.length?!0:!1:!0}var s={},o=e,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,u=/[&<>"'`]/;s.extend=i;var d=Object.prototype.toString;s.toString=d;var c=function(e){return"function"==typeof e};c(/x/)&&(c=function(e){return"function"==typeof e&&"[object Function]"===d.call(e)});var c;s.isFunction=c;var p=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===d.call(e):!1};return s.isArray=p,s.escapeExpression=n,s.isEmpty=r,s}(e),i=function(){"use strict";function e(e,t){var n;t&&t.firstLine&&(n=t.firstLine,e+=" - "+n+":"+t.firstColumn);for(var r=Error.prototype.constructor.call(this,e),s=0;s<i.length;s++)this[i[s]]=r[i[s]];n&&(this.lineNumber=n,this.column=t.firstColumn)}var t,i=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),n=function(e,t){"use strict";function i(e,t){this.helpers=e||{},this.partials=t||{},n(this)}function n(e){e.registerHelper("helperMissing",function(e){if(2!==arguments.length)throw new a("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,i){var n=i.inverse||function(){},r=i.fn;return p(t)&&(t=t.call(this)),t===!0?r(this):t===!1||null==t?n(this):c(t)?t.length>0?e.helpers.each(t,i):n(this):r(t)}),e.registerHelper("each",function(e,t){var i,n=t.fn,r=t.inverse,s=0,o="";if(p(e)&&(e=e.call(this)),t.data&&(i=g(t.data)),e&&"object"==typeof e)if(c(e))for(var a=e.length;a>s;s++)i&&(i.index=s,i.first=0===s,i.last=s===e.length-1),o+=n(e[s],{data:i});else for(var l in e)e.hasOwnProperty(l)&&(i&&(i.key=l,i.index=s,i.first=0===s),o+=n(e[l],{data:i}),s++);return 0===s&&(o=r(this)),o}),e.registerHelper("if",function(e,t){return p(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,i){return e.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})}),e.registerHelper("with",function(e,t){return p(e)&&(e=e.call(this)),o.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;e.log(n,t)})}function r(e,t){m.log(e,t)}var s={},o=e,a=t,l="1.3.0";s.VERSION=l;var u=4;s.COMPILER_REVISION=u;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};s.REVISION_CHANGES=d;var c=o.isArray,p=o.isFunction,h=o.toString,f="[object Object]";s.HandlebarsEnvironment=i,i.prototype={constructor:i,logger:m,log:r,registerHelper:function(e,t,i){if(h.call(e)===f){if(i||t)throw new a("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else i&&(t.not=i),this.helpers[e]=t},registerPartial:function(e,t){h.call(e)===f?o.extend(this.partials,e):this.partials[e]=t}};var m={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(m.level<=e){var i=m.methodMap[e];"undefined"!=typeof console&&console[i]&&console[i].call(console,t)}}};s.logger=m,s.log=r;var g=function(e){var t={};return o.extend(t,e),t};return s.createFrame=g,s}(t,i),r=function(e,t,i){"use strict";function n(e){var t=e&&e[0]||1,i=p;if(t!==i){if(i>t){var n=h[i],r=h[t];throw new c("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+r+").")}throw new c("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){if(!t)throw new c("No environment passed to template");var i=function(e,i,n,r,s,o){var a=t.VM.invokePartial.apply(this,arguments);if(null!=a)return a;if(t.compile){var l={helpers:r,partials:s,data:o};return s[i]=t.compile(e,{data:void 0!==o},t),s[i](n,l)}throw new c("The partial "+i+" could not be compiled when running in runtime-only mode")},n={escapeExpression:d.escapeExpression,invokePartial:i,programs:[],program:function(e,t,i){var n=this.programs[e];return i?n=o(e,t,i):n||(n=this.programs[e]=o(e,t)),n},merge:function(e,t){var i=e||t;return e&&t&&e!==t&&(i={},d.extend(i,t),d.extend(i,e)),i},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(i,r){r=r||{};var s,o,a=r.partial?r:t;r.partial||(s=r.helpers,o=r.partials);var l=e.call(n,a,i,s,o,r.data);return r.partial||t.VM.checkRevision(n.compilerInfo),l}}function s(e,t,i){var n=Array.prototype.slice.call(arguments,3),r=function(e,r){return r=r||{},t.apply(this,[e,r.data||i].concat(n))};return r.program=e,r.depth=n.length,r}function o(e,t,i){var n=function(e,n){return n=n||{},t(e,n.data||i)};return n.program=e,n.depth=0,n}function a(e,t,i,n,r,s){var o={partial:!0,helpers:n,partials:r,data:s};if(void 0===e)throw new c("The partial "+t+" could not be found");return e instanceof Function?e(i,o):void 0}function l(){return""}var u={},d=e,c=t,p=i.COMPILER_REVISION,h=i.REVISION_CHANGES;return u.checkRevision=n,u.template=r,u.programWithDepth=s,u.program=o,u.invokePartial=a,u.noop=l,u}(t,i,n),s=function(e,t,i,n,r){"use strict";var s,o=e,a=t,l=i,u=n,d=r,c=function(){var e=new o.HandlebarsEnvironment;return u.extend(e,o),e.SafeString=a,e.Exception=l,e.Utils=u,e.VM=d,e.template=function(t){return d.template(t,e)},e},p=c();return p.create=c,s=p}(n,e,i,t,r);return s}();Handlebars.getTemplate=function(e,t){return sendBack=HandlebarsTemplates[e],sendBack},Handlebars.registerHelper("list",function(e,t){for(var i="<ul>",n=0,r=e.length;r>n;n++)i=i+"<li>"+t.fn(e[n])+"</li>";return i+"</ul>"}),Handlebars.registerHelper("debug",function(e){console.log("Current Context"),console.log("===================="),console.log(this),e&&(console.log("Value"),console.log("===================="),console.log(e))}),Handlebars.registerHelper("first",function(e,t){return t(e[0])}),Handlebars.registerHelper("limit",function(e,t){var i="",n=parseInt(t.hash.offset)||0,r=parseInt(t.hash.limit)||5,s=n<e.length?n:0,o=r+n<e.length?r+n:e.length;for(o;o>s;s++)i+=t.fn(e[s]);return i}),Handlebars.registerHelper("protocolLess",function(e){return url=e.replace(/(.*?)\/\//,""),new Handlebars.SafeString(url)}),Handlebars.registerHelper("justSite",function(e){return siteArray=e.replace(/(.*?)\/\//,""),siteArray=siteArray.split("/"),siteArray=siteArray[0],new Handlebars.SafeString(siteArray)}),Handlebars.registerHelper("toSentance",function(e,t){for(var i="",n=0,r=e.length;r>n;n++)i+=t(e[n]),r-1>n&&(i+=", ");return i});var Debouncer,bind=function(e,t){return function(){return e.apply(t,arguments)}};Debouncer=function(){function e(e){this.data=e,this.handleEvent=bind(this.handleEvent,this),this.requestTick=bind(this.requestTick,this),this.update=bind(this.update,this),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,this.callback=this.data,this.ticking=!1}return e.prototype.update=function(){return this.callback&&this.callback(),this.ticking=!1},e.prototype.requestTick=function(){return this.ticking?void 0:(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},e.prototype.handleEvent=function(){return this.requestTick()},e}(),window.Debouncer=Debouncer;var NewSpringUtil,bind=function(e,t){return function(){return e.apply(t,arguments)}};NewSpringUtil=function(){function e(e){this.flattenObject=bind(this.flattenObject,this),this.findAttr=bind(this.findAttr,this),this.removeClass=bind(this.removeClass,this),this.addClass=bind(this.addClass,this),this.toggleClass=bind(this.toggleClass,this),this.preCacheVideos=bind(this.preCacheVideos,this),this.preCacheImgs=bind(this.preCacheImgs,this),this.isMobile=bind(this.isMobile,this),this.debounce=bind(this.debounce,this),this.addModel=bind(this.addModel,this),this.updateModels=bind(this.updateModels,this),this.nameSpace=bind(this.nameSpace,this),this.addPlugin=bind(this.addPlugin,this),this.mapEvents=bind(this.mapEvents,this),this._properties={data:e},this.plugins={},"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),this.mapEvents().bindSmoothScroll()}return e.prototype.mapEvents=function(){return this},e.prototype.addPlugin=function(e,t,i,n){var r,s,o,a,l;if(l=function(e){return function(t,i,n,r){return e.plugins[t]={_id:t,model:i,attr:n,callback:r}}}(this),this.plugins.length)for(a=this.plugins,r=0,s=a.length;s>r;r++)return o=a[r],o._id!==t.name&&l(e,t,i,n),void this.addModel(document,t,i,n);else l(e,t,i,n);return this.addModel(document,t,i,n)},e.prototype.nameSpace=function(e,t,i,n){var r,s;return r=t.replace(/[\[\]']+/g,""),s=e.attributes[r].value.split(","),s=s.map(function(e){return e.trim()}),t=r.split("-"),this[t[1]]||(this[t[1]]={}),this[t[1]][s[0]]||(this[t[1]][s[0]]=new i(e,r)),n?(this[t[1]][s[0]]=null,this[t[1]][s[0]]=new i(e,r)):void 0},e.prototype.updateModels=function(e,t){var i,n,r,s,o;for(s=core.flattenObject(this.plugins),o=[],i=0,n=s.length;n>i;i++)r=s[i],o.push(this.addModel(e,r.model,r.attr,!1,t));return o},e.prototype.addModel=function(e,t,i,n,r){var s,o,a,l;for(a=e.querySelectorAll(i),s=0,o=a.length;o>s;s++)l=a[s],this.nameSpace(l,i,t,r);return e.querySelectorAll(i).length&&n?n():void 0},e.prototype.bindLazyLoad=function(){return"undefined"!=typeof echo&&null!==echo?(echo.init({offset:100,throttle:250,unload:!1}),this):void 0},e.prototype.bindSmoothScroll=function(){return"undefined"!=typeof smoothScroll&&null!==smoothScroll?smoothScroll.init({offset:0,updateURL:!1}):void 0},e.prototype.debounce=function(e){var t;return t=null,null!=t?t:t=new Debouncer(e)},e.prototype.doesVariableExist=function(e){var t,i,n,r;n=window.location.search.substring(1),r=n.split("&");for(t in r)if(i=r[t].split("="),decodeURIComponent(i[1])===e)return!0;return!1},e.prototype.doesQueryVariableExist=function(e){var t,i,n,r;n=window.location.search.substring(1),r=n.split("&");for(t in r)if(i=r[t].split("="),decodeURIComponent(i[0])===e)return!0;return!1},e.prototype.flatten=function(e){var t,i,n,r;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],t instanceof Array?i=i.concat(this.flatten(t)):i.push(t);return i},e.prototype.getKeys=function(e,t){var i,n;n=[];for(i in e)e.hasOwnProperty(i)&&("object"===e[i]?n=n.concat(this.getKeys(e[i],t)):e[i]===t&&n.push(i));return n},e.prototype.getQueryVariable=function(e){var t,i,n;return t=window.location.search.substring(1),n=t.split("&"),i=n.filter(function(t){var i;return i=t.split("="),decodeURIComponent(i[0])===e?decodeURIComponent(i[1]):void 0})},e.prototype.isElementInView=function(e){var t;return e instanceof jQuery&&(e=e.get(0)),t=e.getBoundingClientRect(),(Math.abs(t.left)>=0&&Math.abs(t.top))<=(window.innerHeight||document.documentElement.clientHeight)},e.prototype.isMobile=function(){var e;return e=/(Android|iPhone|iPad|iPod|IEMobile)/g.test(navigator.userAgent)},e.prototype.last=function(e,t){return e[e.length-(t||0)-1]},e.prototype.preCacheImgs=function(e){var t;return t=function(e){var t,i,n,r;for(t=0,n=[];t<e.length;)r=e[t],i=new Image,i.src=r,n.push(t++);return n},t(e),this},e.prototype.preCacheVideos=function(e){var t;return t=function(e){var t,i,n,r;for(t=0,i=[];t<e.length;)n=e[t],r=document.createElement("video"),r.src=n,i.push(t++);return i},t(e),this},e.prototype.toggleClass=function(e,t){var i,n;return e&&t?(e instanceof jQuery&&(e=e.get(0)),i=e.className,n=i.indexOf(t),-1===n?i+=" "+t:i=i.substr(0,n)+i.substr(n+t.length),e.className=i.trim(),this):this},e.prototype.hasClass=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},e.prototype.addClass=function(e,t){return this.hasClass(e,t)||(e.className+=" "+t),this},e.prototype.removeClass=function(e,t){var i;if(i=" "+e.className.replace(/[\t\r\n]/g," ")+" ",this.hasClass(e,t)){for(;i.indexOf(" "+t+" ")>=0;)i=i.replace(" "+t+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}return this},e.prototype.findAttr=function(e,t){var i,n,r,s;if(null!=e){for(n=this.flatten(e.attributes),r=0,s=n.length;s>r;r++)if(i=n[r],!i.name.indexOf(t))return{ele:e,attrName:i.name,attrVal:i.value};return this.findAttr(e.parentElement,t)}},e.prototype.truthful=function(e){var t,i,n,r;for(r=[],i=0,n=e.length;n>i;i++)t=e[i],t&&r.push(t);return r},e.prototype.flattenObject=function(e){var t,i;t=[];for(i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t},e.prototype.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},e}(),window.core=new NewSpringUtil,this.HandlebarsTemplates=this.HandlebarsTemplates||{},this.HandlebarsTemplates["dashboard-intro"]=Handlebars.template(function(e,t,i,n,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var s,o,a="",l="function",u=this.escapeExpression;return a+='<section class="dashboard--intro section--primary">\n  <div class="shell">\n    <div class="grid flush">\n      <div class="grid__item one-whole hard flush">\n        <h2>Hey ',(o=i.member)?s=o.call(t,{hash:{},data:r}):(o=t&&t.member,s=typeof o===l?o.call(t,{hash:{},data:r}):o),a+=u(s)+'!</h2>\n        <p>\n          Welcome to your Network Dashboard. Weâ€™re excited youâ€™ve joined! At the top are some new resources we thought you would enjoy and that may greatly benefit your ministry, and below is an entire resource archive for you to explore, download, and share.\n        </p>\n        <a class="btn" data-modal-close="DashboardIntro">I\'m Ready To Explore</a>\n\n      </div>\n    </div>\n  </div>\n</section>\n'}),this.HandlebarsTemplates.google_results=Handlebars.template(function(e,t,i,n,r){function s(e,t){var i,n="";return n+='\n   <div data-search-link="masthead">\n\n     <h3>Are you looking for\n       <strong>'+b((i=e&&e[0],i=null==i||i===!1?i:i.spelling,i=null==i||i===!1?i:i.correctedQuery,typeof i===y?i.apply(e):i))+"?</strong>\n      </h3>\n\n   </div>\n    "}function o(e,t){var i,n="";return n+='\n    <h3 class="flush">\n      <strong>'+b((i=e&&e[0],i=null==i||i===!1?i:i.pagination,i=null==i||i===!1?i:i.request,i=null==i||i===!1?i:i[0],i=null==i||i===!1?i:i.totalResults,typeof i===y?i.apply(e):i))+"</strong>\n      results for\n     <strong>"+b((i=e&&e[0],i=null==i||i===!1?i:i.pagination,i=null==i||i===!1?i:i.request,i=null==i||i===!1?i:i[0],i=null==i||i===!1?i:i.searchTerms,typeof i===y?i.apply(e):i))+"!</strong>\n    </h3>\n   "}function a(e,t){var n,r,s,o="";return o+='\n        <div class="grid flush">\n          <div class="grid__item card hard">\n          ',n=i["if"].call(e,e&&e.image,{hash:{},inverse:_.noop,fn:_.program(6,l,t),data:t}),(n||0===n)&&(o+=n),o+='<!--\n            --><div class="grid__item one-whole ',n=i["if"].call(e,e&&e.image,{hash:{},inverse:_.noop,fn:_.program(8,u,t),data:t}),(n||0===n)&&(o+=n),o+=' hard flush">\n               <div class="card flush">\n                  <h3 class="flush"><a href="',(r=i.sslUrl)?n=r.call(e,{hash:{},data:t}):(r=e&&e.sslUrl,n=typeof r===y?r.call(e,{hash:{},data:t}):r),o+=b(n)+'" class="dark">',(r=i.title)?n=r.call(e,{hash:{},data:t}):(r=e&&e.title,n=typeof r===y?r.call(e,{hash:{},data:t}):r),o+=b(n)+"</a></h3>\n                 <small>",r=i.protocolLess||e&&e.protocolLess,s={hash:{},data:t},n=r?r.call(e,e&&e.sslUrl,s):w.call(e,"protocolLess",e&&e.sslUrl,s),(n||0===n)&&(o+=n),o+="</small>\n                  <p>\n                   ",(r=i.description)?n=r.call(e,{hash:{},data:t}):(r=e&&e.description,n=typeof r===y?r.call(e,{hash:{},data:t}):r),o+=b(n)+' <a href="',(r=i.sslUrl)?n=r.call(e,{hash:{},data:t}):(r=e&&e.sslUrl,n=typeof r===y?r.call(e,{hash:{},data:t}):r),o+=b(n)+'" class="link--arrow flush">Read More</a>\n                 </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      '}function l(e,t){var n,r,s="";return s+='\n            <div class="grid__item hard flush one-whole lap-and-up-one-sixth">\n              <a href="',(r=i.sslUrl)?n=r.call(e,{hash:{},data:t}):(r=e&&e.sslUrl,n=typeof r===y?r.call(e,{hash:{},data:t}):r),s+=b(n)+'" class="image ratio--square flush background--fill" style="background-image: url('+b((n=e&&e.image,n=null==n||n===!1?n:n.src,typeof n===y?n.apply(e):n))+');">\n             </a>\n\n            </div>'}function u(e,t){return"lap-and-up-five-sixths"}function d(e,t){var n,r,s,o="";return o+='\n             <p>\n               <a href="',(r=i.sslUrl)?n=r.call(e,{hash:{},data:t}):(r=e&&e.sslUrl,n=typeof r===y?r.call(e,{hash:{},data:t}):r),o+=b(n)+'" class="dark">',(r=i.title)?n=r.call(e,{hash:{},data:t}):(r=e&&e.title,n=typeof r===y?r.call(e,{hash:{},data:t}):r),o+=b(n)+"</a>\n                <small>\n                 ",r=i.justSite||e&&e.justSite,s={hash:{},data:t},n=r?r.call(e,e&&e.sslUrl,s):w.call(e,"justSite",e&&e.sslUrl,s),(n||0===n)&&(o+=n),o+="\n               </small>\n              </p>\n\n            "}function c(e,t){var n,r="";return r+='<!--\n      --><div class="grid__item one-whole centered">\n          <div class="tiles tiles--horizontal outlined">\n          <div class="tile__item icon icon--small ',n=i["if"].call(e,(n=e&&e[0],n=null==n||n===!1?n:n.pagination,null==n||n===!1?n:n.previousPage),{hash:{},inverse:_.noop,fn:_.program(13,p,t),data:t}),(n||0===n)&&(r+=n),r+='" ',n=i["if"].call(e,(n=e&&e[0],n=null==n||n===!1?n:n.pagination,null==n||n===!1?n:n.previousPage),{hash:{},inverse:_.noop,fn:_.program(15,h,t),data:t}),(n||0===n)&&(r+=n),r+='></div><!--\n         --><div class="tile__item icon icon--small ',n=i["if"].call(e,(n=e&&e[0],n=null==n||n===!1?n:n.pagination,null==n||n===!1?n:n.nextPage),{hash:{},inverse:_.noop,fn:_.program(17,f,t),data:t}),(n||0===n)&&(r+=n),r+='" ',n=i["if"].call(e,(n=e&&e[0],n=null==n||n===!1?n:n.pagination,null==n||n===!1?n:n.nextPage),{hash:{},inverse:_.noop,fn:_.program(19,m,t),data:t}),(n||0===n)&&(r+=n),r+="></div>\n      </div>"}function p(e,t){return"icon--arrow-left"}function h(e,t){return"data-search-previous"}function f(e,t){return"icon--arrow-right"}function m(e,t){return"data-search-next"}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var g,v="",y="function",b=this.escapeExpression,_=this,w=i.helperMissing;return v+='\n\n<section class="section--condensed flush">\n  <div class="shell">\n   ',g=i["if"].call(t,(g=t&&t[0],g=null==g||g===!1?g:g.spelling,null==g||g===!1?g:g.correctedQuery),{hash:{},inverse:_.program(3,o,r),fn:_.program(1,s,r),data:r}),(g||0===g)&&(v+=g),v+='\n </div>\n</section>\n\n\n<section class="section--grey section--condensed">\n\n  <div class="shell">\n   <div class="grid">\n      <div class="grid__item two-thirds portable-one-whole palm-wide-one-whole palm-one-whole">\n     ',g=i.each.call(t,(g=t&&t[0],null==g||g===!1?g:g.items),{hash:{},inverse:_.noop,fn:_.program(5,a,r),data:r}),(g||0===g)&&(v+=g),v+='\n      </div><!--\n\n      --><div class="grid__item one-third portable-one-whole palm-wide-one-whole palm-one-whole"><!--\n       --><div class="grid__item flush hard one-whole">\n          <div class="card">\n            <h4>On our other sites</h4>\n           ',g=i.each.call(t,(g=t&&t[1],null==g||g===!1?g:g.items),{hash:{},inverse:_.noop,fn:_.program(10,d,r),data:r}),(g||0===g)&&(v+=g),v+="\n         </div>\n        </div>\n      </div>",g=i["if"].call(t,(g=t&&t[0],g=null==g||g===!1?g:g.pagination,null==g||g===!1?g:g.nextPage),{hash:{},inverse:_.noop,fn:_.program(12,c,r),data:r}),(g||0===g)&&(v+=g),v+='<!--\n      --><div class="grid__item one-whole centered">\n        <small class="soft-half">Results powered by <span class="google-logo background--fill"></span></small>\n      </div>\n\n    </div>\n  </div>\n\n\n</section>\n'}),this.HandlebarsTemplates.google_results_perrynoble=Handlebars.template(function(e,t,i,n,r){function s(e,t){var n,r,s="";return s+='<div class="result-item grid__item one-whole flush">\n     <h3><a href="',(r=i.sslUrl)?n=r.call(e,{hash:{},data:t}):(r=e&&e.sslUrl,n=typeof r===c?r.call(e,{hash:{},data:t}):r),s+=p(n)+'" class="dark">',(r=i.title)?n=r.call(e,{hash:{},data:t}):(r=e&&e.title,n=typeof r===c?r.call(e,{hash:{},data:t}):r),s+=p(n)+"</a></h3>\n     <p>",(r=i.description)?n=r.call(e,{hash:{},data:t}):(r=e&&e.description,n=typeof r===c?r.call(e,{hash:{},data:t}):r),s+=p(n)+'</p>\n      <p class="flush"><a href="',(r=i.sslUrl)?n=r.call(e,{hash:{},data:t}):(r=e&&e.sslUrl,n=typeof r===c?r.call(e,{hash:{},data:t}):r),s+=p(n)+'" class="link--arrow flush">Read More</a></p>\n    </div>'}function o(e,t){var n,r="";return r+='<div class="grid floating floating--right flush">\n ',n=i["if"].call(e,(n=e&&e[0],n=null==n||n===!1?n:n.pagination,null==n||n===!1?n:n.previousPage),{hash:{},inverse:h.noop,fn:h.program(4,a,t),data:t}),(n||0===n)&&(r+=n),n=i["if"].call(e,(n=e&&e[0],n=null==n||n===!1?n:n.pagination,null==n||n===!1?n:n.nextPage),{hash:{},inverse:h.noop,fn:h.program(6,l,t),data:t}),(n||0===n)&&(r+=n),r+="\n</div>"}function a(e,t){return'<div class="grid__item one-half flush hard">\n   <a href="#search-bar" class="block btn btn--filled btn--paginate btn--paginate-prev flush" data-search-previous data-scroll><i class="fa fa-caret-left"></i>&nbsp; Prev</a>\n </div>'}function l(e,t){return'<div class="grid__item one-half flush hard">\n   <a href="#search-bar" class="block btn btn--filled btn--paginate btn--paginate-next flush" data-search-next data-scroll>Next &nbsp;<i class="fa fa-caret-right"></i></a>\n  </div>'}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var u,d="",c="function",p=this.escapeExpression,h=this;return d+='\n\n<div class="shell hard">\n <div class="grid flush">\n    ',u=i.each.call(t,(u=t&&t[0],null==u||u===!1?u:u.items),{hash:{},inverse:h.noop,fn:h.program(1,s,r),data:r}),(u||0===u)&&(d+=u),d+="\n</div>\n\n",u=i["if"].call(t,(u=t&&t[0],u=null==u||u===!1?u:u.pagination,null==u||u===!1?u:u.nextPage),{hash:{},inverse:h.noop,fn:h.program(3,o,r),data:r}),(u||0===u)&&(d+=u),d+='\n\n<div class="shell soft-half">\n  <div class="grid flush">\n    <div class="grid__item one-whole centered hard flush">\n      <small class="flush">Results powered by</small><br>\n     <span class="google-logo background--fill"></span>\n    </div>\n  </div>\n</div>\n\n</section>\n'}),this.HandlebarsTemplates["jobs-subscribe"]=Handlebars.template(function(e,t,i,n,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var s,o,a="",l="function",u=this.escapeExpression;return a+='<div class="icon icon--close-modal fa fw fa-times" data-modal-close="jobs-subscribe"></div>\n\n\n<section>\n <div class="shell">\n   <div class="grid">\n      <div class="text--constrained">\n       <div class="grid__item one-whole centered">\n         <h2>',
(o=i.title)?s=o.call(t,{hash:{},data:r}):(o=t&&t.title,s=typeof o===l?o.call(t,{hash:{},data:r}):o),a+=u(s)+' Jobs</h2>\n         <h3>Sign Up for Notifications</h3>\n        </div><div class="grid__item one-whole">\n          <form action="https://feedpress.it/e/mailverify" method="post" target="popupwindow" onsubmit="window.open(\'https://feedpress.it/e/mailverify?feed_id=jobs-',(o=i.url_title)?s=o.call(t,{hash:{},data:r}):(o=t&&t.url_title,s=typeof o===l?o.call(t,{hash:{},data:r}):o),a+=u(s)+'\', \'popupwindow\',\'scrollbars=yes,width=550,height=400\');return true">\n\n            <p>\n             <label for="email">E-Mail Address:</label>\n              <input type="text" name="email" placeholder="Email Address"/>\n           </p>\n\n            <input type="hidden" value="jobs-',(o=i.url_title)?s=o.call(t,{hash:{},data:r}):(o=t&&t.url_title,s=typeof o===l?o.call(t,{hash:{},data:r}):o),a+=u(s)+'" name="feed_id"/>\n\n            <input type="submit" value="Subscribe" class="submit ready btn btn--corners btn--filled"/>\n          </form>   \n        </div>\n      </div>\n    </div>\n  </div>\n</section>'}),this.HandlebarsTemplates.loading=Handlebars.template(function(e,t,i,n,r){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},'<section style="position: absolute; top: 0; bottom: 0; left: 0; right: 0;">\n  <div class="floating" style="height: 100%" >\n    <div class="floating__item">\n      <h1>Loading Icon Here</h1>\n    </div>\n  </div>\n</section>\n'}),this.HandlebarsTemplates.locations_popup=Handlebars.template(function(e,t,i,n,r){function s(e,t){var n,r="";return r+='\n    <h6 class="push-quarter--bottom gray">Coming Soon</h6>\n    ',n=i["if"].call(e,e&&e.type,{hash:{},inverse:C.noop,fn:C.program(2,o,t),data:t}),(n||0===n)&&(r+=n),r+="\n   ",n=i["if"].call(e,e&&e.launch,{hash:{},inverse:C.noop,fn:C.program(4,a,t),data:t}),(n||0===n)&&(r+=n),r+="\n   ",n=i["if"].call(e,e&&e.phones,{hash:{},inverse:C.noop,fn:C.program(6,l,t),data:t}),(n||0===n)&&(r+=n),r+="\n\n </div>\n  "}function o(e,t){return'\n     <h6 class="color--info caps">House Campus</h6>\n      <small>House Campuses are where groups of people meet together in homes as the church instead of a larger, central facility.</small>\n    '}function a(e,t){var n,r,s="";return s+='\n      <h6 class="flush">Launch Date</h6>\n      <small>',(r=i.launch)?n=r.call(e,{hash:{},data:t}):(r=e&&e.launch,n=typeof r===_?r.call(e,{hash:{},data:t}):r),s+=w(n)+"</small>\n    "}function l(e,t){var n,r,s="";return s+='\n      <h6 class="flush">Contact</h6>\n      <small>',(r=i.phones)?n=r.call(e,{hash:{},data:t}):(r=e&&e.phones,n=typeof r===_?r.call(e,{hash:{},data:t}):r),s+=w(n)+'<br><a href="mailto:',(r=i.email)?n=r.call(e,{hash:{},data:t}):(r=e&&e.email,n=typeof r===_?r.call(e,{hash:{},data:t}):r),s+=w(n)+'">',(r=i.email)?n=r.call(e,{hash:{},data:t}):(r=e&&e.email,n=typeof r===_?r.call(e,{hash:{},data:t}):r),s+=w(n)+"</a></small>\n    "}function u(e,t){var n,r,s="";return s+="\n    ",n=i["if"].call(e,e&&e.type,{hash:{},inverse:C.program(9,d,t),fn:C.program(2,o,t),data:t}),(n||0===n)&&(s+=n),s+="\n   ",n=i["if"].call(e,e&&e.services,{hash:{},inverse:C.noop,fn:C.program(19,g,t),data:t}),(n||0===n)&&(s+=n),s+="\n    ",n=i["if"].call(e,e&&e.phones,{hash:{},inverse:C.noop,fn:C.program(6,l,t),data:t}),(n||0===n)&&(s+=n),s+='\n </div>\n    <a href="',(r=i.url)?n=r.call(e,{hash:{},data:t}):(r=e&&e.url,n=typeof r===_?r.call(e,{hash:{},data:t}):r),s+=w(n)+'" class="btn btn--square">More Details</a>\n  '}function d(e,t){var n,r="";return r+='\n      <h6 class="flush">Address</h6>\n      <small>',n=i["if"].call(e,(n=e&&e.location,null==n||n===!1?n:n.name),{hash:{},inverse:C.noop,fn:C.program(10,c,t),data:t}),(n||0===n)&&(r+=n),r+="\n        ",n=i["if"].call(e,(n=e&&e.location,null==n||n===!1?n:n.street1),{hash:{},inverse:C.noop,fn:C.program(12,p,t),data:t}),(n||0===n)&&(r+=n),r+="\n        ",n=i["if"].call(e,(n=e&&e.location,null==n||n===!1?n:n.street2),{hash:{},inverse:C.noop,fn:C.program(15,f,t),data:t}),(n||0===n)&&(r+=n),r+="<br>\n        "+w((n=e&&e.location,n=null==n||n===!1?n:n.city,typeof n===_?n.apply(e):n))+", "+w((n=e&&e.location,n=null==n||n===!1?n:n.state,typeof n===_?n.apply(e):n))+" "+w((n=e&&e.location,n=null==n||n===!1?n:n.zip,typeof n===_?n.apply(e):n)),n=i["if"].call(e,e&&e.directions,{hash:{},inverse:C.noop,fn:C.program(17,m,t),data:t}),(n||0===n)&&(r+=n),r+="</small>\n   "}function c(e,t){var i,n="";return n+=w((i=e&&e.location,i=null==i||i===!1?i:i.name,typeof i===_?i.apply(e):i))+"<br>"}function p(e,t){var n,r="";return r+=w((n=e&&e.location,n=null==n||n===!1?n:n.street1,typeof n===_?n.apply(e):n)),n=i["if"].call(e,(n=e&&e.location,null==n||n===!1?n:n.street2),{hash:{},inverse:C.noop,fn:C.program(13,h,t),data:t}),(n||0===n)&&(r+=n),r}function h(e,t){return"<br>"}function f(e,t){var i;return w((i=e&&e.location,i=null==i||i===!1?i:i.street2,typeof i===_?i.apply(e):i))}function m(e,t){var n,r,s="";return s+='<br><a href="',(r=i.directions)?n=r.call(e,{hash:{},data:t}):(r=e&&e.directions,n=typeof r===_?r.call(e,{hash:{},data:t}):r),s+=w(n)+'">Get Directions</a>'}function g(e,t){var n,r,s="";return s+='\n     <h6 class="flush">Services</h6>\n     <small>',(r=i.services)?n=r.call(e,{hash:{},data:t}):(r=e&&e.services,n=typeof r===_?r.call(e,{hash:{},data:t}):r),s+=w(n)+"</small>\n    "}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var v,y,b="",_="function",w=this.escapeExpression,C=this;return b+='<div class="map-tooltip-wrapper">\n  <div class="map-tooltip">\n   <h5>',(y=i.campus)?v=y.call(t,{hash:{},data:r}):(y=t&&t.campus,v=typeof y===_?y.call(t,{hash:{},data:r}):y),b+=w(v)+", "+w((v=t&&t.location,v=null==v||v===!1?v:v.state,typeof v===_?v.apply(t):v))+"</h5>\n  ",v=i["if"].call(t,t&&t.status,{hash:{},inverse:C.program(8,u,r),fn:C.program(1,s,r),data:r}),(v||0===v)&&(b+=v),b+="\n</div>\n"}),this.HandlebarsTemplates.login=Handlebars.template(function(e,t,i,n,r){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},'<section>\n  <div class="shell">\n    <div class="grid centered">\n      <div class="grid__item one-half hard flush left">\n        {exp:zoo_visitor:login_form retrn="/dashboard" error_handling="inline"}\n\n        <fieldset>\n          <legend>Sign In</legend>\n\n            <p{if error:username} class="error"{/if}>\n              <label for="email">Email</label>\n              <input type="text" name="username" id="username" placeholder="slimer@ghostbusters.guru" data-parsley-error-message="A username is required." required>\n              {if error:username}\n              <span class="form--error">\n                {error:username}\n              </span>\n              {/if}\n            </p>\n\n            <p{if error:password} class="error"{/if}>\n              <label for="password">Password</label>\n              <input type="password" name="password" id="password" placeholder="MakinBaconPancakes" required>\n              {if error:password}\n              <span class="form--error">\n                {error:password}\n              </span>\n              {/if}\n            </p>\n\n            {if auto_login}\n            <p>\n              <label for="remember_me">Remember me?</label>\n              <input class=\'checkbox\' type=\'checkbox\' name=\'auto_login\' value=\'1\'  />\n            </p>\n            {/if}\n        </fieldset>\n        <button type="submit" name="submit" class="ready">Log In</button>\n        <h6>Don\'t have an account?  <a href="/signup">Sign Up.</a>  It\'s free!</h6>\n\n        {/exp:zoo_visitor:login_form}\n      </div>\n    </div>\n  </div>\n</section>'}),this.HandlebarsTemplates.mobileNav=Handlebars.template(function(e,t,i,n,r){function s(e,t){var n,r,s="";return s+='\n    <li class="',(r=i["class"])?n=r.call(e,{hash:{},data:t}):(r=e&&e["class"],n=typeof r===f?r.call(e,{hash:{},data:t}):r),s+=m(n)+'" >\n      <a href="',(r=i.link)?n=r.call(e,{hash:{},data:t}):(r=e&&e.link,n=typeof r===f?r.call(e,{hash:{},data:t}):r),s+=m(n)+'" class="',(r=i.childClass)?n=r.call(e,{hash:{},data:t}):(r=e&&e.childClass,n=typeof r===f?r.call(e,{hash:{},data:t}):r),s+=m(n)+'" ',n=i["if"].call(e,e&&e.rel,{hash:{},inverse:g.noop,fn:g.program(2,o,t),data:t}),(n||0===n)&&(s+=n),s+="\n        ",n=i["if"].call(e,e&&e.data,{hash:{},inverse:g.noop,fn:g.program(4,a,t),data:t}),(n||0===n)&&(s+=n),s+="\n        ",n=i["if"].call(e,e&&e.trigger,{hash:{},inverse:g.noop,fn:g.program(7,u,t),data:t}),(n||0===n)&&(s+=n),s+=">",(r=i.text)?n=r.call(e,{hash:{},data:t}):(r=e&&e.text,n=typeof r===f?r.call(e,{hash:{},data:t}):r),s+=m(n)+"</a>\n      ",n=i["if"].call(e,e&&e.children,{hash:{},inverse:g.noop,fn:g.program(9,d,t),data:t}),(n||0===n)&&(s+=n),s+="\n    </li>\n    "}function o(e,t){var n,r,s="";return s+='data-modal-open="',(r=i.rel)?n=r.call(e,{hash:{},data:t}):(r=e&&e.rel,n=typeof r===f?r.call(e,{hash:{},data:t}):r),s+=m(n)+'"'}function a(e,t){var n,r="";return r+="\n          data-"+m((n=e&&e.data,n=null==n||n===!1?n:n.attr,typeof n===f?n.apply(e):n))+'="',n=i.each.call(e,(n=e&&e.data,null==n||n===!1?n:n.val),{hash:{},inverse:g.noop,fn:g.program(5,l,t),data:t}),(n||0===n)&&(r+=n),r+='"\n        '}function l(e,t){var n,r,s="";return(r=i.val)?n=r.call(e,{hash:{},data:t}):(r=e&&e.val,n=typeof r===f?r.call(e,{hash:{},data:t}):r),s+=m(n)+","}function u(e,t){var n,r,s="";return(r=i.trigger)?n=r.call(e,{hash:{},data:t}):(r=e&&e.trigger,n=typeof r===f?r.call(e,{hash:{},data:t}):r),s+=m(n)+'="mobileNav"'}function d(e,t){var n,r="";return r+="\n      <ul>\n        ",n=i.each.call(e,e&&e.children,{hash:{},inverse:g.noop,fn:g.program(10,c,t),data:t}),(n||0===n)&&(r+=n),r+="\n      </ul>\n      "}function c(e,t){var n,r,s="";return s+='\n          <li class="',(r=i["class"])?n=r.call(e,{hash:{},data:t}):(r=e&&e["class"],n=typeof r===f?r.call(e,{hash:{},data:t}):r),s+=m(n)+'" >\n            <a href="',(r=i.link)?n=r.call(e,{hash:{},data:t}):(r=e&&e.link,n=typeof r===f?r.call(e,{hash:{},data:t}):r),s+=m(n)+'" class="',(r=i["class"])?n=r.call(e,{hash:{},data:t}):(r=e&&e["class"],n=typeof r===f?r.call(e,{hash:{},data:t}):r),s+=m(n)+'" ',n=i["if"].call(e,e&&e.rel,{hash:{},inverse:g.noop,fn:g.program(2,o,t),data:t}),(n||0===n)&&(s+=n),s+=">",(r=i.text)?n=r.call(e,{hash:{},data:t}):(r=e&&e.text,n=typeof r===f?r.call(e,{hash:{},data:t}):r),s+=m(n)+"</a>\n          </li>\n        "}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var p,h="",f="function",m=this.escapeExpression,g=this;return h+='<div class="mobile-nav-container" data-modal="mobileNav">\n\n\n  <a href="/" class="logo floating floating__item ">\n      <div class="newspring--icon floating__item"></div>\n  </a>\n\n  <div class="close icon fa fw fa-times visuallyhidden--desk-and-up"\n    data-modal-close="mobileNav">\n  </div>\n\n  <ul class="nav nav--primary accordion mobile-nav" data-accordion="mobileNav">\n    <li class="" >\n      <a href="/" >Home</a>\n    </li>\n    ',p=i.each.call(t,t&&t.nav,{hash:{},inverse:g.noop,fn:g.program(1,s,r),data:r}),(p||0===p)&&(h+=p),h+="\n  </ul>\n\n</div>\n"}),this.HandlebarsTemplates["search-modal"]=Handlebars.template(function(e,t,i,n,r){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},'<section>\n <div class="shell hard">\n    <div class="masthead-wrapper">\n      <div class="search-container" >\n       <span data-google-search-close="search-modal" data-modal-close="search-modal" class="icon icon--large fa fw fa-times"></span>\n\n       <span data-google-search-trigger="search-modal" class=" visuallyhidden--lap-wide-and-down icon icon--large fa fw fa-search"></span>\n       <input id="search-bar"\n          type="text"\n         placeholder="Search"\n          data-google-search=\'search-modal\'\n         data-google-search-autocomplete=\'[{"general": "tag", "data" : "/_objects/search-tags"},{"promos" : "promo", "data" : "/_objects/search-promotions"}]\'>\n\n        <div class="search-results" data-google-search-results="search-modal">\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n</section>\n'}),this.HandlebarsTemplates.search_general=Handlebars.template(function(e,t,i,n,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var s,o,a="",l="function",u=this.escapeExpression;return a+='\n  <a class="tag btn btn--corners" onclick="return false">\n    ',(o=i.tag)?s=o.call(t,{hash:{},data:r}):(o=t&&t.tag,s=typeof o===l?o.call(t,{hash:{},data:r}):o),a+=u(s)+"\n  </a>\n"}),this.HandlebarsTemplates.search_promos=Handlebars.template(function(e,t,i,n,r){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{};var s,o,a="",l="function",u=this.escapeExpression;return a+='\n  <a class="promo btn tag btn--corners" onclick="return false" >\n    ',(o=i.promo)?s=o.call(t,{hash:{},data:r}):(o=t&&t.promo,s=typeof o===l?o.call(t,{hash:{},data:r}):o),a+=u(s)+"\n  </a>\n"}),this.HandlebarsTemplates.share=Handlebars.template(function(e,t,i,n,r){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},'<div class="share-menu" id="share">\n <div class="rounded"></div>\n <a id="email-share-button" data-share-button="email" href="#" class="share-link share-link-email"><span class="fa fa-envelope fa-lg icon icon--small"></span></a>\n <a id="twitter-share-button" data-share-button="tweet" href="#" class="share-link share-link-twitter"><span class="fa fa-twitter fa-lg icon icon--small"></span></a>\n  <div class="rounded"></div>\n <!-- <div class="arrows"></div> -->\n</div>\n'}),this.HandlebarsTemplates.videoPlayer=Handlebars.template(function(e,t,i,n,r){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),r=r||{},'\n<div id="player--ooyala"></div>\n<!-- <div class="fa-icon fa-icon--close fa-icon--filled fa fa-times" data-modal-close="videoPlayer"></div> -->\n<div class="icon icon--close-modal fa fw fa-times" data-modal-close="videoPlayer"></div>\n'}),function(e,t,i){var n=function(){for(var e=new RegExp("audio(.min)?.js.*"),t=document.getElementsByTagName("script"),i=0,n=t.length;n>i;i++){var r=t[i].getAttribute("src");if(e.test(r))return r.replace(e,"")}}();i[e]={instanceCount:0,instances:{},flashSource:'      <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="$1" width="1" height="1" name="$1" style="position: absolute; left: -1px;">         <param name="movie" value="$2?playerInstance='+e+'.instances[\'$1\']&datetime=$3">         <param name="allowscriptaccess" value="always">         <embed name="$1" src="$2?playerInstance='+e+'.instances[\'$1\']&datetime=$3" width="1" height="1" allowscriptaccess="always">       </object>',settings:{autoplay:!1,loop:!1,preload:!0,imageLocation:n+"player-graphics.gif",swfLocation:n+"audiojs.swf",useFlash:function(){var e=document.createElement("audio");return!(e.canPlayType&&e.canPlayType("audio/mpeg;").replace(/no/,""))}(),hasFlash:function(){if(navigator.plugins&&navigator.plugins.length&&navigator.plugins["Shockwave Flash"])return!0;if(navigator.mimeTypes&&navigator.mimeTypes.length){var e=navigator.mimeTypes["application/x-shockwave-flash"];return e&&e.enabledPlugin}try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return!0}catch(t){}return!1}(),createPlayer:{markup:'          <div class="play-pause">             <p class="play"></p>             <p class="pause"></p>             <p class="loading"></p>             <p class="error"></p>           </div>           <div class="scrubber">             <div class="progress"></div>             <div class="loaded"></div>           </div>           <div class="time">             <em class="played">00:00</em>/<strong class="duration">00:00</strong>           </div>           <div class="error-message"></div>',playPauseClass:"play-pause",scrubberClass:"scrubber",progressClass:"progress",loaderClass:"loaded",timeClass:"time",durationClass:"duration",playedClass:"played",errorMessageClass:"error-message",playingClass:"playing",loadingClass:"loading",errorClass:"error"},css:'        .audiojs audio { position: absolute; left: -1px; }         .audiojs { width: 460px; height: 36px; background: #404040; overflow: hidden; font-family: monospace; font-size: 12px;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #444), color-stop(0.5, #555), color-stop(0.51, #444), color-stop(1, #444));           background-image: -moz-linear-gradient(center top, #444 0%, #555 50%, #444 51%, #444 100%);           -webkit-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); -moz-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3);           -o-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); }         .audiojs .play-pause { width: 25px; height: 40px; padding: 4px 6px; margin: 0px; float: left; overflow: hidden; border-right: 1px solid #000; }         .audiojs p { display: none; width: 25px; height: 40px; margin: 0px; cursor: pointer; }         .audiojs .play { display: block; }         .audiojs .scrubber { position: relative; float: left; width: 280px; background: #5a5a5a; height: 14px; margin: 10px; border-top: 1px solid #3f3f3f; border-left: 0px; border-bottom: 0px; overflow: hidden; }         .audiojs .progress { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #ccc; z-index: 1;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #ccc), color-stop(0.5, #ddd), color-stop(0.51, #ccc), color-stop(1, #ccc));           background-image: -moz-linear-gradient(center top, #ccc 0%, #ddd 50%, #ccc 51%, #ccc 100%); }         .audiojs .loaded { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #000;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #222), color-stop(0.5, #333), color-stop(0.51, #222), color-stop(1, #222));           background-image: -moz-linear-gradient(center top, #222 0%, #333 50%, #222 51%, #222 100%); }         .audiojs .time { float: left; height: 36px; line-height: 36px; margin: 0px 0px 0px 6px; padding: 0px 6px 0px 12px; border-left: 1px solid #000; color: #ddd; text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5); }         .audiojs .time em { padding: 0px 2px 0px 0px; color: #f9f9f9; font-style: normal; }         .audiojs .time strong { padding: 0px 0px 0px 2px; font-weight: normal; }         .audiojs .error-message { float: left; display: none; margin: 0px 10px; height: 36px; width: 400px; overflow: hidden; line-height: 36px; white-space: nowrap; color: #fff;           text-overflow: ellipsis; -o-text-overflow: ellipsis; -icab-text-overflow: ellipsis; -khtml-text-overflow: ellipsis; -moz-text-overflow: ellipsis; -webkit-text-overflow: ellipsis; }         .audiojs .error-message a { color: #eee; text-decoration: none; padding-bottom: 1px; border-bottom: 1px solid #999; white-space: wrap; }                 .audiojs .play { background: url("$1") -2px -1px no-repeat; }         .audiojs .loading { background: url("$1") -2px -31px no-repeat; }         .audiojs .error { background: url("$1") -2px -61px no-repeat; }         .audiojs .pause { background: url("$1") -2px -91px no-repeat; }                 .playing .play, .playing .loading, .playing .error { display: none; }         .playing .pause { display: block; }                 .loading .play, .loading .pause, .loading .error { display: none; }         .loading .loading { display: block; }                 .error .time, .error .play, .error .pause, .error .scrubber, .error .loading { display: none; }         .error .error { display: block; }         .error .play-pause p { cursor: auto; }         .error .error-message { display: block; }',trackEnded:function(e){},flashError:function(){var t=this.settings.createPlayer,n=r(t.errorMessageClass,this.wrapper),s='Missing <a href="http://get.adobe.com/flashplayer/">flash player</a> plugin.';this.mp3&&(s+=' <a href="'+this.mp3+'">Download audio file</a>.'),i[e].helpers.removeClass(this.wrapper,t.loadingClass),i[e].helpers.addClass(this.wrapper,t.errorClass),n.innerHTML=s},loadError:function(t){var n=this.settings.createPlayer,s=r(n.errorMessageClass,this.wrapper);i[e].helpers.removeClass(this.wrapper,n.loadingClass),i[e].helpers.addClass(this.wrapper,n.errorClass),s.innerHTML='Error loading: "'+this.mp3+'"'},init:function(){var t=this.settings.createPlayer;i[e].helpers.addClass(this.wrapper,t.loadingClass)},loadStarted:function(){var t=this.settings.createPlayer,n=r(t.durationClass,this.wrapper),s=Math.floor(this.duration/60),o=Math.floor(this.duration%60);i[e].helpers.removeClass(this.wrapper,t.loadingClass),n.innerHTML=(10>s?"0":"")+s+":"+(10>o?"0":"")+o},loadProgress:function(e){var t=this.settings.createPlayer,i=r(t.loaderClass,this.wrapper);i.style.width=100*e+"%"},playPause:function(){this.playing?this.settings.play():this.settings.pause()},play:function(){var t=this.settings.createPlayer;i[e].helpers.addClass(this.wrapper,t.playingClass)},pause:function(){var t=this.settings.createPlayer;i[e].helpers.removeClass(this.wrapper,t.playingClass)},updatePlayhead:function(e){var t=this.settings.createPlayer,i=r(t.progressClass,this.wrapper);i.style.width=100*e+"%";var n=r(t.playedClass,this.wrapper),s=this.duration*e,o=Math.floor(s/60),a=Math.floor(s%60);n.innerHTML=(10>o?"0":"")+o+":"+(10>a?"0":"")+a}},create:function(e,t){var t=t||{};return e.length?this.createAll(t,e):this.newInstance(e,t)},createAll:function(e,t){var i=t||document.getElementsByTagName("audio"),n=[];e=e||{};for(var r=0,s=i.length;s>r;r++)n.push(this.newInstance(i[r],e));return n},newInstance:function(e,n){var e=e,r=this.helpers.clone(this.settings),s="audiojs"+this.instanceCount,o="audiojs_wrapper"+this.instanceCount;this.instanceCount++;null!=e.getAttribute("autoplay")&&(r.autoplay=!0),null!=e.getAttribute("loop")&&(r.loop=!0),"none"==e.getAttribute("preload")&&(r.preload=!1),n&&this.helpers.merge(r,n),r.createPlayer.markup?e=this.createPlayer(e,r.createPlayer,o):e.parentNode.setAttribute("id",o);var a=new i[t](e,r);return r.css&&this.helpers.injectCss(a,r.css),r.useFlash&&r.hasFlash?(this.injectFlash(a,s),this.attachFlashEvents(a.wrapper,a)):r.useFlash&&!r.hasFlash&&this.settings.flashError.apply(a),(!r.useFlash||r.useFlash&&r.hasFlash)&&this.attachEvents(a.wrapper,a),this.instances[s]=a,a},createPlayer:function(e,t,i){var n=document.createElement("div"),r=e.cloneNode(!0);return n.setAttribute("class","audiojs"),n.setAttribute("className","audiojs"),n.setAttribute("id",i),r.outerHTML&&!document.createElement("audio").canPlayType?(r=this.helpers.cloneHtml5Node(e),n.innerHTML=t.markup,n.appendChild(r),e.outerHTML=n.outerHTML,n=document.getElementById(i)):(n.appendChild(r),n.innerHTML=n.innerHTML+t.markup,e.parentNode.replaceChild(n,e)),n.getElementsByTagName("audio")[0]},attachEvents:function(t,n){if(n.settings.createPlayer){var s=n.settings.createPlayer,o=r(s.playPauseClass,t),a=r(s.scrubberClass,t),l=function(e){var t=0;if(e.offsetParent)do t+=e.offsetLeft;while(e=e.offsetParent);return t};i[e].events.addListener(o,"click",function(e){n.playPause.apply(n)}),i[e].events.addListener(a,"click",function(e){var t=e.clientX-l(this);n.skipTo(t/a.offsetWidth)}),n.settings.useFlash||(i[e].events.trackLoadProgress(n),i[e].events.addListener(n.element,"timeupdate",function(e){n.updatePlayhead.apply(n)}),i[e].events.addListener(n.element,"ended",function(e){n.trackEnded.apply(n)}),i[e].events.addListener(n.source,"error",function(e){clearInterval(n.readyTimer),clearInterval(n.loadTimer),n.settings.loadError.apply(n)}))}},attachFlashEvents:function(e,t){t.swfReady=!1,t.load=function(e){t.mp3=e,t.swfReady&&t.element.load(e)},t.loadProgress=function(e,i){t.loadedPercent=e,t.duration=i,t.settings.loadStarted.apply(t),t.settings.loadProgress.apply(t,[e])},t.skipTo=function(e){e>t.loadedPercent||(t.updatePlayhead.call(t,[e]),t.element.skipTo(e))},t.updatePlayhead=function(e){t.settings.updatePlayhead.apply(t,[e])},t.play=function(){t.settings.preload||(t.settings.preload=!0,t.element.init(t.mp3)),t.playing=!0,t.element.pplay(),t.settings.play.apply(t)},t.pause=function(){t.playing=!1,t.element.ppause(),t.settings.pause.apply(t)},t.setVolume=function(e){t.element.setVolume(e)},t.loadStarted=function(){t.swfReady=!0,t.settings.preload&&t.element.init(t.mp3),t.settings.autoplay&&t.play.apply(t)}},injectFlash:function(e,t){var i=this.flashSource.replace(/\$1/g,t);i=i.replace(/\$2/g,e.settings.swfLocation),i=i.replace(/\$3/g,+new Date+Math.random());var n=e.wrapper.innerHTML,r=document.createElement("div");r.innerHTML=i+n,e.wrapper.innerHTML=r.innerHTML,e.element=this.helpers.getSwf(t)},helpers:{merge:function(e,t){for(attr in t)(e.hasOwnProperty(attr)||t.hasOwnProperty(attr))&&(e[attr]=t[attr])},clone:function(e){if(null==e||"object"!=typeof e)return e;var t=new e.constructor;for(var i in e)t[i]=arguments.callee(e[i]);return t},addClass:function(e,t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");i.test(e.className)||(e.className+=" "+t)},removeClass:function(e,t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ")},injectCss:function(e,t){for(var i="",n=document.getElementsByTagName("style"),r=t.replace(/\$1/g,e.settings.imageLocation),s=0,o=n.length;o>s;s++){var a=n[s].getAttribute("title");if(a&&~a.indexOf("audiojs")){if(d=n[s],d.innerHTML===r)return;i=d.innerHTML;break}}var l=document.getElementsByTagName("head")[0],u=l.firstChild,d=document.createElement("style");l&&(d.setAttribute("type","text/css"),d.setAttribute("title","audiojs"),d.styleSheet?d.styleSheet.cssText=i+r:d.appendChild(document.createTextNode(i+r)),u?l.insertBefore(d,u):l.appendChild(styleElement))},cloneHtml5Node:function(e){var t=document.createDocumentFragment(),i=t.createElement?t:document;i.createElement("audio");var n=i.createElement("div");return t.appendChild(n),n.innerHTML=e.outerHTML,n.firstChild},getSwf:function(e){var t=document[e]||window[e];return t.length>1?t[t.length-1]:t}},events:{memoryLeaking:!1,listeners:[],addListener:function(t,n,r){t.addEventListener?t.addEventListener(n,r,!1):t.attachEvent&&(this.listeners.push(t),this.memoryLeaking||(window.attachEvent("onunload",function(){if(this.listeners)for(var t=0,n=this.listeners.length;n>t;t++)i[e].events.purge(this.listeners[t])}),this.memoryLeaking=!0),t.attachEvent("on"+n,function(){r.call(t,window.event)}))},trackLoadProgress:function(e){if(e.settings.preload){var t,i,e=e,n=/(ipod|iphone|ipad)/i.test(navigator.userAgent);t=setInterval(function(){e.element.readyState>-1&&(n||e.init.apply(e)),e.element.readyState>1&&(e.settings.autoplay&&e.play.apply(e),clearInterval(t),i=setInterval(function(){e.loadProgress.apply(e),e.loadedPercent>=1&&clearInterval(i)},200))},200),e.readyTimer=t,e.loadTimer=i}},purge:function(e){var t,i=e.attributes;if(i)for(t=0;t<i.length;t+=1)"function"==typeof e[i[t].name]&&(e[i[t].name]=null);if(i=e.childNodes)for(t=0;t<i.length;t+=1)purge(e.childNodes[t])},ready:function(){return function(e){var t=window,i=!1,n=!0,r=t.document,s=r.documentElement,o=r.addEventListener?"addEventListener":"attachEvent",a=r.addEventListener?"removeEventListener":"detachEvent",l=r.addEventListener?"":"on",u=function(n){("readystatechange"!=n.type||"complete"==r.readyState)&&(("load"==n.type?t:r)[a](l+n.type,u,!1),!i&&(i=!0)&&e.call(t,n.type||n))},d=function(){try{s.doScroll("left")}catch(e){return void setTimeout(d,50)}u("poll")};if("complete"==r.readyState)e.call(t,"lazy");else{if(r.createEventObject&&s.doScroll){try{n=!t.frameElement}catch(c){}n&&d()}r[o](l+"DOMContentLoaded",u,!1),r[o](l+"readystatechange",u,!1),t[o](l+"load",u,!1)}}}()}},i[t]=function(e,t){this.element=e,this.wrapper=e.parentNode,this.source=e.getElementsByTagName("source")[0]||e,this.mp3=function(e){var t=e.getElementsByTagName("source")[0];return e.getAttribute("src")||(t?t.getAttribute("src"):null)}(e),this.settings=t,this.loadStartedCalled=!1,this.loadedPercent=0,this.duration=1,this.playing=!1},i[t].prototype={updatePlayhead:function(){var e=this.element.currentTime/this.duration;this.settings.updatePlayhead.apply(this,[e])},skipTo:function(e){e>this.loadedPercent||(this.element.currentTime=this.duration*e,this.updatePlayhead())},load:function(t){this.loadStartedCalled=!1,this.source.setAttribute("src",t),this.element.load(),this.mp3=t,i[e].events.trackLoadProgress(this)},loadError:function(){this.settings.loadError.apply(this)},init:function(){this.settings.init.apply(this)},loadStarted:function(){return this.element.duration?(this.duration=this.element.duration,this.updatePlayhead(),void this.settings.loadStarted.apply(this)):!1},loadProgress:function(){if(null!=this.element.buffered&&this.element.buffered.length){this.loadStartedCalled||(this.loadStartedCalled=this.loadStarted());var e=this.element.buffered.end(this.element.buffered.length-1);return this.loadedPercent=e/this.duration,this.settings.loadProgress.apply(this,[this.loadedPercent]),!0}},playPause:function(){this.playing?this.pause():this.play()},play:function(){var t=/(ipod|iphone|ipad)/i.test(navigator.userAgent);t&&0==this.element.readyState&&this.init.apply(this),this.settings.preload||(this.settings.preload=!0,this.element.setAttribute("preload","auto"),i[e].events.trackLoadProgress(this)),this.playing=!0,this.element.play(),this.settings.play.apply(this)},pause:function(){this.playing=!1,this.element.pause(),this.settings.pause.apply(this)},setVolume:function(e){this.element.volume=e},trackEnded:function(e){this.skipTo.apply(this,[0]),this.settings.loop||this.pause.apply(this),this.settings.trackEnded.apply(this)}};var r=function(e,t){var i=[];if(t=t||document,t.getElementsByClassName)i=t.getElementsByClassName(e);else{var n,r,s=t.getElementsByTagName("*"),o=new RegExp("(^|\\s)"+e+"(\\s|$)");for(n=0,r=s.length;r>n;n++)o.test(s[n].className)&&i.push(s[n])}return i.length>1?i:i[0]}}("audiojs","audiojsInstance",this);var Modal,onloadModal,onloadModalUrl,bind=function(e,t){return function(){return e.apply(t,arguments)}};Modal=function(){function e(e,t,i){var n,r;this.data=e,this.bindClose=bind(this.bindClose,this),this.bindOpen=bind(this.bindOpen,this),this.toggleModal=bind(this.toggleModal,this),this.createModal=bind(this.createModal,this),this.getModal=bind(this.getModal,this),this.data instanceof jQuery&&(this.data=this.data.get(0)),"string"!=typeof this.data?(r=this.data.attributes[t].value.split(","),r=r.map(function(e){return e.trim()}),n=r[0]):n=this.data,this._properties={_id:n,triggers:document.querySelectorAll("["+t+'*="'+n+'"]'),"class":null!=r?r[1]:void 0,preload:null!=r?r[2]:void 0},"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),(this._properties.preload||"preload"===i)&&this.getModal(),"string"!=typeof this.data&&this.bindOpen()}return e.prototype.getModal=function(e){var t,i,n,r;return r=document.querySelectorAll('[data-modal="'+this._properties._id+'"]')[0],r?(this._properties.inDOM=!0,null==this._properties.modal&&(this._properties.modal=r,this.bindClose())):(this._properties.inDOM=!1,i=Handlebars.getTemplate(this._properties._id),r=document.createElement("div"),null!=this._properties["class"]&&core.addClass(r,this._properties["class"]),core.addClass(r,"modal"),r.setAttribute("data-modal",this._properties._id),n={},null!=this._properties.triggers[0]&&this._properties.triggers[0].attributes["data-modal-content"]&&(n=JSON.parse(this._properties.triggers[0].attributes["data-modal-content"].value)),"function"==typeof i?(r.innerHTML=i(n),this.createModal(r)):(t=new XMLHttpRequest,t.onreadystatechange=function(i){return function(){return 4===t.readyState&&200===t.status?(r.innerHTML=t.response,i.createModal(r,e)):void 0}}(this),t.open("GET",this._properties._id,!1),t.send())),this},e.prototype.toggleClasses=function(e){var t,i;return core.toggleClass(e,"modal--active"),t=document.getElementsByTagName("html")[0],core.toggleClass(t,"modal--opened"),i=document.querySelectorAll("[data-panel]")[0],core.toggleClass(i,"panel--active")},e.prototype.createModal=function(e,t){return this._properties.modal=e,this.bindClose(),!this._properties.inDOM&&(document.getElementsByTagName("body")[0].appendChild(this._properties.modal),core.updateModels(this._properties.modal),this.events.emit("added",this._properties.modal),this._properties.inDOM=!0,
t)?this.toggleModal():void 0},e.prototype.toggleModal=function(){return void 0===this._properties.modal?this.getModal(!0):(this.toggleClasses(this._properties.modal),core.hasClass(this._properties.modal,"modal--active")?this.events.emit("open",this._properties.modal):this.events.emit("close",this._properties.modal)),this},e.prototype.bindOpen=function(){var e,t,i,n,r;for(n=this._properties.triggers,t=0,i=n.length;i>t;t++)r=n[t],e=function(e){return function(t){return t.preventDefault(),null==e._properties.modal&&e.getModal(),e.toggleModal()}}(this),r.addEventListener("click",e,!1);return this},e.prototype.bindClose=function(){var e,t,i,n;if(this.closeBtns=this._properties.modal.querySelectorAll('[data-modal-close="'+this._properties._id+'"]'),this.closeBtns)for(n=this.closeBtns,t=0,i=n.length;i>t;t++)e=n[t],e.addEventListener("click",this.toggleModal,!1);return this},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("Modal",Modal,"[data-modal-open]"),document.querySelectorAll("[data-modal-open-onload]")[0]&&(onloadModal=document.querySelectorAll("[data-modal-open-onload]")[0],core.addClass(onloadModal,"visuallyhidden"),onloadModalUrl=onloadModal.getAttribute("data-modal-open-onload"),core.modal[onloadModalUrl].toggleModal()),function(e){var t={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},bind:e.proxy,each:function(t,i){function n(e,t){return i(t,e)}e.each(t,n)},map:e.map,filter:e.grep,every:function(t,i){var n=!0;return t?(e.each(t,function(e,r){return(n=i.call(null,r,e,t))?void 0:!1}),!!n):n},some:function(t,i){var n=!1;return t?(e.each(t,function(e,r){return(n=i.call(null,r,e,t))?!1:void 0}),!!n):n},mixin:e.extend,getUniqueId:function(){var e=0;return function(){return e++}}(),templatify:function(t){function i(){return String(t)}return e.isFunction(t)?t:i},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var n,r;return function(){var s,o,a=this,l=arguments;return s=function(){n=null,i||(r=e.apply(a,l))},o=i&&!n,clearTimeout(n),n=setTimeout(s,t),o&&(r=e.apply(a,l)),r}},throttle:function(e,t){var i,n,r,s,o,a;return o=0,a=function(){o=new Date,r=null,s=e.apply(i,n)},function(){var l=new Date,u=t-(l-o);return i=this,n=arguments,0>=u?(clearTimeout(r),r=null,o=l,s=e.apply(i,n)):r||(r=setTimeout(a,u)),s}},noop:function(){}},i="0.10.1",n=function(e,i){function n(e){this.maxSize=e||100,this.size=0,this.hash={},this.list=new r}function r(){this.head=this.tail=null}function s(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(n.prototype,{set:function(e,t){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key]),(i=this.hash[e])?(i.val=t,this.list.moveToFront(i)):(i=new s(e,t),this.list.add(i),this.hash[e]=i,this.size++)},get:function(e){var t=this.hash[e];return t?(this.list.moveToFront(t),t.val):void 0}}),t.mixin(r.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),n}(this),r=function(){function e(e){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function i(){return(new Date).getTime()}function n(e){return JSON.stringify(t.isUndefined(e)?null:e)}function r(e){return JSON.parse(e)}var s,o;try{s=window.localStorage,s.setItem("~~~","!"),s.removeItem("~~~")}catch(a){s=null}return o=s&&window.JSON?{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},get:function(e){return this.isExpired(e)&&this.remove(e),r(s.getItem(this._prefix(e)))},set:function(e,r,o){return t.isNumber(o)?s.setItem(this._ttlKey(e),n(i()+o)):s.removeItem(this._ttlKey(e)),s.setItem(this._prefix(e),n(r))},remove:function(e){return s.removeItem(this._ttlKey(e)),s.removeItem(this._prefix(e)),this},clear:function(){var e,t,i=[],n=s.length;for(e=0;n>e;e++)(t=s.key(e)).match(this.keyMatcher)&&i.push(t.replace(this.keyMatcher,""));for(e=i.length;e--;)this.remove(i[e]);return this},isExpired:function(e){var n=r(s.getItem(this._ttlKey(e)));return t.isNumber(n)&&i()>n?!0:!1}}:{get:t.noop,set:t.noop,remove:t.noop,clear:t.noop,isExpired:t.noop},t.mixin(e.prototype,o),e}(),s=function(){function i(t){t=t||{},this._send=t.transport?r(t.transport):e.ajax,this._get=t.rateLimiter?t.rateLimiter(this._get):this._get}function r(i){return function(n,r){function s(e){t.defer(function(){a.resolve(e)})}function o(e){t.defer(function(){a.reject(e)})}var a=e.Deferred();return i(n,r,s,o),a}}var s=0,o={},a=6,l=new n(10);return i.setMaxPendingRequests=function(e){a=e},i.resetCache=function(){l=new n(10)},t.mixin(i.prototype,{_get:function(e,t,i){function n(t){i&&i(t),l.set(e,t)}function r(){s--,delete o[e],d.onDeckRequestArgs&&(d._get.apply(d,d.onDeckRequestArgs),d.onDeckRequestArgs=null)}var u,d=this;(u=o[e])?u.done(n):a>s?(s++,o[e]=this._send(e,t).done(n).always(r)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(e,i,n){var r;return t.isFunction(i)&&(n=i,i={}),(r=l.get(e))?t.defer(function(){n&&n(r)}):this._get(e,i,n),!!r}}),i}(),o=function(){function i(t){t=t||{},t.datumTokenizer&&t.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.datums=[],this.trie=r()}function n(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function r(){return{ids:[],children:{}}}function s(e){for(var t={},i=[],n=0;n<e.length;n++)t[e[n]]||(t[e[n]]=!0,i.push(e[n]));return i}function o(e,t){function i(e,t){return e-t}var n=0,r=0,s=[];for(e=e.sort(i),t=t.sort(i);n<e.length&&r<t.length;)e[n]<t[r]?n++:e[n]>t[r]?r++:(s.push(e[n]),n++,r++);return s}return t.mixin(i.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var i=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var s,o;s=i.datums.push(e)-1,o=n(i.datumTokenizer(e)),t.each(o,function(e){var t,n,o;for(t=i.trie,n=e.split("");o=n.shift();)t=t.children[o]||(t.children[o]=r()),t.ids.push(s)})})},get:function(e){var i,r,a=this;return i=n(this.queryTokenizer(e)),t.each(i,function(e){var t,i,n,s;if(r&&0===r.length)return!1;for(t=a.trie,i=e.split("");t&&(n=i.shift());)t=t.children[n];return t&&0===i.length?(s=t.ids.slice(0),void(r=r?o(r,s):s)):(r=[],!1)}),r?t.map(s(r),function(e){return a.datums[e]}):[]},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),a=function(){function n(e){var i=e.local||null;return t.isFunction(i)&&(i=i.call(null)),i}function r(n){var r,s;return s={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(r=n.prefetch||null)&&(r=t.isString(r)?{url:r}:r,r=t.mixin(s,r),r.thumbprint=i+r.thumbprint,r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",!r.url&&e.error("prefetch requires url to be set")),r}function s(i){function n(e){return function(i){return t.debounce(i,e)}}function r(e){return function(i){return t.throttle(i,e)}}var s,o;return o={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(s=i.remote||null)&&(s=t.isString(s)?{url:s}:s,s=t.mixin(o,s),s.rateLimiter=/^throttle$/i.test(s.rateLimitBy)?r(s.rateLimitWait):n(s.rateLimitWait),s.ajax.type=s.ajax.type||"GET",s.ajax.dataType=s.ajax.dataType||"json",delete s.rateLimitBy,delete s.rateLimitWait,!s.url&&e.error("remote requires url to be set")),s}return{local:n,prefetch:r,remote:s}}(),l=(window.Bloodhound=function(){function i(t){t&&(t.local||t.prefetch||t.remote)||e.error("one of local, prefetch, or remote is required"),this.limit=t.limit||5,this.sorter=n(t.sorter),this.dupDetector=t.dupDetector||l,this.local=a.local(t),this.prefetch=a.prefetch(t),this.remote=a.remote(t),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new o({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),this.storage=this.cacheKey?new r(this.cacheKey):null}function n(e){function i(t){return t.sort(e)}function n(e){return e}return t.isFunction(e)?i:n}function l(){return!1}var u;return u={data:"data",protocol:"protocol",thumbprint:"thumbprint"},i.tokenizers={whitespace:function(e){return e.split(/\s+/)},nonword:function(e){return e.split(/\W+/)}},t.mixin(i.prototype,{_loadPrefetch:function(t){function i(e){var i;i=t.filter?t.filter(e):e,s.add(i),s._saveToStorage(s.index.serialize(),t.thumbprint,t.ttl)}var n,r,s=this;return(n=this._readFromStorage(t.thumbprint))?(this.index.bootstrap(n),r=e.Deferred().resolve()):r=e.ajax(t.url,t.ajax).done(i),r},_getFromRemote:function(e,t){function i(e){var i=s.remote.filter?s.remote.filter(e):e;t(i)}var n,r,s=this;return e=e||"",r=encodeURIComponent(e),n=this.remote.replace?this.remote.replace(this.remote.url,e):this.remote.url.replace(this.remote.wildcard,r),this.transport.get(n,this.remote.ajax,i)},_saveToStorage:function(e,t,i){this.storage&&(this.storage.set(u.data,e,i),this.storage.set(u.protocol,location.protocol,i),this.storage.set(u.thumbprint,t,i))},_readFromStorage:function(e){var t,i={};return this.storage&&(i.data=this.storage.get(u.data),i.protocol=this.storage.get(u.protocol),i.thumbprint=this.storage.get(u.thumbprint)),t=i.thumbprint!==e||i.protocol!==location.protocol,i.data&&!t?i.data:null},initialize:function(){function t(){n.add(n.local)}var i,n=this;return i=this.prefetch?this._loadPrefetch(this.prefetch):e.Deferred().resolve(),this.local&&i.done(t),this.transport=this.remote?new s(this.remote):null,this.initialize=function(){return i.promise()},i.promise()},add:function(e){this.index.add(e)},get:function(e,i){function n(e){var n=r.slice(0);t.each(e,function(e){var i;return i=t.some(n,function(t){return s.dupDetector(e,t)}),!i&&n.push(e),n.length<s.limit}),i&&i(s.sorter(n))}var r,s=this,o=!1;r=this.index.get(e),r=this.sorter(r).slice(0,this.limit),r.length<this.limit&&this.transport&&(o=this._getFromRemote(e,n)),!o&&i&&i(r)},ttAdapter:function(){return t.bind(this.get,this)}}),i}(),{wrapper:'<div class="twitter-typeahead"></div>',dropdown:'<span class="tt-dropdown-menu  search-helper"></span>',dataset:'<div class="tt-dataset-%CLASS% "></div>',suggestions:'<ul class="tt-suggestions"></ul>',suggestion:'<li class="tt-suggestion ">%BODY%</li>'}),u={wrapper:{position:"relative",display:"inline-block"},hint:{},input:{},inputWithNoHint:{},dropdown:{zIndex:"100",display:"none"},suggestions:{display:"inline-block"},suggestion:{whiteSpace:"nowrap",display:"inline-block",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{},rtl:{left:"auto",right:" 0"}};t.isMsie()&&t.mixin(u.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t.isMsie()&&t.isMsie()<=7&&t.mixin(u.input,{marginTop:"-1px"});var d=function(){function i(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var n="typeahead:";return t.mixin(i.prototype,{trigger:function(e){var t=[].slice.call(arguments,1);this.$el.trigger(n+e,t)}}),i}(),c=function(){function e(e,t,i,n){var r;if(!i)return this;for(t=t.split(l),i=n?a(i,n):i,this._callbacks=this._callbacks||{};r=t.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][e].push(i);return this}function t(t,i,n){return e.call(this,"async",t,i,n)}function i(t,i,n){return e.call(this,"sync",t,i,n)}function n(e){var t;if(!this._callbacks)return this;for(e=e.split(l);t=e.shift();)delete this._callbacks[t];return this}function r(e){var t,i,n,r,o;if(!this._callbacks)return this;for(e=e.split(l),n=[].slice.call(arguments,1);(t=e.shift())&&(i=this._callbacks[t]);)r=s(i.sync,this,[t].concat(n)),o=s(i.async,this,[t].concat(n)),r()&&u(o);return this}function s(e,t,i){function n(){for(var n,r=0;!n&&r<e.length;r+=1)n=e[r].apply(t,i)===!1;return!n}return n}function o(){var e;return e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function a(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var l=/\s+/,u=o();return{onSync:i,onAsync:t,off:n,trigger:r}}(),p=function(e){function i(e,i,n){for(var r,s=[],o=0;o<e.length;o++)s.push(t.escapeRegExChars(e[o]));return r=n?"\\b("+s.join("|")+")\\b":"("+s.join("|")+")",i?new RegExp(r):new RegExp(r,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function s(t){var i,n;return(i=a.exec(t.data))&&(wrapperNode=e.createElement(r.tagName),r.className&&(wrapperNode.className=r.className),n=t.splitText(i.index),n.splitText(i[0].length),wrapperNode.appendChild(n.cloneNode(!0)),t.parentNode.replaceChild(wrapperNode,n)),!!i}function o(e,t){for(var i,n=3,r=0;r<e.childNodes.length;r++)i=e.childNodes[r],i.nodeType===n?r+=t(i)?1:0:o(i,t)}var a;r=t.mixin({},n,r),r.node&&r.pattern&&(r.pattern=t.isArray(r.pattern)?r.pattern:[r.pattern],a=i(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,s))}}(window.document),h=function(){function i(i){var r,s,a,l,u=this;i=i||{},i.input||e.error("input is missing"),r=t.bind(this._onBlur,this),s=t.bind(this._onFocus,this),a=t.bind(this._onKeydown,this),l=t.bind(this._onInput,this),this.$hint=e(i.hint),this.$input=e(i.input).on("blur.tt",r).on("focus.tt",s).on("keydown.tt",a),0===this.$hint.length&&(this.setHintValue=this.getHintValue=this.clearHint=t.noop),t.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){o[e.which||e.keyCode]||t.defer(t.bind(u._onInput,u,e))}):this.$input.on("input.tt",l),this.query=this.$input.val(),this.$overflowHelper=n(this.$input)}function n(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"nowrap",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function r(e,t){return i.normalizeQuery(e)===i.normalizeQuery(t)}function s(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(e){return(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(i.prototype,c,{_onBlur:function(e){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(e){this.trigger("focused")},_onKeydown:function(e){var t=o[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(e){this._checkInputValue()},_managePreventDefault:function(e,t){var i,n,r;switch(e){case"tab":n=this.getHintValue(),r=this.getInputValue(),i=n&&n!==r&&!s(t);break;case"up":case"down":i=!s(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(e,t){var i;switch(e){case"tab":i=!s(t);break;default:i=!0}return i},_checkInputValue:function(){var e,t,i;e=this.getInputValue(),t=r(e,this.query),i=t?this.query.length!==e.length:!1,t?i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=e)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(e){this.query=e},getInputValue:function(){return this.$input.val()},setInputValue:function(e,t){this.$input.val(e),!t&&this._checkInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(e){this.$hint.val(e)},resetInputValue:function(){this.$input.val(this.query)},clearHint:function(){this.$hint.val("")},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,i,n;return e=this.$input.val().length,i=this.$input[0].selectionStart,t.isNumber(i)?i===e:document.selection?(n=document.selection.createRange(),n.moveStart("character",-e),e===n.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),i}(),f=function(){function i(i){i=i||{},i.templates=i.templates||{},i.source||e.error("missing source"),i.name&&!s(i.name)&&e.error("invalid dataset name: "+i.name),this.query=null,this.highlight=!!i.highlight,this.name=i.name||t.getUniqueId(),this.source=i.source,this.displayFn=n(i.display||i.displayKey),this.templates=r(i.templates,this.displayFn),this.$el=e(l.dataset.replace("%CLASS%",this.name))}function n(e){function i(t){return t[e]}return e=e||"value",t.isFunction(e)?e:i}function r(e,i){function n(e){return"<p>"+i(e)+"</p>"}return{empty:e.empty&&t.templatify(e.empty),header:e.header&&t.templatify(e.header),footer:e.footer&&t.templatify(e.footer),suggestion:e.suggestion||n}}function s(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var o="ttDataset",a="ttValue",d="ttDatum";return i.extractDatasetName=function(t){return e(t).data(o)},i.extractValue=function(t){return e(t).data(a)},i.extractDatum=function(t){return e(t).data(d)},t.mixin(i.prototype,c,{_render:function(i,n){function r(){return m.templates.empty({query:i,isEmpty:!0})}function s(){function r(t){var i,n,r;return n=m.templates.suggestion(t),r=l.suggestion.replace("%BODY%",n),i=e(r).data(o,m.name).data(a,m.displayFn(t)).data(d,t),i.children().each(function(){e(this).css(u.suggestionChild)}),i}var s,c;return s=e(l.suggestions).css(u.suggestions),c=t.map(n,r),s.append.apply(s,c),m.highlight&&p({node:s[0],pattern:i}),s}function c(){return m.templates.header({query:i,isEmpty:!f})}function h(){return m.templates.footer({query:i,isEmpty:!f})}if(this.$el){var f,m=this;this.$el.empty(),f=n&&n.length,!f&&this.templates.empty?this.$el.html(r()).prepend(m.templates.header?c():null).append(m.templates.footer?h():null):f&&this.$el.html(s()).prepend(m.templates.header?c():null).append(m.templates.footer?h():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(e){function t(t){e===i.query&&i._render(e,t)}var i=this;this.query=e,this.source(e,t)},clear:function(){this._render(this.query||"")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),i}(),m=function(){function i(i){var r,s,o,a=this;i=i||{},i.menu||e.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=t.map(i.datasets,n),r=t.bind(this._onSuggestionClick,this),s=t.bind(this._onSuggestionMouseEnter,this),o=t.bind(this._onSuggestionMouseLeave,this),this.$menu=e(i.menu).on("click.tt",".tt-suggestion",r).on("mouseenter.tt",".tt-suggestion",s).on("mouseleave.tt",".tt-suggestion",o),t.each(this.datasets,function(e){a.$menu.append(e.getRoot()),e.onSync("rendered",a._onRendered,a)})}function n(e){return new f(e)}return t.mixin(i.prototype,c,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",e(t.currentTarget))},_onSuggestionMouseEnter:function(t){this._removeCursor(),this._setCursor(e(t.currentTarget),!0)},_onSuggestionMouseLeave:function(e){this._removeCursor()},_onRendered:function(){function e(e){return e.isEmpty()}this.isEmpty=t.every(this.datasets,e),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(e,t){e.first().addClass("tt-cursor"),!t&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(e){var t,i,n,r;if(this.isOpen){if(i=this._getCursor(),t=this._getSuggestions(),this._removeCursor(),n=t.index(i)+e,n=(n+1)%(t.length+1)-1,-1===n)return void this.trigger("cursorRemoved");-1>n&&(n=t.length-1),this._setCursor(r=t.eq(n)),this._ensureVisible(r)}},_ensureVisible:function(e){var t,i,n,r;t=e.position().top,i=t+e.outerHeight(!0),n=this.$menu.scrollTop(),r=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>t?this.$menu.scrollTop(n+t):i>r&&this.$menu.scrollTop(n+(i-r))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(e){this.$menu.css("ltr"===e?u.ltr:u.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(e){var t=null;return e.length&&(t={raw:f.extractDatum(e),value:f.extractValue(e),datasetName:f.extractDatasetName(e)}),t},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(e){function i(t){t.update(e)}t.each(this.datasets,i)},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function e(e){e.destroy()}this.$menu.off(".tt"),this.$menu=null,t.each(this.datasets,e)}}),i}(),g=function(){function i(i){var r,s,o;i=i||{},i.input||e.error("missing input"),this.autoselect=!!i.autoselect,this.minLength=t.isNumber(i.minLength)?i.minLength:1,this.$node=n(i.input,i.withHint),r=this.$node.find(".tt-dropdown-menu"),s=this.$node.find(".tt-input"),o=this.$node.find(".tt-hint"),this.eventBus=i.eventBus||new d({el:s}),this.dropdown=new m({menu:r,datasets:i.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new h({input:s,hint:o}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),r.on("mousedown.tt",function(e){t.isMsie()&&t.isMsie()<9&&(s[0].onbeforedeactivate=function(){window.event.returnValue=!1,s[0].onbeforedeactivate=null}),e.preventDefault()})}function n(t,i){var n,s,a,d;n=e(t),s=e(l.wrapper).css(u.wrapper),a=e(l.dropdown).css(u.dropdown),d=n.clone().css(u.hint).css(r(n)),d.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),n.data(o,{dir:n.attr("dir"),autocomplete:n.attr("autocomplete"),spellcheck:n.attr("spellcheck"),style:n.attr("style")}),n.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(i?u.input:u.inputWithNoHint);try{!n.attr("dir")&&n.attr("dir","auto")}catch(c){}return n.wrap(s).parent().prepend(i?d:null).append(a)}function r(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function s(e){var i=e.find(".tt-input");t.each(i.data(o),function(e,n){t.isUndefined(e)?i.removeAttr(n):i.attr(n,e)}),i.detach().removeData(o).removeClass("tt-input").insertAfter(e),e.remove()}var o="ttAttrs";return t.mixin(i.prototype,{_onSuggestionClicked:function(e,t){var i;(i=this.dropdown.getDatumForSuggestion(t))&&this._select(i)},_onCursorMoved:function(){var e=this.dropdown.getDatumForCursor();this.input.clearHint(),this.input.setInputValue(e.value,!0),this.eventBus.trigger("cursorchanged",e.raw,e.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.dropdown.empty(),this.dropdown.open()},_onBlurred:function(){this.dropdown.close()},_onEnterKeyed:function(e,t){var i,n;i=this.dropdown.getDatumForCursor(),n=this.dropdown.getDatumForTopSuggestion(),i?(this._select(i),t.preventDefault()):this.autoselect&&n&&(this._select(n),t.preventDefault())},_onTabKeyed:function(e,t){var i;(i=this.dropdown.getDatumForCursor())?(this._select(i),t.preventDefault()):this._autocomplete()},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var e=this.input.getQuery();!this.dropdown.isOpen&&e.length>=this.minLength&&this.dropdown.update(e),this.dropdown.open(),this.dropdown.moveCursorUp()},_onDownKeyed:function(){var e=this.input.getQuery();!this.dropdown.isOpen&&e.length>=this.minLength&&this.dropdown.update(e),this.dropdown.open(),this.dropdown.moveCursorDown()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(e,t){this.input.clearHint(),this.dropdown.empty(),t.length>=this.minLength&&this.dropdown.update(t),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var e;this.dir!==(e=this.input.getLanguageDirection())&&(this.dir=e,this.$node.css("direction",e),this.dropdown.setLanguageDirection(e))},_updateHint:function(){var e,i,n,r,s,o;e=this.dropdown.getDatumForTopSuggestion(),e&&this.dropdown.isVisible()&&!this.input.hasOverflow()&&(i=this.input.getInputValue(),n=h.normalizeQuery(i),r=t.escapeRegExChars(n),s=new RegExp("^(?:"+r+")(.*$)","i"),o=s.exec(e.value),this.input.setHintValue(i+(o?o[1]:"")))},_autocomplete:function(){var e,t,i;e=this.input.getHintValue(),t=this.input.getQuery(),e&&t!==e&&this.input.isCursorAtEnd()&&(i=this.dropdown.getDatumForTopSuggestion(),i&&this.input.setInputValue(i.value),this.eventBus.trigger("autocompleted",i.raw,i.datasetName))},_select:function(e){this.input.clearHint(),this.input.setQuery(e.value),this.input.setInputValue(e.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",e.raw,e.datasetName),this.dropdown.close(),t.defer(t.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},getQuery:function(){return this.input.getQuery()},setQuery:function(e){this.input.setInputValue(e)},destroy:function(){this.input.destroy(),this.dropdown.destroy(),s(this.$node),this.$node=null}}),i}();!function(){var i,n,r;i=e.fn.typeahead,n="ttTypeahead",r={initialize:function(i,r){function s(){var s,o,a=e(this);t.each(r,function(e){e.highlight=!!i.highlight}),o=new g({input:a,eventBus:s=new d({el:a}),withHint:t.isUndefined(i.hint)?!0:!!i.hint,minLength:i.minLength,autoselect:i.autoselect,datasets:r}),a.data(n,o)}return r=t.isArray(r)?r:[].slice.call(arguments,1),i=i||{},this.each(s)},open:function(){function t(){var t,i=e(this);(t=i.data(n))&&t.open()}return this.each(t)},close:function(){function t(){var t,i=e(this);(t=i.data(n))&&t.close()}return this.each(t)},val:function(t){function i(){var i,r=e(this);(i=r.data(n))&&i.setQuery(t)}function r(e){var t,i;return(t=e.data(n))&&(i=t.getQuery()),i}return arguments.length?this.each(i):r(this.first())},destroy:function(){function t(){var t,i=e(this);(t=i.data(n))&&(t.destroy(),i.removeData(n))}return this.each(t)}},e.fn.typeahead=function(e){return r[e]?r[e].apply(this,[].slice.call(arguments,1)):r.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=i,this}}()}(window.jQuery);var AjaxSearch,GoogleSearch,bind=function(e,t){return function(){return e.apply(t,arguments)}},extend=function(e,t){function i(){this.constructor=e}for(var n in t)hasProp.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;AjaxSearch=function(){function e(e,t,i){var n,r,s,o,a,l,u,d,c;for(this.data=e,this.extend=bind(this.extend,this),this.showPage=bind(this.showPage,this),this.prepResults=bind(this.prepResults,this),this.validate=bind(this.validate,this),this.search=bind(this.search,this),this.updateUrl=bind(this.updateUrl,this),this.bindAutoComplete=bind(this.bindAutoComplete,this),this.bindTriggers=bind(this.bindTriggers,this),this.bindKeyup=bind(this.bindKeyup,this),this.getQueryVariable=bind(this.getQueryVariable,this),this.storeQueryTerm=bind(this.storeQueryTerm,this),this.manageClasses=bind(this.manageClasses,this),this.mapEvents=bind(this.mapEvents,this),this.bindAutofill=bind(this.bindAutofill,this),this.clean=bind(this.clean,this),this.data instanceof jQuery&&(this.data=this.data.get(0)),u=this.data.attributes[t].value.split(","),u=u.map(function(e){return e.trim()}),u.length>2&&(l=u.splice(0,1),o=u.join(","),u=l.concat(o)),n=function(){var e;try{return JSON.parse(this.data.attributes["data-google-search-autocomplete"].value)}catch(e){return r=e,null}}.call(this),this._properties={_id:u[0],type:i._id,params:function(){var e;try{return JSON.parse(u[1])}catch(e){return r=e,{}}}(),target:this.data,autocomplete:n,triggers:{},query:{},config:i,response:{target:document.querySelectorAll("["+t+'-results="'+u[0]+'"]')[0]}},"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),c=["open","close","trigger"],s=0,a=c.length;a>s;s++)d=c[s],this._properties.triggers[d]=document.querySelectorAll("["+t+"-"+d+'="'+u[0]+'"]')[0];this.mapEvents().bindKeyup().bindAutoComplete().extend(),(null!=this._properties.triggers.open||null!=this._properties.triggers.close||null!=this._properties.triggers.trigger)&&this.bindTriggers(),this._properties.triggers.link=document.querySelectorAll("["+t+'-link="'+u[0]+'"]'),null!=this._properties.triggers.link&&this.bindAutofill(),this.events.emit("search-ready")}return e.prototype.clean=function(){var e,t;for(this._properties.target.value="",this._properties.query={},history.pushState("","",window.location.origin+(window.location.pathname||"")),core.removeClass(this._properties.target,"searching"),core.addClass(this._properties.target,"search"),core.addClass(this._properties.response.target,"searching"),core.removeClass(this._properties.response.target,"results--returned"),e=this._properties.response.target,t=[];e.firstChild;)t.push(e.removeChild(e.firstChild));return t},e.prototype.bindAutofill=function(){var e,t,i,n,r;for(n=this._properties.triggers.link,e=0,t=n.length;t>e;e++)i=n[e],r=function(e){return function(){var t;return t=event.target.innerHTML.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,"").trim(),e.events.emit("search",t)}}(this),i.addEventListener("click",r,!1);return this},e.prototype.mapEvents=function(){return this.events.on("clean",this.clean),this.events.on("search-ready",function(e){return function(){return e._properties.target.value=e.getQueryVariable(),e.manageClasses("search-ready"),e._properties.target.value.length>3?e.events.emit("search",e._properties.target.value):void 0}}(this)),$(this._properties.target).bind("typeahead:selected",function(e){return function(t){
return e._properties.target.blur(),e.events.emit("search",t.target.value)}}(this)),this.events.on("search",function(e){return function(t){var i;return t!==e._properties.query._search&&(e._properties.query={}),e.storeQueryTerm(t),e._properties.target.blur(),e._properties.target.value=t,i=document.getElementsByTagName("BODY")[0],"do a barrel roll"===t?core.addClass(i,"roll"):core.removeClass(i,"roll"),e.events.emit("query-changed"),e.search()}}(this)),this.events.on("query-changed",this.updateUrl),this.events.on("searching",function(e){return function(){return e.manageClasses("searching")}}(this)),this.events.on("result",function(e){return function(t){return e.validate(t)}}(this)),this.events.on("results-prep",function(e){return function(t){return e.prepResults(t)}}(this)),this.events.on("results-ready",function(e){return function(t){return e.showPage(t)}}(this)),this.events.on("results-rendered",function(e){return function(t){return e.manageClasses("results--returned")}}(this)),this},e.prototype.manageClasses=function(e){var t,i,n,r,s,o,a,l,u,d,c,p,h,f,m,g,v;switch(t=[this._properties.target,this._properties.triggers.open,this._properties.triggers.close,this._properties.response.target],t=t.filter(core.isElement),e){case"search-ready":for(m=[],n=0,a=t.length;a>n;n++)i=t[n],m.push(core.addClass(i,e));return m;case"searching":for(r=0,l=t.length;l>r;r++)i=t[r],core.removeClass(i,"search-ready");for(g=[],s=0,u=t.length;u>s;s++)i=t[s],g.push(core.addClass(i,e));return g;case"results--returned":for(o=0,d=t.length;d>o;o++)i=t[o],core.addClass(i,"search-ready");for(h=0,c=t.length;c>h;h++)i=t[h],core.removeClass(i,"searching");for(v=[],f=0,p=t.length;p>f;f++)i=t[f],v.push(core.addClass(i,e));return v}},e.prototype.storeQueryTerm=function(e){return this._properties.query._search=e,this},e.prototype.getQueryVariable=function(){var e,t,i,n,r,s,o;if(n=window.location.search.substring(1),o=n.split("?")[0].split("&"),window.location.hash.split("#")[1]===this._properties._id){for(e=0,i=o.length;i>e;e++)s=o[e],t=s.split("=")[0],"search"===t?(r=decodeURIComponent(s.split("=")[1]),this.storeQueryTerm(r)):t&&s&&(this._properties.query[t]=s);this.events.emit("open")}return null==r&&(r=""),r},e.prototype.bindKeyup=function(){return this._properties.target.addEventListener("keyup",function(e){return function(t){var i;return i=e._properties.target,0===i.value.length&&e.events.emit("clean"),13===t.keyCode?e.events.emit("search",i.value):void 0}}(this),!1),this},e.prototype.bindTriggers=function(){var e,t,i;return this.events.on("open",function(e){return function(){return core.hasClass(e._properties.target,"active")||e._properties.target.focus(),core.toggleClass(e._properties.target,"active"),setTimeout(function(){return e.events.emit("extend-open")},0)}}(this)),this.events.on("close",function(e){return function(){return core.toggleClass(e._properties.target,"active"),setTimeout(function(){return e.events.emit("extend-close")},0),e.events.emit("clean")}}(this)),null!=this._properties.triggers.open&&core.isElement(this._properties.triggers.open)&&(t=function(e){return function(){return e.events.emit("open")}}(this),this._properties.triggers.open.addEventListener("click",t,!1)),null!=this._properties.triggers.close&&core.isElement(this._properties.triggers.close)&&(e=function(e){return function(){return e.events.emit("close")}}(this),this._properties.triggers.close.addEventListener("click",e,!1)),null!=this._properties.triggers.trigger&&core.isElement(this._properties.triggers.trigger)?(i=function(e){return function(t){return e.events.emit("search",e._properties.target.value)}}(this),this._properties.triggers.trigger.addEventListener("click",i,!1)):void 0},e.prototype.bindAutoComplete=function(){var e,t,i,n,r,s,o,a,l,u,d,c,p,h;if(null!=this._properties.autocomplete&&"undefined"!=typeof Bloodhound&&null!==Bloodhound){for(d=function(e){return function(e){var t;return t=e[0],t=new Bloodhound({datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t[e[1]])},queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:e[3]})}}(this),i=[],u=this._properties.autocomplete,r=0,o=u.length;o>r;r++){n=u[r],l=[];for(s in n)a=s,h=n[s],l.push(a,h);t=d(l),t.initialize(),p=l[0],c=Handlebars.getTemplate("search_"+p,!0),e={name:l[0],displayKey:l[1],source:t.ttAdapter(),templates:{suggestion:c}},i.push(e)}$(this._properties.target).typeahead({highlight:!0,hint:!1},i)}return this},e.prototype.updateUrl=function(){var e,t;return e=core.flattenObject(this._properties.query),t=e.length>1?"?search="+e.join("&")+"#"+this._properties._id:"?search="+e[0]+"#"+this._properties._id,null!=window.history?history.pushState("","",t):void 0},e.prototype.search=function(){var e,t,i,n,r,s,o,a;if(a=core.flattenObject(this._properties.config[this._properties.type]),s=core.flattenObject(this._properties.query),s.length>1){for(i=[],n=0,r=s.length;r>n;n++)o=s[n],o.indexOf("=")>0?(t=o.split("="),o=t[0]+"="+encodeURIComponent(t[1])):o=encodeURIComponent(o),i.push(o);s=i.join("&")}else s=encodeURIComponent(s[0]);return a=a.join("&")+"&q="+s,e=new XMLHttpRequest,e.onreadystatechange=function(t){return function(){return 4===e.readyState&&200===e.status?t.events.emit("result",JSON.parse(e.response)):void 0}}(this),e.open("GET",a,!0),e.send(),this.events.emit("searching")},e.prototype.validate=function(e){return JSON.stringify(e)!==JSON.stringify(this._properties.response.data)&&(e=e),this._properties.response.data=e,this.events.emit("results-prep",e)},e.prototype.prepResults=function(e){return this.events.emit("results-ready",e)},e.prototype.showPage=function(e){var t,i;return i=this._properties.params.template||"google_results",t=Handlebars.getTemplate(i),this._properties.response.target.innerHTML=t(e),this.events.emit("results-rendered",e)},e.prototype.extend=function(){return this},e}(),GoogleSearch=function(e){function t(e,i){var n;this.data=e,this.bindPagination=bind(this.bindPagination,this),this.extend=bind(this.extend,this),n={_id:"google",google:{baseUrl:"/?ACT=191"}},t.__super__.constructor.call(this,this.data,i,n)}return extend(t,e),t.prototype.getName=function(){return"GoogleSearch"},t.prototype.extend=function(){return this.events.on("results-rendered",function(e){return function(t){return e.bindPagination(t),e.events.emit("query-changed")}}(this)),this},t.prototype.bindPagination=function(e){var t,i;return i=function(t){return function(){var i;return i=t._properties.response.target.querySelectorAll("[data-search-previous]")[0],null!=i&&(i.onclick=function(i){return t._properties.query.start="start="+e[0].pagination.previousPage[0].startIndex,t.events.emit("search",t._properties.query._search)}),t}}(this),e[0].pagination.previousPage&&i(),t=function(t){return function(){var i;return i=t._properties.response.target.querySelectorAll("[data-search-next]")[0],null!=i&&(i.onclick=function(i){return t._properties.query.start="start="+e[0].pagination.nextPage[0].startIndex,t.events.emit("search",t._properties.query._search)}),t}}(this),e[0].pagination.nextPage?t():void 0},t}(AjaxSearch),"undefined"!=typeof core&&null!==core&&core.addPlugin("GoogleSearch",GoogleSearch,"[data-google-search]");var Player,bind=function(e,t){return function(){return e.apply(t,arguments)}};Player=function(){function e(e,t){var i,n,r,s;this.data=e,this.reportEvent=bind(this.reportEvent,this),this.setUpOO=bind(this.setUpOO,this),this.setUpVideo=bind(this.setUpVideo,this),this.loadScripts=bind(this.loadScripts,this),this.loadModal=bind(this.loadModal,this),this.data instanceof jQuery&&(this.data=this.data.get(0)),s=this.data.attributes[t].value.split(","),s=s.map(function(e){return e.trim()}),s.length>3&&(r=s.splice(0,2),n=s.join(","),s=r.concat(n)),this._properties={_id:s[0],video:{element:this.data,klass:this.data.className,code:s[1]},params:function(){var e;try{return JSON.parse(s[2])}catch(e){return i=e,{}}}(),scriptKeys:{ooyala:"//player.ooyala.com/v3/ZmJmNTVlNDk1NjcwYTVkMzAzODkyMjg0?tweaks=android-enable-hls"}},this._properties.params.template=this._properties.params.template||"videoPlayer",this._properties.params.type=this._properties.params.type||"ooyala",this._properties.params.playerId=this._properties.params.playerId||"player--ooyala",this._properties.params.autoPlay=this._properties.params.autoPlay||!1,this.loadScripts().loadModal().setUpVideo()}return e.prototype.loadModal=function(){var e,t;return e=core.plugins.Modal,null!=e&&(null!=core.modal?void 0===core.modal[this._properties.params.template]&&(t=this._properties.params.template,core.modal[t]=new e.model(t,"data-modal-open","preload")):(core.modal={},t=this._properties.params.template,core.modal[t]=new e.model(t,"data-modal-open","preload"))),this},e.prototype.loadScripts=function(){var e,t,i;return e=document.createElement("script"),null!=this._properties.scriptKeys[this._properties.params.type]?e.setAttribute("src",this._properties.scriptKeys[this._properties.params.type]):le.log("no script key found for "+this._properties.video.type),t=core.flatten(document.getElementsByTagName("script")),i=t.filter(function(e){return function(t){return null!=t.attributes.src&&null!=t.attributes.src.value?t.attributes.src.value===e._properties.scriptKeys[e._properties.params.type]:void 0}}(this)),i.length>0||document.head.appendChild(e),this},e.prototype.setUpVideo=function(){return"ooyala"===this._properties.params.type&&(this._properties.params.autoPlay?(this.setUpOO(),this._properties.video.element.addEventListener("click",this.setUpOO,!1)):this._properties.video.element.addEventListener("click",this.setUpOO,!1)),this},e.prototype.setUpOO=function(){var e;return"undefined"==typeof OO||null===OO?(e=function(e){return function(){return e.setUpOO()}}(this),setTimeout(e,250)):OO.ready(function(e){return function(){var t,i,n;return core.modal[e._properties.params.template].toggleModal(),e._properties.video.player=OO.Player.create(e._properties.params.playerId,e._properties.video.code,{autoplay:!0,onCreate:function(t){return e._properties.messages=t.mb}}),t=function(){return e.reportEvent("destroyed"),e._properties.video.player.destroy(e._properties.params.playerId)},n=function(i){return 27===i.keyCode||core.isElement(i)?(t(),27===i.keyCode&&core.modal[e._properties.params.template].toggleModal(),document.removeEventListener("keyup",n,!1)):32===i.keyCode?"paused"===e._properties.video.player.state?e._properties.video.player.play():e._properties.video.player.pause():void 0},document.addEventListener("keyup",n,!1),core.modal[e._properties.params.template].events.on("close",n),e._properties.messages.subscribe(OO.EVENTS.PLAYBACK_READY,"Video",function(t){return e.reportEvent(t)}),e._properties.messages.subscribe(OO.EVENTS.PLAYED,"Video",function(i){return t(),core.modal[e._properties.params.template].toggleModal(),e.reportEvent(i)}),e._properties.messages.subscribe(OO.EVENTS.PLAY_FAILED,"Video",function(t){return e.reportEvent(t)}),e._properties.messages.subscribe(OO.EVENTS.BUFFERED,"Video",function(t){return e.reportEvent(t)}),i=!1,e._properties.messages.subscribe(OO.EVENTS.FULLSCREEN_CHANGED,"Video",function(t){return i=!i,i?(t="Fullscreen",e.reportEvent(t)):void 0})}}(this)),this},e.prototype.reportEvent=function(e){return"undefined"!=typeof ga&&null!==ga&&ga("send","event","video",e,{page:window.location.pathname}),this},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("Player",Player,"[data-video]");var Audio,bind=function(e,t){return function(){return e.apply(t,arguments)}};Audio=function(){function e(e,t){var i,n,r;this.data=e,this.skipTo=bind(this.skipTo,this),this.bindPlayer=bind(this.bindPlayer,this),this.createPlayer=bind(this.createPlayer,this),r=this.data.attributes[t].value.split(","),r=r.map(function(e){return e.trim()}),r.length>3&&(n=r.splice(0,2),i=r.join(","),r=n.concat(i)),this._properties={_id:r[0],target:this.data,audio:r[1],preload:r[2]},"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),this.createPlayer(this._properties.audio,this._properties.preload).bindPlayer()}return e.prototype.createPlayer=function(e,t){var i;return i=document.createElement("audio"),i.src=e,i.preload="none",this._properties.target.parentNode.insertBefore(i,this._properties.target),this._properties.target.parentNode.removeChild(this._properties.target),this._properties.target=i,this},e.prototype.bindPlayer=function(){var e,t;return t={swfLocation:"//s3.amazonaws.com.ns.assets/javascript-dependencies/audiojs.swf",imageLocation:"//s3.amazonaws.com/ns.assets/javascript-dependencies/player-graphics.gif"},audiojs?(e=audiojs.create(this._properties.target,t),this._properties.player=e):void 0},e.prototype.skipTo=function(e){return this._properties.player.skipTo(e)},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("Audio",Audio,"[data-audio]");var FullScreen,bind=function(e,t){return function(){return e.apply(t,arguments)}};FullScreen=function(){function e(e,t){var i;this.data=e,this.bindResize=bind(this.bindResize,this),this.expandElement=bind(this.expandElement,this),this.data instanceof jQuery&&(this.data=this.data.get(0)),i=this.data.attributes[t].value.split(","),i=i.map(function(e){return e.trim()}),this._properties={target:this.data,height:i[1],width:i[2],id:i[0]},this.bindResize(this._properties.target)}return e.prototype.expandElement=function(){var e,t,i;return t=window.innerHeight,i=window.innerWidth,e=void 0!==this._properties.height?t-this._properties.height:t,"false"!==this._properties.width&&(this._properties.target.style.width=i+"px"),"false"!==this._properties.height&&(this._properties.target.style.height=e+"px","IFRAME"===this._properties.target.tagName&&(this._properties.target.height=e)),this},e.prototype.bindResize=function(e){var t;return t=null,null==t&&(t=new Debouncer(this.expandElement)),window.addEventListener("resize",t,!1),this.expandElement()},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("FullScreen",FullScreen,"[data-fullscreen]");var Geolocation,Googleapis,callback,bind=function(e,t){return function(){return e.apply(t,arguments)}};Googleapis=function(){function e(e){this.data=e,this.getMarkers=bind(this.getMarkers,this),this.initialize=bind(this.initialize,this),this._properties={scripts:{googleapis:"https://maps.googleapis.com/maps/api/js?v=3.exp&callback=googleapis.initialize"},img:"//s3.amazonaws.com/ns.images/newspring/locations/newspring.mapmarker.png",maps:[],styles:{multi:[{featureType:"road",elementType:"geometry",stylers:[{visibility:"on"},{lightness:70}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#fffffa"}]},{featureType:"water",stylers:[{lightness:0}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{lightness:0}]}],network:[{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#f7f1df"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#f7f1df"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#f7f1df"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffe15f"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"black"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]}]}},this.loadScript()}return e.prototype.initialize=function(){return this.getMarkers()},e.prototype.getMarkers=function(){var e,t,i,n,r,s;for(r=core.flattenObject(core.geolocation),s=[],e=0,t=r.length;t>e;e++)i=r[e],n=i.createMap(),s.push(this._properties.maps.push(n));return s},e.prototype.loadScript=function(){var e,t,i;return e=document.createElement("script"),e.src=this._properties.scripts.googleapis,t=core.flatten(document.getElementsByTagName("script")),i=t.filter(function(e){return function(t){return null!=t.attributes.src&&null!=t.attributes.src.value?t.attributes.src.value===e._properties.scripts.googleapis:void 0}}(this)),i.length>0||document.head.appendChild(e),this},e}(),Geolocation=function(){function e(e,t){var i,n,r,s,o,a;this.data=e,this.calculateDistance=bind(this.calculateDistance,this),this.activeLocation=bind(this.activeLocation,this),this.campusSort=bind(this.campusSort,this),this.getUserLocation=bind(this.getUserLocation,this),this.findClosest=bind(this.findClosest,this),this.bindZoom=bind(this.bindZoom,this),this.bindResize=bind(this.bindResize,this),this.fitBounds=bind(this.fitBounds,this),this.fitCenter=bind(this.fitCenter,this),this.setCenter=bind(this.setCenter,this),this.locationClicked=bind(this.locationClicked,this),this.campusClicked=bind(this.campusClicked,this),this.campusClickListener=bind(this.campusClickListener,this),this.closeAllMarkers=bind(this.closeAllMarkers,this),this.createMarker=bind(this.createMarker,this),this.createNewMarker=bind(this.createNewMarker,this),this.createMap=bind(this.createMap,this),this.createList=bind(this.createList,this),this.bindEvents=bind(this.bindEvents,this),this.data instanceof jQuery&&(this.data=this.data.get(0)),a=this.data.attributes[t].value.split(/[,](?=[^\]]*?(?:\[))/g),a.length>2&&(o=a.splice(0,2),r=a.join(","),a=o.concat(r)),a=a.map(function(e){return e.trim()}),i=a[1].replace(/[\[\]']+/g,"").split(","),i=i.map(function(e){return e.trim()}),"string"==typeof i&&(i=[i]),s=function(){var e;try{return JSON.parse(a[2])}catch(e){n=e}}(),"all"!==i[0]&&(s=s.filter(function(e){return function(e){var t,n,r;for(n=0,r=i.length;r>n;n++)if(t=i[n],e._id.toLowerCase().replace(" ","").indexOf(t.toLowerCase().replace(" ",""))>-1)return!0}}(this))),this._properties={_id:a[0],target:this.data,location:i,locations:s,map:{},markers:[],mapOptions:{},multi:!1,attr:t},("all"===this._properties.location[0]||this._properties.location.length>1)&&(this._properties.multi=!0),"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),this.bindEvents()}return e.prototype.getName=function(){return"Geolocation"},e.prototype.bindEvents=function(){return this.events.on("campus-found",function(e){return function(t){var i,n,r,s,o,a,l,u,d;for(a=e._properties.findLocation,i=0,r=a.length;r>i;i++)d=a[i],core.removeClass(d,"btn--icon btn--filled"),d.innerHTML=d.dataset.originalText;for(l=e._properties.markers,u=[],n=0,s=l.length;s>n;n++)o=l[n],o.url===t.url?u.push(o.infoWindow.open(e._properties.map,o)):u.push(void 0);return u}}(this)),this.events.on("finding-closest",function(e){return function(){var t,i,n,r,s;for(n=e._properties.findLocation,r=[],t=0,i=n.length;i>t;t++)s=n[t],s.dataset.originalText=s.innerText,s.innerHTML='Loading...<span class="icon icon--loading"></span>',r.push(core.addClass(s,"btn--icon btn--filled"));return r}}(this))},e.prototype.createList=function(){var e;return e=Handlebars.getTemplate("locations_listitem")},e.prototype.createMap=function(){var e,t,i,n,r,s,o;if(o=this._properties.multi?8:15,e=e=this._properties.multi?null:new google.maps.LatLng(this._properties.locations[0].lat,this._properties.locations[0].lng),this._properties.multi&&(s=googleapis._properties.styles.multi),"network"===window.location.host.split(".")[0]&&(o=6,s=googleapis._properties.styles.network),this._properties.mapOptions={zoom:o,scrollwheel:!1,draggable:!core.isMobile(),center:e,disableDefaultUI:!0,styles:s},this._properties.map=new google.maps.Map(this._properties.target,this._properties.mapOptions),this._properties.multi){for(r=this._properties.locations,t=0,i=r.length;i>t;t++)n=r[t],this.createMarker(n);this.fitBounds().bindResize(this.fitBounds)}else this.createMarker(this._properties.locations[0]),this.setCenter().fitCenter().bindResize(this.fitCenter),google.maps.event.addDomListener(this._properties.map,"idle",function(e){return function(){return e.setCenter()}}(this));return this.bindZoom(),this._properties.multi&&this.findClosest(),this._properties.service=new google.maps.DistanceMatrixService,this._properties.geocoder=new google.maps.Geocoder,this._properties.map},e.prototype.createNewMarker=function(e){return"string"==typeof e?this._properties.geocoder.geocode({address:e},function(e){return function(t,i){var n;return"OK"===i?(n={lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()},e.createMarker(n)):void 0}}(this)):this.createMarker(e),this},e.prototype.createMarker=function(e){var t,i,n,r,s,o;return"undefined"!=typeof google&&null!==google&&(t=new google.maps.LatLng(e.lat,e.lng),n=null!=e.img?e.img:googleapis._properties.img,o=e.url,i=Handlebars.getTemplate("locations_popup"),r=new google.maps.InfoWindow({content:i(e)}),s=new google.maps.Marker({_id:e._id,position:t,map:this._properties.map,title:e.campus,url:o,icon:n,zIndex:e.count,infoWindow:r}),google.maps.event.addListener(s,"click",this.locationClicked(s)),0!==document.querySelectorAll("[data-campus-item]").length&&this.campusClickListener(),this._properties.markers.push(s)),this},e.prototype.closeAllMarkers=function(){var e,t,i,n,r;for(n=this._properties.markers,r=[],e=0,t=n.length;t>e;e++)i=n[e],r.push(i.infoWindow.close());return r},e.prototype.campusClickListener=function(){var e,t,i,n,r,s;for(t=document.querySelectorAll("[data-campus-item]"),s=[],n=0,r=t.length;r>n;n++)e=t[n],i=e.getAttribute("data-campus-item"),s.push(e.addEventListener("click",this.campusClicked(i)));return s},e.prototype.campusClicked=function(e){return function(t){return function(){var i,n,r,s,o,a,l,u,d,c,p;for(c=t._properties.markers,n=0,o=c.length;o>n;n++)d=c[n],d._id.toLowerCase()!==e.toLowerCase()&&d.infoWindow.close(),d._id.toLowerCase()===e.toLowerCase()&&d.infoWindow.open(t._properties.map,d);for(r=[],p=document.querySelectorAll("[data-campus-item]"),s=0,a=p.length;a>s;s++)l=p[s],u=l.getAttribute("data-campus-item"),u===e?i=l:r.push(l);return t.activeLocation(r,i)}}(this)},e.prototype.locationClicked=function(e){return function(t){return function(){var i,n,r,s,o,a,l,u,d,c,p;for(c=t._properties.markers,n=0,o=c.length;o>n;n++)d=c[n],d._id.toLowerCase()!==e._id.toLowerCase()&&d.infoWindow.close();for(e.infoWindow.open(t._properties.map,e),r=[],p=document.querySelectorAll("[data-campus-item]"),s=0,a=p.length;a>s;s++)l=p[s],u=l.getAttribute("data-campus-item"),u===e._id?i=l:r.push(l);return t.activeLocation(r,i)}}(this)},e.prototype.setCenter=function(){return this._properties.center=this._properties.map.getCenter(),this},e.prototype.fitCenter=function(){return this._properties.map.setCenter(this._properties.center),this},e.prototype.fitBounds=function(){var e,t,i,n,r;for(e=new google.maps.LatLngBounds,r=this._properties.markers,t=0,i=r.length;i>t;t++)n=r[t],e.extend(n.getPosition());return this._properties.map.fitBounds(e),this},e.prototype.bindResize=function(e){var t;return t=core.debounce(e),window.addEventListener("resize",t,!1),this},e.prototype.bindZoom=function(){var e,t,i;return t=document.querySelectorAll("["+this._properties.attr+'-zoom-in="'+this._properties._id+'"]')[0],i=document.querySelectorAll("["+this._properties.attr+'-zoom-out="'+this._properties._id+'"]')[0],e=this._properties.map.getZoom(),google.maps.event.addDomListener(t,"click",function(t){return function(){return e++,t._properties.map.setZoom(e)}}(this)),google.maps.event.addDomListener(i,"click",function(t){return function(){return e--,t._properties.map.setZoom(e)}}(this)),this},e.prototype.findClosest=function(){var e,t,i,n;if(e=document.querySelectorAll("["+this._properties.attr+'-closest="'+this._properties._id+'"]'),this._properties.findLocation=e,google)for(t=0,i=e.length;i>t;t++)n=e[t],"INPUT"===n.tagName?(google.maps.event.addDomListener(n,"blur",function(e){return function(){return e.closeAllMarkers(),e.events.emit("finding-closest"),e.getUserLocation([n.value]),document.querySelector("[data-geolocation-scroll]").scrollIntoView({block:"end",behavior:"smooth"})}}(this)),google.maps.event.addDomListener(n,"keypress",function(e){return function(t){return 13===t.keyCode?(e.closeAllMarkers(),n.blur(),e.events.emit("finding-closest"),e.getUserLocation([n.value]),document.querySelector("[data-geolocation-scroll]").scrollIntoView({block:"end",behavior:"smooth"})):void 0}}(this))):google.maps.event.addDomListener(n,"click",function(e){return function(){return e.events.emit("finding-closest"),e.getUserLocation()}}(this));return this},e.prototype.getUserLocation=function(e){var t,i,n,r,s;return n=!1,r=function(e){return function(t){return n=!0,e._properties.userLocation={lat:t.coords.latitude,lng:t.coords.longitude,location:[new google.maps.LatLng(t.coords.latitude,t.coords.longitude)]},e.calculateDistance(e._properties.userLocation.location)}}(this),i=function(e){return function(){var t,i,r,s,o;for(n=!0,r=e._properties.findLocation,s=[],t=0,i=r.length;i>t;t++)o=r[t],s.push(o.innerHTML="Location services unavailable");return s}}(this),e?(this._properties.userLocation={},null!=document.querySelector("[data-campus-list]")?this.campusSort(e):this.calculateDistance(e)):(t=function(){return i(),!1},s=setTimeout(t,15e3),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){return clearTimeout(s),r(e)},function(){return clearTimeout(s),i()}):void 0)},e.prototype.campusSort=function(e){var t;return"string"==typeof e&&(e=[e]),t=function(e){return function(t,i){var n,r,s,o,a,l,u,d,c,p,h,f,m,g,v,y;if("OK"===i){for(y=t.rows[0].elements.slice(),o=[],v=t.rows[0].elements.slice(),u=0,f=v.length;f>u;u++)for(r=v[u],c=p=0,m=y.length;m>p;c=++p)d=y[c],d.distance.value===r.distance.value&&((n=e._properties).userLocation||(n.userLocation={}),l=e._properties.locations[c],s={_id:""+r.distance.value,distance:""+r.distance.text,title:""+l._id,type:""+l.type,status:""+l.status,street1:""+l.location.street1,street2:""+l.location.street2,city:""+l.location.city,state:""+l.location.state,zip:""+l.location.zip,url:""+l.url},o.push(s));for(o.sort(function(e,t){return e._id-t._id}),a=document.querySelector("[data-campus-list]"),a.innerHTML="",h=0,g=o.length;g>h;h++)r=o[h],s='<li data-campus-item="'+r.title+'"> <div class="soft-half soft--quarter-ends"> <h6 class="float--right">'+r.distance+"</h6> <h5>"+r.title+("house"===r.type?' <span class="superscript"><i class="fa fa-home color--info"></i></span>':"")+'</h5> <small class="push-quarter--bottom portable-flush--bottom anchored-flush--bottom">'+("Coming Soon"===r.status?'<strong class="gray">Coming Soon</strong><br>':"")+("false"!==r.street1?r.street1+"<br>":"")+("false"!==r.street2?r.street2+"<br>":"")+("false"!==r.city?r.city+", ":"")+("false"!==r.state?r.state+" ":"")+("false"!==r.zip?r.zip:"")+'</small> <br class="visuallyhidden--portable visuallyhidden--anchored">'+("Coming Soon"!==r.status?'<a href="'+r.url+'" class="link--arrow visuallyhidden--portable visuallyhidden--anchored flush">View Details</a>':"")+"</div> </li>",a.innerHTML=a.innerHTML+s,e.campusClickListener(),e.events.emit("campus-found",o[0]);return e.activeLocation(document.querySelectorAll("[data-campus-item]"),document.querySelectorAll("[data-campus-item]")[0])}}}(this),this._properties.service.getDistanceMatrix({origins:e,destinations:this._properties.locations,travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.IMPERIAL,durationInTraffic:!0,avoidHighways:!1,avoidTolls:!1},t)},e.prototype.activeLocation=function(e,t){var i,n,r;if(null!=e.length)for(i=0,n=e.length;n>i;i++)r=e[i],core.removeClass(r,"active");else core.removeClass(e,"active");return core.addClass(t,"active")},e.prototype.calculateDistance=function(e){var t;return"string"==typeof e&&(e=[e]),t=function(e){return function(t,i){var n,r,s,o,a,l,u;if("OK"===i){for(u=t.rows[0].elements.slice(),u.sort(function(e,t){return e.duration.value<t.duration.value?-1:e.duration.value>t.duration.value?1:0}),a=t.rows[0].elements,l=[],s=0,o=a.length;o>s;s++)r=a[s],r.duration.value===u[0].duration.value?((n=e._properties).userLocation||(n.userLocation={}),e._properties.userLocation.closestCampus=e._properties.locations[_i],l.push(e.events.emit("campus-found",e._properties.locations[_i]))):l.push(void 0);return l}}}(this),this._properties.service.getDistanceMatrix({origins:e,destinations:this._properties.locations,travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.IMPERIAL,durationInTraffic:!0,avoidHighways:!1,avoidTolls:!1},t)},e}(),"undefined"!=typeof core&&null!==core&&(callback=function(){return window.googleapis=new Googleapis},core.addPlugin("Geolocation",Geolocation,"[data-geolocation]",callback));var Accordion,bind=function(e,t){return function(){return e.apply(t,arguments)}};Accordion=function(){function e(e,t){var i,n,r;this.data=e,this.expandBellow=bind(this.expandBellow,this),this.bindClicks=bind(this.bindClicks,this),r=this.data.attributes[t].value.split(","),r=r.map(function(e){return e.trim()}),r.length>3&&(n=r.splice(0,2),i=r.join(","),r=n.concat(i)),this._properties={_id:r[0],target:this.data,type:r[1]},"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),this.bindClicks()}return e.prototype.bindClicks=function(){var e,t,i,n,r;for(r=this._properties.target.querySelectorAll("[data-accordion-trigger]"),this._properties.triggers=r,i=[],e=0,t=r.length;t>e;e++)n=r[e],i.push(n.addEventListener("click",this.expandBellow,!1));return i},e.prototype.expandBellow=function(e){var t,i,n,r,s,o,a;if(e.preventDefault(),n="expanded",t=this.findClosestBellow(e.target),core.toggleClass(t,n),"multi"!==this._properties.type)for(o=this._properties.triggers,i=0,r=o.length;r>i;i++)a=o[i],s=this.findClosestBellow(a),s!==t&&core.removeClass(s,n);return this.events.emit("toggled",e),this},e.prototype.findClosestBellow=function(e){var t,i;for(i="accordion__item",t=e;!core.hasClass(t,i);)t=t.parentNode;return t},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("Accordion",Accordion,"[data-accordion]");var BackgroundPlayer,bind=function(e,t){return function(){return e.apply(t,arguments)}};BackgroundPlayer=function(){function e(e,t){var i,n,r,s,o,a;this.data=e,this.setPositionOffset=bind(this.setPositionOffset,this),this.matchParentSize=bind(this.matchParentSize,this),this.testIfResized=bind(this.testIfResized,this),this.bindResize=bind(this.bindResize,this),this.shouldPlay=bind(this.shouldPlay,this),this.startPlaying=bind(this.startPlaying,this),this.setUpVideo=bind(this.setUpVideo,this),this.setUpImg=bind(this.setUpImg,this),this.setCSS=bind(this.setCSS,this),this.buildElement=bind(this.buildElement,this),this.determineDesiredPositioning=bind(this.determineDesiredPositioning,this),this.determineAssetToLoad=bind(this.determineAssetToLoad,this),this.getParentWidth=bind(this.getParentWidth,this),this.getParentHeight=bind(this.getParentHeight,this),this.data instanceof jQuery&&(this.data=this.data.get(0)),s=this.data.attributes[t].value.split(/[,](?=[^\]]*?(?:\[))/g),s=s.map(function(e){return e.trim()}),s.length>3&&(r=s.splice(0,2),n=s.join(","),s=r.concat(n)),a=s[1].replace(/[\[\]']+/g,"").split(","),a=a.map(function(e){return e.trim()}),this._properties={_id:s[0],parent:this.data.parentElement,bg:{element:this.data,klass:this.data.className},videos:a},o=function(e){return function(){var t;return core.isElementInView(e.data)?(t=function(){return core.isElementInView(e.data)?(window.removeEventListener("scroll",o,!1),e.determineAssetToLoad(),!1):(window.removeEventListener("scroll",o,!1),window.addEventListener("scroll",o,!1))},setTimeout(t,500),
window.removeEventListener("scroll",o,!1)):void 0}}(this),core.isElementInView(this.data)?this.determineAssetToLoad():(i=core.debounce(o),window.addEventListener("scroll",o,!1))}return e.prototype.getParentHeight=function(){return this._properties.parent.clientHeight},e.prototype.getParentWidth=function(){return this._properties.parent.clientWidth},e.prototype.determineAssetToLoad=function(){return core.isMobile()||this.determineDesiredPositioning("video").setUpVideo(),this},e.prototype.determineDesiredPositioning=function(e){var t;return t=this._properties.bg.element.getAttribute("data-"+e+"-position"),null!=t?(t=t.split(","),1===t.length?(this._properties.bg.xaxis=t[0].replace(/(^\s+|\s+$)/g,""),this._properties.bg.yaxis=t[0].replace(/(^\s+|\s+$)/g,"")):(this._properties.bg.xaxis=t[0].replace(/(^\s+|\s+$)/g,""),this._properties.bg.yaxis=t[1].replace(/(^\s+|\s+$)/g,""))):(this._properties.bg.xaxis="center",this._properties.bg.yaxis="center"),this},e.prototype.buildElement=function(e){var t,i,n,r,s,o;if((this._properties.parent.style.position="")&&(this._properties.parent.style.position="relative"),t=document.createElement(e),"video"!==e)t.src=this._properties.bg.element.getAttribute("data-background-"+e);else for(r=this._properties.videos,i=0,n=r.length;n>i;i++)o=r[i],s=document.createElement("source"),s.src=o.trim(),s.type="video/"+o.substr(o.lastIndexOf(".")+1),t.appendChild(s);return this._properties.bg.element.klass=this._properties.bg.element.className,t.className=this._properties.bg.element.klass,this._properties.parent.insertBefore(t,this._properties.bg.element),this._properties.bg.root=this._properties.bg.element,this._properties.bg.element=t,t},e.prototype.setCSS=function(){return this._properties.parent.style.overflow="hidden",this._properties.bg.element.style.display="block",this._properties.bg.element.style.position="absolute",this._properties.bg.element.style.objectFit="cover",this._properties.bg.element.style.height="auto",this._properties.bg.element.style.minWidth="100%",this._properties.bg.element.style.minHeight="100%",this._properties.bg.element.style.zIndex="-5px",this._properties.bg.element.style.top="0",this._properties.bg.element.style.bottom="0",this._properties.bg.element.style.left="0",this._properties.bg.element.style.right="0",this._properties.bg.element.style.opacity="0.2",core.isMobile()&&(this._properties.bg.element.style.width="auto"),this},e.prototype.setUpImg=function(){var e,t,i;return t=this._properties.bg.element.getAttribute("data-background-img"),null!=t&&(e=this.buildElement("img"),i=function(t){return function(){return t.setCSS().matchParentSize().bindResize(),e.removeEventListener("load",i,!1),t._properties.parent.removeChild(t._properties.bg.root),t}}(this),e.addEventListener("load",i,!1)),this},e.prototype.setUpVideo=function(){var e,t;return t=this.buildElement("video"),t.style.display="none",e=function(i){return function(){return i.setCSS().matchParentSize().bindResize().startPlaying(),t.removeEventListener("canplay",e,!1),i._properties.parent.removeChild(i._properties.bg.root),i}}(this),t.addEventListener("canplay",e,!1)},e.prototype.startPlaying=function(){var e;return this._properties.bg.element.loop=!0,this._properties.bg.element.volume=0,this._properties.bg.element.paused&&this._properties.bg.element.play(),e=core.debounce(this.shouldPlay),window.addEventListener("scroll",e,!1),this},e.prototype.shouldPlay=function(){return core.isElementInView(this._properties.bg.element)?this._properties.bg.element.paused&&this._properties.bg.element.play():this._properties.bg.element.paused||this._properties.bg.element.pause(),this},e.prototype.bindResize=function(e){var t;return t=core.debounce(this.testIfResized),window.addEventListener("resize",t,!1),this},e.prototype.testIfResized=function(){return null!=this._properties.wid&&(this._properties.wid=window.innerWidth)?this.setPositionOffset():this.matchParentSize(),this},e.prototype.matchParentSize=function(){var e,t,i,n,r,s;return n=this.getParentHeight(),r=this.getParentWidth(),null!=this._properties.bg.element.videoHeight?(t=this._properties.bg.element.videoHeight,i=this._properties.bg.element.videoWidth):(t=this._properties.bg.element.naturalHeight,i=this._properties.bg.element.naturalWidth),e=i/t,s=r/n>=e,s?(this._properties.bg.element.width=r,this._properties.bg.element.height=r*t/i):(this._properties.bg.element.height=n,this._properties.bg.element.width=n*i/t),core.isMobile()&&(this._properties.wid=window.innerWidth),this.setPositionOffset(),this},e.prototype.setPositionOffset=function(){var e,t;switch(e=this.getParentHeight(),t=this.getParentWidth(),this._properties.bg.xaxis){case"left":this._properties.bg.element.style.marginLeft=0;break;case"right":this._properties.bg.element.style.marginLeft=-(this._properties.bg.element.width-t)+"px";break;default:this._properties.bg.element.style.marginLeft=-(Math.abs(this._properties.bg.element.width-t)/2)+"px"}switch(this._properties.bg.yaxis){case"top":this._properties.bg.element.style.marginTop=0;break;case"bottom":this._properties.bg.element.style.marginTop=-(this._properties.bg.element.height-e)+"px";break;default:this._properties.bg.element.style.marginTop=-((this._properties.bg.element.height-e)/2)+"px"}return this},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("BackgroundPlayer",BackgroundPlayer,"[data-background-video]");var Panel,bind=function(e,t){return function(){return e.apply(t,arguments)}};Panel=function(){function e(e,t){var i;this.data=e,this.bindEvents=bind(this.bindEvents,this),this.hidePanels=bind(this.hidePanels,this),this.hidePanel=bind(this.hidePanel,this),this.showPanel=bind(this.showPanel,this),this.loadPanel=bind(this.loadPanel,this),this.ajaxPanel=bind(this.ajaxPanel,this),this.bindClick=bind(this.bindClick,this),this.findTriggers=bind(this.findTriggers,this),this.findPanels=bind(this.findPanels,this),i=this.data.attributes[t].value.split(","),i=i.map(function(e){return e.trim()}),this._properties={attr:t,_id:i[0],target:this.data,panels:{},triggers:{}},this.findPanels(),this.findTriggers(),"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),this.bindEvents()}return e.prototype.findPanels=function(){var e,t,i,n,r,s;for(r=document.querySelectorAll("[data-panel]"),s=[],e=0,i=r.length;i>e;e++)n=r[e],n.dataset.panel.split(",")[0]===this._properties._id?(t=n.dataset.panel.split(",")[1].trim(),s.push(this._properties.panels[t]=n)):s.push(void 0);return s},e.prototype.findTriggers=function(){var e,t,i,n,r,s,o,a,l,u;for(u=document.querySelectorAll("[data-panel-show]"),o=[],n=0,r=u.length;r>n;n++)a=u[n],e=a.dataset.panelShow.split(",")[0].trim(),l=a.dataset.panelShow.split(",")[2].trim(),e===this._properties._id?(s=a.dataset.panelShow.split(","),s[3]&&(i=function(){var e;try{return JSON.parse(s[3])}catch(e){return t=e,!1}}()),void 0===this._properties.triggers[l]||i?(this._properties.triggers[l]=a,o.push(this.bindClick(a))):o.push(void 0)):o.push(void 0);return o},e.prototype.bindClick=function(e){return e.onclick=function(t){return function(i){var n,r,s;return i.preventDefault(),r=e.dataset.panelShow.split(","),s=r[1].trim(),null!=r[3]&&(n=function(){var e;try{return JSON.parse(r[3])}catch(e){return i=e,!1}}()),t.loadPanel(s,n)}}(this)},e.prototype.ajaxPanel=function(e){var t;return t=new XMLHttpRequest,t.onreadystatechange=function(e){return function(){var i;if(4===t.readyState&&200===t.status)return i=t.response.body.querySelectorAll("[data-panel]")[0],i.style.display="none",e._properties.target.appendChild(i),e.events.emit("loaded",i)}}(this),t.open("GET",e,!0),t.responseType="document",t.send()},e.prototype.loadPanel=function(e,t){var i,n,r,s,o,a;if(t===!0)return this._properties.force=!0,this.ajaxPanel(e,t),null!=core.panel[this._properties._id]._properties.panels[e]&&this._properties.panels[e].parentNode.removeChild(this._properties.panels[e]),!1;if(e=e.trim(),void 0!==core.panel[this._properties._id]._properties.panels[e])return this.hidePanels(),this.showPanel(core.panel[this._properties._id]._properties.panels[e]);for(a=document.querySelectorAll("[data-panel]"),s=0,o=a.length;o>s;s++)if(r=a[s],r.dataset.panel.split(",")[1]===e)this.hidePanels(),this.showPanel(r);else{if(i=Handlebars.getTemplate(e),"function"!=typeof i)return this.ajaxPanel(e),!1;n=i(),this.events.emit("loaded",n)}},e.prototype.showPanel=function(e){var t,i,n,r,s;for(e.style.display="block",core.addClass(e,"panel--active"),r=document.querySelectorAll('[data-panel-show*="'+e.dataset.panel+'"]'),s=[],i=0,n=r.length;n>i;i++)t=r[i],s.push(core.addClass(t,"panel--active--link"));return s},e.prototype.hidePanel=function(e){var t,i,n,r;if(document.getElementsByClassName("panel--active--link"))for(n=document.getElementsByClassName("panel--active--link"),t=0,i=n.length;i>t;t++)r=n[t],core.removeClass(r,"panel--active--link");return e.style.display="none",core.removeClass(e,"panel--active"),this},e.prototype.hidePanels=function(){var e,t,i,n;for(n=core.flattenObject(core.panel[this._properties._id]._properties.panels),e=0,t=n.length;t>e;e++)i=n[e],this.hidePanel(i);return this},e.prototype.bindEvents=function(){return this.events.on("loaded",function(e){return function(t){var i,n,r,s;if(e._properties.force)for(s=e._properties.panels,i=0,n=s.length;n>i;i++)r=s[i],r.parentNode.removeChild(r);return core.updateModels(t,e._properties.force),e.findTriggers(e._properties.force),e.findPanels(),e.hidePanels(),e.showPanel(t)}}(this)),this},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("Panel",Panel,"[data-panel-group]"),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,n){var r,s,o=this;if(o.defaults={accessibility:!0,appendArrows:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" class="slick-prev">Previous</button>',nextArrow:'<button type="button" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<div class="icon">'+(t+1)+"</div>"},dots:!1,dotsClass:"slider-dots",draggable:!0,easing:"linear",fade:!1,focusOnSelect:!1,infinite:!0,lazyLoad:"ondemand",onBeforeChange:null,onAfterChange:null,onInit:null,onReInit:null,pauseOnHover:!0,pauseOnDotsHover:!1,responsive:null,slide:"div",slidesToShow:1,slidesToScroll:1,showTitles:!0,speed:300,swipe:!0,touchMove:!0,touchThreshold:5,useCSS:!0,vertical:!1},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentSlide:0,currentLeft:null,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},e.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.paused=!1,o.positionProp=null,o.$slider=e(t),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.windowWidth=0,o.windowTimer=null,o.options=e.extend({},o.defaults,n),o.originalSettings=o.options,r=o.options.responsive||null,r&&r.length>-1){for(s in r)r.hasOwnProperty(s)&&(o.breakpoints.push(r[s].breakpoint),o.breakpointSettings[r[s].breakpoint]=r[s].settings);o.breakpoints.sort(function(e,t){return t-e})}o.autoPlay=e.proxy(o.autoPlay,o),o.autoPlayClear=e.proxy(o.autoPlayClear,o),o.changeSlide=e.proxy(o.changeSlide,o),o.selectHandler=e.proxy(o.selectHandler,o),o.setPosition=e.proxy(o.setPosition,o),o.swipeHandler=e.proxy(o.swipeHandler,o),o.dragHandler=e.proxy(o.dragHandler,o),o.keyHandler=e.proxy(o.keyHandler,o),o.autoPlayIterator=e.proxy(o.autoPlayIterator,o),o.instanceUid=i++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.init()}var i=0;return t}(),t.prototype.addSlide=function(t,i,n){var r=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=r.slideCount)return!1;r.unload(),"number"==typeof i?0===i&&0===r.$slides.length?e(t).appendTo(r.$slideTrack):n?e(t).insertBefore(r.$slides.eq(i)):e(t).insertAfter(r.$slides.eq(i)):n===!0?e(t).prependTo(r.$slideTrack):e(t).appendTo(r.$slideTrack),r.$slides=r.$slideTrack.children(this.options.slide),r.$slideTrack.children(this.options.slide).remove(),r.$slideTrack.append(r.$slides),r.$slides.each(function(t,i){e(i).attr("index",t)}),r.$slidesCache=r.$slides,r.reinit()},t.prototype.animateSlide=function(t,i){var n={},r=this;r.transformsEnabled===!1?r.options.vertical===!1?r.$slideTrack.animate({left:t},r.options.speed,r.options.easing,i):r.$slideTrack.animate({top:t},r.options.speed,r.options.easing,i):r.cssTransitions===!1?e({animStart:r.currentLeft}).animate({animStart:t},{duration:r.options.speed,easing:r.options.easing,step:function(e){r.options.vertical===!1?(n[r.animType]="translate("+e+"px, 0px)",r.$slideTrack.css(n)):(n[r.animType]="translate(0px,"+e+"px)",r.$slideTrack.css(n))},complete:function(){i&&i.call()}}):(r.applyTransition(),r.options.vertical===!1?n[r.animType]="translate3d("+t+"px, 0px, 0px)":n[r.animType]="translate3d(0px,"+t+"px, 0px)",r.$slideTrack.css(n),i&&setTimeout(function(){r.disableTransition(),i.call()},r.options.speed))},t.prototype.applyTransition=function(e){var t=this,i={};t.options.fade===!1?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.paused!==!0&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this;e.options.infinite===!1?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(e.currentSlide-1===0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll)},t.prototype.buildNav=function(){var t=this;t.options.showTitles===!0&&(t.$navContainer=e('<div class="slider__nav-container" ></div>').appendTo(t.$slider))},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&(t.options.showTitles===!0?t.$arrowContainer=e('<div class="slider__nav--arrows tiles tiles--light tiles--horizontal"></div>').appendTo(t.$navContainer):t.$arrowContainer=e('<div class="slider__nav--arrows tiles  "></div>').appendTo(t.$slider),t.$prevArrow=e('<div class="tile__item icon icon--small icon--arrow-left slider__nav--prev"></div>').appendTo(t.$arrowContainer),t.$nextArrow=e('<div class="tile__item icon icon--small icon--arrow-right slider__nav--next"></div>').appendTo(t.$arrowContainer),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled"))},t.prototype.buildDots=function(){var t,i,n=this;if(n.options.dots===!0){for(i='<ul class="slider__nav">',t=0;t<=n.getDotCount();t+=1)i+="<li>"+n.options.customPaging.call(this,n,t)+"</li>";i+="</ul>",n.options.showTitles===!1?n.$dots=e(i).appendTo(n.$navContainer):n.$dots=e(i).appendTo(n.$slider),n.$dots.find("li").first().addClass("slider--active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slider--cloned)").addClass("slider__item"),t.slideCount=t.$slides.length,t.$slidesCache=t.$slides,t.$slider.addClass("slider"),t.$slideTrack=0===t.slideCount?e('<div class="slider__track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slider__track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slider__list"/>').parent(),t.$slideTrack.css("opacity",0),t.options.centerMode===!0&&(t.options.infinite=!0,t.options.slidesToScroll=1,t.options.slidesToShow%2===0&&(t.options.slidesToShow=3)),e("img[data-lazy]",t.$slider).not("[src]").addClass("slider--loading"),t.setupInfinite(),t.buildNav(),t.buildDots(),t.buildArrows(),t.options.accessibility===!0&&t.$list.prop("tabIndex",0),t.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.checkResponsive=function(){var t,i,n=this;if(n.originalSettings.responsive&&n.originalSettings.responsive.length>-1&&null!==n.originalSettings.responsive){i=null;for(t in n.breakpoints)n.breakpoints.hasOwnProperty(t)&&e(window).width()<n.breakpoints[t]&&(i=n.breakpoints[t]);null!==i?null!==n.activeBreakpoint?i!==n.activeBreakpoint&&(n.activeBreakpoint=i,n.options=e.extend({},n.defaults,n.breakpointSettings[i]),n.refresh()):(n.activeBreakpoint=i,n.options=e.extend({},n.defaults,n.breakpointSettings[i]),n.refresh()):null!==n.activeBreakpoint&&(n.activeBreakpoint=null,n.options=e.extend({},n.defaults,n.originalSettings),n.refresh())}},t.prototype.changeSlide=function(t){var i=this,n=e(t.target),r=null!=i.options.asNavFor?e(i.options.asNavFor).getSlick():null;switch(n.is("a")&&t.preventDefault(),t.data.message){case"previous":i.slideHandler(i.currentSlide-i.options.slidesToScroll),null!=r&&r.slideHandler(r.currentSlide-r.options.slidesToScroll);break;case"next":i.slideHandler(i.currentSlide+i.options.slidesToScroll),null!=r&&r.slideHandler(r.currentSlide+r.options.slidesToScroll);break;case"index":var s=e(t.target).parent().index()*i.options.slidesToScroll;i.slideHandler(s),null!=r&&r.slideHandler(s);break;default:return!1}},t.prototype.destroy=function(){var t=this;t.autoPlayClear(),t.touchObject={},e(".slider--cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&(t.$prevArrow.remove(),t.$nextArrow.remove()),t.$slides.unwrap().unwrap(),t.$slides.removeClass("slider__item slider__item--active slider__item--visible").removeAttr("style"),t.$slider.removeClass("slider"),t.$slider.removeClass("slider--initialized"),t.$list.off(".slick"),e(window).off(".slick-"+t.instanceUid)},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(e).css({zIndex:1e3}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.filterSlides=function(e){var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).remove(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.getCurrent=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e,t=this,i=0,n=0,r=0;for(e=t.options.infinite===!0?t.slideCount+t.options.slidesToShow-t.options.slidesToScroll:t.slideCount;e>i;)r++,n+=t.options.slidesToScroll,i=n+t.options.slidesToShow;return r},t.prototype.getLeft=function(e){var t,i,n=this,r=0;return n.slideOffset=0,i=n.$slides.first().outerHeight(),n.options.infinite===!0?(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,r=i*n.options.slidesToShow*-1,n.slideCount%n.options.slidesToScroll!==0&&e+n.options.slidesToScroll>n.slideCount&&(n.slideOffset=n.slideCount%n.options.slidesToShow*n.slideWidth*-1,r=n.slideCount%n.options.slidesToShow*i*-1)):n.slideCount%n.options.slidesToShow!==0&&e+n.options.slidesToScroll>n.slideCount&&(n.slideOffset=n.options.slidesToShow*n.slideWidth-n.slideCount%n.options.slidesToShow*n.slideWidth,r=n.slideCount%n.options.slidesToShow*i),n.options.centerMode===!0&&n.options.infinite===!0?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:n.options.centerMode===!0&&(n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),t=n.options.vertical===!1?3===n.slideCount?(e-1)*n.slideWidth*-1+n.slideOffset:e*n.slideWidth*-1+n.slideOffset:e*i*-1+r},t.prototype.init=function(){var t=this;e(t.$slider).hasClass("slider--initialized")||(e(t.$slider).addClass("slider--initialized"),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.checkResponsive()),null!==t.options.onInit&&t.options.onInit.call(this,t)},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide)},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.options.pauseOnHover===!0&&t.options.autoplay===!0&&(t.$list.on("mouseenter.slick",t.autoPlayClear),t.$list.on("mouseleave.slick",t.autoPlay)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,function(){t.checkResponsive(),t.setPosition()}),e(window).on("resize.slick.slick-"+t.instanceUid,function(){e(window).width!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.setPosition()},50))}),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.$dots.show(),e.options.autoplay===!0&&e.autoPlay()},t.prototype.keyHandler=function(e){var t=this;37===e.keyCode?t.changeSlide({data:{message:"previous"}}):39===e.keyCode&&t.changeSlide({data:{message:"next"}})},t.prototype.lazyLoad=function(){var t,i,n,r,s=this;s.options.centerMode===!0||s.options.fade===!0?(n=s.options.slidesToShow+s.currentSlide-1,r=n+s.options.slidesToShow+2):(n=s.options.infinite?s.options.slidesToShow+s.currentSlide:s.currentSlide,r=n+s.options.slidesToShow),t=s.$slider.find(".slider__item").slice(n,r),e("img[data-lazy]",t).not("[src]").each(function(){e(this).css({opacity:0}).attr("src",e(this).attr("data-lazy")).removeClass("slider--loading").load(function(){e(this).animate({opacity:1},200)})}),s.currentSlide>=s.slideCount-s.options.slidesToShow?(i=s.$slider.find(".slider--cloned").slice(0,s.options.slidesToShow),e("img[data-lazy]",i).not("[src]").each(function(){e(this).css({opacity:0}).attr("src",e(this).attr("data-lazy")).removeClass("slider--loading").load(function(){e(this).animate({opacity:1},200)})})):0===s.currentSlide&&(i=s.$slider.find(".slider--cloned").slice(-1*s.options.slidesToShow),e("img[data-lazy]",i).not("[src]").each(function(){e(this).css({opacity:0}).attr("src",e(this).attr("data-lazy")).removeClass("slider--loading").load(function(){e(this).animate({opacity:1},200)})}))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slider--loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.postSlide=function(e){var t=this;null!==t.options.onAfterChange&&t.options.onAfterChange.call(this,t,e),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay===!0&&t.paused===!1&&t.autoPlay()},t.prototype.progressiveLazyLoad=function(){var t,i,n=this;t=e("img[data-lazy]").not("[src]").length,t>0&&(i=e(e("img[data-lazy]",n.$slider).not("[src]").get(0)),i.attr("src",i.attr("data-lazy")).removeClass("slider--loading").load(function(){n.progressiveLazyLoad()}))},t.prototype.refresh=function(){var t=this,i=t.currentSlide;t.destroy(),e.extend(t,t.initials),t.currentSlide=i,t.init()},t.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slider__item"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.setSlideClasses(0),e.setPosition(),null!==e.options.onReInit&&e.options.onReInit.call(this,e)},t.prototype.removeSlide=function(e,t){var i=this;return"boolean"==typeof e?(t=e,e=t===!0?0:i.slideCount-1):e=t===!0?--e:e,i.slideCount<1||0>e||e>i.slideCount-1?!1:(i.unload(),i.$slideTrack.children(this.options.slide).eq(e).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).remove(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,void i.reinit())},t.prototype.setCSS=function(e){var t,i,n=this,r={};t="left"==n.positionProp?e+"px":"0px",i="top"==n.positionProp?e+"px":"0px",r[n.positionProp]=e,n.transformsEnabled===!1?n.$slideTrack.css(r):(r={},n.cssTransitions===!1?(r[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(r)):(r[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(r)))},t.prototype.setDimensions=function(){var e=this;e.options.centerMode===!0?e.$slideTrack.children(".slider__item").width(e.slideWidth):e.$slideTrack.children(".slider__item").width(e.slideWidth),e.options.vertical===!1?(e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slider__item").length)),e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding})):(e.$list.height(e.$slides.first().outerHeight()*e.options.slidesToShow),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight()*e.$slideTrack.children(".slider__item").length)),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"}))},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,r){t=i.slideWidth*n*-1,e(r).css({position:"relative",left:t,top:0,zIndex:800,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:900,opacity:1})},t.prototype.setPosition=function(){var e=this;e.setValues(),e.setDimensions(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade()},t.prototype.setProps=function(){var e=this;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==document.body.style.WebkitTransition||void 0!==document.body.style.MozTransition||void 0!==document.body.style.msTransition)&&e.options.useCSS===!0&&(e.cssTransitions=!0),void 0!==document.body.style.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition"),void 0!==document.body.style.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition"),void 0!==document.body.style.msTransform&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType},t.prototype.setValues=function(){var e=this;e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1?e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow):e.slideWidth=Math.ceil(e.listWidth)},t.prototype.setSlideClasses=function(e){var t,i,n,r=this;r.$slider.find(".slider__item").removeClass("slider__item--active").removeClass("slider__item--center"),i=r.$slider.find(".slider__item"),r.options.centerMode===!0?(t=Math.floor(r.options.slidesToShow/2),r.slideCount<=3?(r.slideCount<3?(n=r.slideCount+e,i.slice(n-t,n+t).addClass("slider__item--active")):(n=r.options.slidesToShow+e,i.slice(n-t,n+t+1).addClass("slider__item--active")),3==r.slideCount?i.eq(e+3).addClass("slider__item--center"):i.eq(e+4).addClass("slider__item--center")):(e>=t&&e<=r.slideCount-1-t?r.$slides.slice(e-t,e+t+1).addClass("slider__item--active"):(n=r.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slider__item--active")),0===e?i.eq(i.length-1-r.options.slidesToShow).addClass("slider__item--center"):e===r.slideCount-1&&i.eq(r.options.slidesToShow).addClass("slider__item--center"),r.$slides.eq(e).addClass("slider__item--center"))):e>0&&e<r.slideCount-r.options.slidesToShow?r.$slides.slice(e,e+r.options.slidesToShow).addClass("slider__item--active"):i.length<=r.options.slidesToShow?i.addClass("slider__item--active"):(n=r.options.infinite===!0?r.options.slidesToShow+e:e,i.slice(n,n+r.options.slidesToShow).addClass("slider__item--active")),"ondemand"===r.options.lazyLoad&&r.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,r=this;if((r.options.fade===!0||r.options.vertical===!0)&&(r.options.centerMode=!1),r.options.infinite===!0&&r.options.fade===!1){for(i=null,n=r.options.centerMode===!0?r.options.slidesToShow+1:r.options.slidesToShow,r.slideCount<r.options.slidesToShow&&(n=r.slideCount),t=r.slideCount;t>r.slideCount-n;t-=1)i=t-1,e(r.$slides[i]).clone().attr("id","").prependTo(r.$slideTrack).addClass("slider--cloned");for(t=0;n>t;t+=1)i=t,e(r.$slides[i]).clone().attr("id","").appendTo(r.$slideTrack).addClass("slider--cloned");r.$slideTrack.find(".slider--cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.slideHandler=function(e){var t,i,n,r,s=null,o=this;return o.animating===!0?!1:(t=e,s=o.getLeft(t),n=o.getLeft(o.currentSlide),r=o.slideCount%o.options.slidesToScroll!==0?o.options.slidesToScroll:0,o.currentLeft=null===o.swipeLeft?n:o.swipeLeft,o.options.infinite===!1&&(0>e||e>o.slideCount-o.options.slidesToShow+r)?(o.options.fade===!1&&(t=o.currentSlide,o.animateSlide(n,function(){o.postSlide(t)})),!1):(o.options.autoplay===!0&&clearInterval(o.autoPlayTimer),i=0>t?o.slideCount%o.options.slidesToScroll!==0?o.slideCount-o.slideCount%o.options.slidesToScroll:o.slideCount-o.options.slidesToScroll:t>o.slideCount-1?0:t,o.animating=!0,null!==o.options.onBeforeChange&&e!==o.currentSlide&&o.options.onBeforeChange.call(this,o,o.currentSlide,i),o.currentSlide=i,o.setSlideClasses(o.currentSlide),o.updateDots(),o.updateArrows(),o.options.fade===!0?(o.fadeSlide(i,function(){o.postSlide(i)}),!1):void o.animateSlide(s,function(){o.postSlide(i)})))},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.$dots.hide(),e.$slider.addClass("slider--loading")},t.prototype.swipeDirection=function(){var e,t,i,n,r=this;return e=r.touchObject.startX-r.touchObject.curX,t=r.touchObject.startY-r.touchObject.curY,i=Math.atan2(t,e),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?"left":360>=n&&n>=315?"left":n>=135&&225>=n?"right":"vertical"},t.prototype.swipeEnd=function(t){var i=this;if(i.$list.removeClass("dragging"),void 0===i.touchObject.curX)return!1;if(i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(e(t.target).on("click.slick",function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e(t.target).off("click.slick")}),i.swipeDirection()){case"left":i.slideHandler(i.currentSlide+i.options.slidesToScroll),i.touchObject={};break;case"right":i.slideHandler(i.currentSlide-i.options.slidesToScroll),i.touchObject={}}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1)&&t.options.draggable!==!1&&(t.options.draggable!==!1||e.originalEvent.touches))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,r,s=this;return r=void 0!==e.originalEvent?e.originalEvent.touches:null,t=s.getLeft(s.currentSlide),!s.$list.hasClass("dragging")||r&&1!==r.length?!1:(s.touchObject.curX=void 0!==r?r[0].pageX:e.clientX,s.touchObject.curY=void 0!==r?r[0].pageY:e.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),
i=s.swipeDirection(),"vertical"!==i?(void 0!==e.originalEvent&&s.touchObject.swipeLength>4&&e.preventDefault(),n=s.touchObject.curX>s.touchObject.startX?1:-1,s.options.vertical===!1?s.swipeLeft=t+s.touchObject.swipeLength*n:s.swipeLeft=t+s.touchObject.swipeLength*(s.$list.height()/s.listWidth)*n,s.options.fade===!0||s.options.touchMove===!1?!1:s.animating===!0?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft)):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void i.$list.addClass("dragging"))},t.prototype.unfilterSlides=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).remove(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slider--cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&(t.$prevArrow.remove(),t.$nextArrow.remove()),t.$slides.removeClass("slider__item slider__item--active slider__item--visible").removeAttr("style")},t.prototype.updateArrows=function(){var e=this;e.options.arrows===!0&&e.options.infinite!==!0&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slider__item--active"),e.$dots.find("li").eq(e.currentSlide/e.options.slidesToScroll).addClass("slider__item--active"))},e.fn.slick=function(e){var i=this;return i.each(function(i,n){n.slick=new t(n,e)})},e.fn.slickAdd=function(e,t,i){var n=this;return n.each(function(n,r){r.slick.addSlide(e,t,i)})},e.fn.slickCurrentSlide=function(){var e=this;return e.get(0).slick.getCurrent()},e.fn.slickFilter=function(e){var t=this;return t.each(function(t,i){i.slick.filterSlides(e)})},e.fn.slickGoTo=function(e){var t=this;return t.each(function(t,i){i.slick.slideHandler(e)})},e.fn.slickNext=function(){var e=this;return e.each(function(e,t){t.slick.changeSlide({data:{message:"next"}})})},e.fn.slickPause=function(){var e=this;return e.each(function(e,t){t.slick.autoPlayClear(),t.slick.paused=!0})},e.fn.slickPlay=function(){var e=this;return e.each(function(e,t){t.slick.paused=!1,t.slick.autoPlay()})},e.fn.slickPrev=function(){var e=this;return e.each(function(e,t){t.slick.changeSlide({data:{message:"previous"}})})},e.fn.slickRemove=function(e,t){var i=this;return i.each(function(i,n){n.slick.removeSlide(e,t)})},e.fn.slickSetOption=function(e,t,i){var n=this;return n.each(function(n,r){r.slick.options[e]=t,i===!0&&(r.slick.unload(),r.slick.reinit())})},e.fn.slickUnfilter=function(){var e=this;return e.each(function(e,t){t.slick.unfilterSlides()})},e.fn.unslick=function(){var e=this;return e.each(function(e,t){t.slick.destroy()})}});var Slider,bind=function(e,t){return function(){return e.apply(t,arguments)}};Slider=function(){function e(e,t){var i,n,r,s;this.data=e,this.enableSlider=bind(this.enableSlider,this),this.configureSettings=bind(this.configureSettings,this),this.getBreakpoints=bind(this.getBreakpoints,this),s=this.data.attributes[t].value.split(","),s=s.map(function(e){return e.trim()}),s.length>3&&(r=s.splice(0,2),n=s.join(","),s=r.concat(n)),this._properties={_id:s[0],target:this.data,start:s[1]-1,settings:function(){var e;try{return JSON.parse(s[2])}catch(e){return i=e,{}}}()},this.configureSettings()}return e.prototype.getBreakpoints=function(){var e;return e=[{breakpoint:1600,settings:{centerMode:!0,slidesToShow:1}},{breakpoint:1280,settings:{centerMode:!0,slidesToShow:1}},{breakpoint:960,settings:{centerMode:!0,slidesToShow:1}},{breakpoint:480,settings:{centerMode:!0,slidesToShow:1}}]},e.prototype.configureSettings=function(){var e;return e=this._properties.settings,e.showTitles&&(e.customPaging=function(e,t){var i;return i=$(e.$slides.get(t)).find("a").attr("title")||"",'<a class="slider__nav--title" >'+i+"</a>"}),e.responsive&&(e={centerMode:!0,centerPadding:"60px",slidesToShow:3,responsive:[{breakpoint:768,settings:{arrows:!0,centerMode:!0,centerPadding:"20px",slidesToShow:1}},{breakpoint:480,settings:{arrows:!0,centerMode:!0,centerPadding:"5px",slidesToShow:1}}]}),this.enableSlider(e)},e.prototype.enableSlider=function(e){return document.addEventListener("DOMContentLoaded",function(t){return function(){return $(t._properties.target).slick(e).slickGoTo(t._properties.start)}}(this))},e}(),jQuery&&"undefined"!=typeof core&&null!==core&&core.addPlugin("Slider",Slider,"[data-slider]");var Share,bind=function(e,t){return function(){return e.apply(t,arguments)}};Share=function(){function e(e,t){var i,n,r,s,o,a,l,u;this.data=e,this.bindClick=bind(this.bindClick,this),this.email=bind(this.email,this),this.tweet=bind(this.tweet,this),this.share=bind(this.share,this),this.showMenu=bind(this.showMenu,this),this.watch=bind(this.watch,this),this.md=bind(this.md,this),this.dmd=bind(this.dmd,this),this.bindWatch=bind(this.bindWatch,this),this.data instanceof jQuery&&(this.data=this.data.get(0)),o=this.data.attributes[t].value.split(/[,](?=[^\]]*?(?:\[))(?=[^\}]*?(?:\{))/g),o=o.map(function(e){return e.trim()}),o.length>3&&(s=o.splice(0,2),r=o.join(","),o=s.concat(r)),n=function(){var e;try{return JSON.parse(o[1]).hashtags}catch(e){return i=e,{}}}(),this._properties={target:this.data,_id:o[0],attr:t,text:null,handle:null!=(a=document.querySelectorAll('[name="twitter:creator"]')[0].content.replace("@",""))?a:"newspring",url:null!=(l=document.querySelectorAll('[property="short_url"]')[0].content)?l:"http://newspring.cc",longUrl:window.location.href,hashtags:null!=n?n:!1,subject:null!=(u=document.getElementsByTagName("title")[0].innerText)?u:"Ask Next Steps About This Subject Line"},"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),this.showMenu(),this.bindWatch().bindClick()}return e.prototype.bindWatch=function(){return this._properties.target.onmousedown=this.md,document.onmousedown=this.dmd,this._properties.target.onmouseup=this.watch,this},e.prototype.dmd=function(e){var t;return this._properties.dmdy=e.pageY,this._properties.dmdy!==this._properties.mdy&&void 0===e.target.parentNode.dataset.shareButton?(t=document.getElementById("share"),core.removeClass(t,"share-menu-active")):void 0},e.prototype.md=function(e){return this._properties.mdy=e.pageY,this._properties.mdx=e.pageX},e.prototype.watch=function(e){var t,i,n,r,s,o,a,l,u,d,c;return a=document.getSelection(),u=a.toString(),r=a.getRangeAt(0).cloneRange(),t=r.getBoundingClientRect(),r.getClientRects&&(r.collapse(!0),s=r.getClientRects()[0],c=s.top,d=document.body.scrollTop+c),o=r.getClientRects()[0],i=document.getElementById("share"),""===u?core.removeClass(i,"share-menu-active"):(core.addClass(i,"share-menu-active"),this._properties.text=u,void 0===e.target.parentNode.dataset.shareButton?this._properties.mdy!==e.pageY&&this._properties.dmdy!==e.pageY||this._properties.mdx!==e.pageX?(d=d-i.offsetHeight-10,i.setAttribute("style","top:"+d+"px;"),l=i.getAttribute("style"),n=(o.left+t.right)/2-i.offsetWidth/2,0>n&&(n=0),l=l+"left:"+n+"px;",i.setAttribute("style",l)):core.removeClass(i,"share-menu-active"):void 0)},e.prototype.showMenu=function(){var e,t,i;return i="share",e=Handlebars.getTemplate(i),"function"==typeof e?(t=document.createElement("div"),t.innerHTML=e(),document.body.appendChild(t)):void 0},e.prototype.share=function(e){var t,i,n,r,s,o,a,l,u,d,c,p;if(e.preventDefault(),c=this._properties.text,p=encodeURIComponent("http:"+this._properties.url.slice(this._properties.url.indexOf("//"))),u=encodeURIComponent("http:"+this._properties.longUrl.slice(this._properties.longUrl.indexOf("//"))),a="",this._properties.handle&&(a="via @"+this._properties.handle),l="",i=0,this._properties.hashtags){for(s=this._properties.hashtags,n=0,r=s.length;r>n;n++)t=s[n],l+=t+", ",i++;l=l.slice(0,l.length-2)}return d="",p.length>0&&(d+=p+" "),a.length>0&&(d+=a+" "),l.length>0&&(d+=l),o={shareHandle:a,shareString:d,shareText:'"'+c+'"',shareUrl:p,shareLongUrl:u,shareHashtagList:l.replace(" ",""),hashtagCount:i,emailSubject:encodeURIComponent(this._properties.subject.trim())},"twitter-share-button"===e.target.parentNode.id?this.tweet(o):"email-share-button"===e.target.parentNode.id?this.email(o):console.log("facebook can go here")},e.prototype.tweet=function(e){var t,i,n;return n=140-e.shareString.length,e.shareText.length>n&&(n-=e.hashtagCount+6,e.shareText=e.shareText.slice(0,n),e.shareText+='..."'),i="https://twitter.com/intent/tweet?",i+="text="+encodeURIComponent(e.shareText),i+="&url="+e.shareUrl,this._properties.handle&&(i+="&via="+this._properties.handle),this._properties.hashtags&&(i+="&hashtags="+e.shareHashtagList),t=document.getElementById("share"),core.removeClass(t,"share-menu-active"),document.getSelection().removeAllRanges(),window.open(i,"_blank","location=yes,height=420,width=550")},e.prototype.email=function(e){var t,i,n,r,s;return s="\r\n",n=e.emailSubject,i="I found this on "+e.shareLongUrl+"<br /><br />"+encodeURIComponent(e.shareText),r="mailto:?subject="+n+"&body="+i,t=document.getElementById("share"),core.removeClass(t,"share-menu-active"),document.getSelection().removeAllRanges(),window.location.href=r},e.prototype.bindClick=function(){var e,t,i,n,r;for(r=document.querySelectorAll("[data-share-button]"),i=[],e=0,t=r.length;t>e;e++)n=r[e],this._properties.trigger=n,i.push(n.addEventListener("click",this.share,!1));return i},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("Share",Share,"[data-share]");var userAgent,bind=function(e,t){return function(){return e.apply(t,arguments)}};userAgent=function(){function e(e,t){var i,n,r;this.data=e,this.setDevice=bind(this.setDevice,this),r=this.data.attributes[t].value.split(","),r=r.map(function(e){return e.trim()}),r.length>3&&(n=r.splice(0,2),i=r.join(","),r=n.concat(i)),this._properties={_id:r[0],target:this.data,targetDevice:r[1]},/Mobile|Android|Silk/i.test(navigator.userAgent)&&this.setDevice()}var t;return t=e,e.prototype.setDevice=function(){var e;return/iPhone|iPad|iPod/i.test(navigator.userAgent)?e="ios":/Silk/i.test(navigator.userAgent)?e="kindle":/Android|Nexus/i.test(navigator.userAgent)&&(e="android"),e===this._properties.targetDevice?core.removeClass(this._properties.target,"visuallyhidden"):e!==this._properties.targetDevice?core.addClass(this._properties.target,"visuallyhidden"):void 0},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("userAgent",userAgent,"[data-user-agent]");var objectFit,bind=function(e,t){return function(){return e.apply(t,arguments)}};objectFit=function(){function e(e,t){var i,n,r;this.data=e,this.imageSwap=bind(this.imageSwap,this),this.browserCheck=bind(this.browserCheck,this),r=this.data.attributes[t].value.split(","),r=r.map(function(e){return e.trim()}),r.length>3&&(n=r.splice(0,2),i=r.join(","),r=n.concat(i)),this._properties={_id:r[0],target:this.data},this.browserCheck()}var t;return t=e,e.prototype.browserCheck=function(){return/msie|Trident|Android\s(4\.[0-9 .]*)|\sOS\s7|Silk|(?:[6-7]\.[0-9 .]*)\sSafari/i.test(navigator.userAgent)?this.imageSwap():void 0},e.prototype.imageSwap=function(){var e,t;return e=this._properties.target.src,t=this._properties.target.className,this._properties.target.outerHTML="<span class='"+t+" background--fill' style='background-image: url("+e+");'></span>"},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("objectFit",objectFit,"[data-object-fit]"),navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(){var e={attr:function(e,t,i){var n,r={},s=this.msieversion(),o=new RegExp("^"+t,"i");if("undefined"==typeof e||"undefined"==typeof e[0])return{};for(var a in e[0].attributes)if(n=e[0].attributes[a],"undefined"!=typeof n&&null!==n&&(!s||s>=8||n.specified)&&o.test(n.name)){if("undefined"!=typeof i&&new RegExp(i+"$","i").test(n.name))return!0;r[this.camelize(n.name.replace(t,""))]=this.deserializeValue(n.value)}return"undefined"==typeof i?r:!1},setAttr:function(e,t,i,n){e[0].setAttribute(this.dasherize(t+i),String(n))},get:function(e,t){for(var i=0,n=(t||"").split(".");this.isObject(e)||this.isArray(e);)if(e=e[n[i++]],i===n.length)return e},hash:function(e){return String(Math.random()).substring(2,e?e+2:9)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return e===Object(e)},deserializeValue:function(e){var t;try{return e?"true"==e||("false"==e?!1:"null"==e?null:isNaN(t=Number(e))?/^[\[\{]/.test(e)?$.parseJSON(e):e:t):e}catch(i){return e}},camelize:function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},dasherize:function(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},msieversion:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");return t>0||navigator.userAgent.match(/Trident.*rv\:11\./)?parseInt(e.substring(t+5,e.indexOf(".",t)),10):0}},t={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"error",successClass:"parsley-success",classHandler:function(e){},errorsContainer:function(e){},errorsWrapper:'<ul class="form--error"></ul>',errorTemplate:"<li></li>"},i=function(){};i.prototype={asyncSupport:!1,actualizeOptions:function(){return this.options=this.OptionsFactory.get(this),this},validateThroughValidator:function(e,t,i){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[e,t,i])},subscribe:function(e,t){return $.listenTo(this,e.toLowerCase(),t),this},unsubscribe:function(e){return $.unsubscribeTo(this,e.toLowerCase()),this},reset:function(){if("ParsleyForm"!==this.__class__)return $.emit("parsley:field:reset",this);for(var e=0;e<this.fields.length;e++)$.emit("parsley:field:reset",this.fields[e]);$.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void $.emit("parsley:field:destroy",this);for(var e=0;e<this.fields.length;e++)this.fields[e].destroy();this.$element.removeData("Parsley"),$.emit("parsley:form:destroy",this)}},function(e){var t=function(e){return this.__class__="Validator",this.__version__="0.5.8",this.options=e||{},this.bindingKey=this.options.bindingKey||"_validatorjsConstraint",this};t.prototype={constructor:t,validate:function(e,t,i){if("string"!=typeof e&&"object"!=typeof e)throw new Error("You must validate an object or a string");return"string"==typeof e||o(e)?this._validateString(e,t,i):this.isBinded(e)?this._validateBindedObject(e,t):this._validateObject(e,t,i)},bind:function(e,t){if("object"!=typeof e)throw new Error("Must bind a Constraint to an object");return e[this.bindingKey]=new i(t),this},unbind:function(e){return"undefined"==typeof e._validatorjsConstraint?this:(delete e[this.bindingKey],this)},isBinded:function(e){return"undefined"!=typeof e[this.bindingKey]},getBinded:function(e){return this.isBinded(e)?e[this.bindingKey]:null},_validateString:function(e,t,i){var s,a=[];o(t)||(t=[t]);for(var l=0;l<t.length;l++){if(!(t[l]instanceof r))throw new Error("You must give an Assert or an Asserts array to validate a string");s=t[l].check(e,i),s instanceof n&&a.push(s)}return a.length?a:!0},_validateObject:function(e,t,n){if("object"!=typeof t)throw new Error("You must give a constraint to validate an object");return t instanceof i?t.check(e,n):new i(t).check(e,n)},_validateBindedObject:function(e,t){return e[this.bindingKey].check(e,t)}},t.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var i=function(e,t){if(this.__class__="Constraint",this.options=t||{},this.nodes={},e)try{this._bootstrap(e)}catch(i){throw new Error("Should give a valid mapping object to Constraint",i,e)}return this};i.prototype={constructor:i,check:function(e,t){var i,n={};for(var a in this.options.strict?this.nodes:e)if(this.options.strict?this.has(a,e):this.has(a))i=this._check(a,e[a],t),(o(i)&&i.length>0||!o(i)&&!s(i))&&(n[a]=i);else if(this.options.strict)try{(new r).HaveProperty(a).validate(e)}catch(l){n[a]=l}return s(n)?!0:n},add:function(e,t){if(t instanceof r||o(t)&&t[0]instanceof r)return this.nodes[e]=t,this;if("object"==typeof t&&!o(t))return this.nodes[e]=t instanceof i?t:new i(t),this;throw new Error("Should give an Assert, an Asserts array, a Constraint",t)},has:function(e,t){return t="undefined"!=typeof t?t:this.nodes,"undefined"!=typeof t[e]},get:function(e,t){return this.has(e)?this.nodes[e]:t||null},remove:function(e){var t=[];for(var i in this.nodes)i!==e&&(t[i]=this.nodes[i]);return this.nodes=t,this},_bootstrap:function(e){if(e instanceof i)return this.nodes=e.nodes;for(var t in e)this.add(t,e[t])},_check:function(e,t,n){if(this.nodes[e]instanceof r)return this._checkAsserts(t,[this.nodes[e]],n);if(o(this.nodes[e]))return this._checkAsserts(t,this.nodes[e],n);if(this.nodes[e]instanceof i)return this.nodes[e].check(t,n);throw new Error("Invalid node",this.nodes[e])},_checkAsserts:function(e,t,i){for(var n,r=[],s=0;s<t.length;s++)n=t[s].check(e,i),"undefined"!=typeof n&&!0!==n&&r.push(n);return r}};var n=function(e,t,i){if(this.__class__="Violation",!(e instanceof r))throw new Error("Should give an assertion implementing the Assert interface");this.assert=e,this.value=t,"undefined"!=typeof i&&(this.violation=i)};n.prototype={show:function(){var e={assert:this.assert.__class__,value:this.value};return this.violation&&(e.violation=this.violation),e},__toString:function(){return"undefined"!=typeof this.violation&&(this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected),this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var e,t;for(e in this.violation)t=this.violation[e];return{constraint:e,expected:t}}};var r=function(e){return this.__class__="Assert",this.__parentClass__=this.__class__,this.groups=[],"undefined"!=typeof e&&this.addGroup(e),this};r.prototype={construct:r,check:function(e,t){if((!t||this.hasGroup(t))&&(t||!this.hasGroups()))try{return this.validate(e,t)}catch(i){return i}},hasGroup:function(e){return o(e)?this.hasOneOf(e):"Any"===e?!0:this.hasGroups()?-1!==this.groups.indexOf(e):"Default"===e},hasOneOf:function(e){for(var t=0;t<e.length;t++)if(this.hasGroup(e[t]))return!0;return!1},hasGroups:function(){return this.groups.length>0},addGroup:function(e){return o(e)?this.addGroups(e):(this.hasGroup(e)||this.groups.push(e),this)},removeGroup:function(e){for(var t=[],i=0;i<this.groups.length;i++)e!==this.groups[i]&&t.push(this.groups[i]);return this.groups=t,this},addGroups:function(e){for(var t=0;t<e.length;t++)this.addGroup(e[t]);return this},HaveProperty:function(e){return this.__class__="HaveProperty",this.node=e,this.validate=function(e){if("undefined"==typeof e[this.node])throw new n(this,e,{value:this.node});return!0},this},Blank:function(){return this.__class__="Blank",this.validate=function(e){if("string"!=typeof e)throw new n(this,e,{value:t.errorCode.must_be_a_string});if(""!==e.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new n(this,e);return!0},this},Callback:function(e){if(this.__class__="Callback",this.arguments=Array.prototype.slice.call(arguments),1===this.arguments.length?this.arguments=[]:this.arguments.splice(0,1),"function"!=typeof e)throw new Error("Callback must be instanciated with a function");return this.fn=e,this.validate=function(e){var t=this.fn.apply(this,[e].concat(this.arguments));if(!0!==t)throw new n(this,e,{result:t});return!0},this},Choice:function(e){if(this.__class__="Choice",!o(e)&&"function"!=typeof e)throw new Error("Choice must be instanciated with an array or a function");return this.list=e,this.validate=function(e){for(var t="function"==typeof this.list?this.list():this.list,i=0;i<t.length;i++)if(e===t[i])return!0;throw new n(this,e,{choices:t})},this},Collection:function(e){return this.__class__="Collection",this.constraint="undefined"!=typeof e?new i(e):!1,this.validate=function(e,i){var r,a=new t,l=0,u={},d=this.groups.length?this.groups:i;if(!o(e))throw new n(this,array,{value:t.errorCode.must_be_an_array});for(var c=0;c<e.length;c++)r=this.constraint?a.validate(e[c],this.constraint,d):a.validate(e[c],d),s(r)||(u[l]=r),l++;return s(u)?!0:u},this},Count:function(e){return this.__class__="Count",this.count=e,this.validate=function(e){if(!o(e))throw new n(this,e,{value:t.errorCode.must_be_an_array});var i="function"==typeof this.count?this.count(e):this.count;if(isNaN(Number(i)))throw new Error("Count must be a valid interger",i);if(i!==e.length)throw new n(this,e,{count:i});return!0},this},Email:function(){return this.__class__="Email",this.validate=function(e){var i=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!=typeof e)throw new n(this,e,{value:t.errorCode.must_be_a_string});if(!i.test(e))throw new n(this,e);return!0},this},Eql:function(e){if(this.__class__="Eql","undefined"==typeof e)throw new Error("Equal must be instanciated with an Array or an Object");return this.eql=e,this.validate=function(e){var t="function"==typeof this.eql?this.eql(e):this.eql;if(!a.eql(t,e))throw new n(this,e,{eql:t});return!0},this},EqualTo:function(e){if(this.__class__="EqualTo","undefined"==typeof e)throw new Error("EqualTo must be instanciated with a value or a function");return this.reference=e,this.validate=function(e){var t="function"==typeof this.reference?this.reference(e):this.reference;if(t!==e)throw new n(this,e,{value:t});return!0},this},GreaterThan:function(e){if(this.__class__="GreaterThan","undefined"==typeof e)throw new Error("Should give a threshold value");return this.threshold=e,this.validate=function(e){if(""===e||isNaN(Number(e)))throw new n(this,e,{value:t.errorCode.must_be_a_number});if(this.threshold>=e)throw new n(this,e,{threshold:this.threshold});return!0},this},GreaterThanOrEqual:function(e){if(this.__class__="GreaterThanOrEqual","undefined"==typeof e)throw new Error("Should give a threshold value");return this.threshold=e,this.validate=function(e){if(""===e||isNaN(Number(e)))throw new n(this,e,{value:t.errorCode.must_be_a_number});if(this.threshold>e)throw new n(this,e,{threshold:this.threshold});return!0},this},InstanceOf:function(e){if(this.__class__="InstanceOf","undefined"==typeof e)throw new Error("InstanceOf must be instanciated with a value");return this.classRef=e,this.validate=function(e){if(!0!=e instanceof this.classRef)throw new n(this,e,{classRef:this.classRef});return!0},this},IPv4:function(){return this.__class__="IPv4",this.validate=function(e){var i=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;if("string"!=typeof e)throw new n(this,e,{value:t.errorCode.must_be_a_string});if(!i.test(e))throw new n(this,e);return!0},this},Length:function(e){if(this.__class__="Length",!e.min&&!e.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");return this.min=e.min,this.max=e.max,this.validate=function(e){if("string"!=typeof e&&!o(e))throw new n(this,e,{value:t.errorCode.must_be_a_string_or_array});if("undefined"!=typeof this.min&&this.min===this.max&&e.length!==this.min)throw new n(this,e,{min:this.min,max:this.max});if("undefined"!=typeof this.max&&e.length>this.max)throw new n(this,e,{max:this.max});if("undefined"!=typeof this.min&&e.length<this.min)throw new n(this,e,{min:this.min});return!0},this},LessThan:function(e){if(this.__class__="LessThan","undefined"==typeof e)throw new Error("Should give a threshold value");return this.threshold=e,this.validate=function(e){if(""===e||isNaN(Number(e)))throw new n(this,e,{value:t.errorCode.must_be_a_number});if(this.threshold<=e)throw new n(this,e,{threshold:this.threshold});return!0},this},LessThanOrEqual:function(e){if(this.__class__="LessThanOrEqual","undefined"==typeof e)throw new Error("Should give a threshold value");return this.threshold=e,this.validate=function(e){if(""===e||isNaN(Number(e)))throw new n(this,e,{value:t.errorCode.must_be_a_number});if(this.threshold<e)throw new n(this,e,{threshold:this.threshold});return!0},this},Mac:function(){return this.__class__="Mac",this.validate=function(e){var i=/^(?:[0-9A-F]{2}:){5}[0-9A-F]{2}$/i;if("string"!=typeof e)throw new n(this,e,{value:t.errorCode.must_be_a_string});if(!i.test(e))throw new n(this,e);return!0},this},NotNull:function(){return this.__class__="NotNull",this.validate=function(e){if(null===e||"undefined"==typeof e)throw new n(this,e);return!0},this},NotBlank:function(){return this.__class__="NotBlank",this.validate=function(e){if("string"!=typeof e)throw new n(this,e,{value:t.errorCode.must_be_a_string});if(""===e.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new n(this,e);return!0},this},Null:function(){return this.__class__="Null",this.validate=function(e){if(null!==e)throw new n(this,e);return!0},this},Range:function(e,t){if(this.__class__="Range","undefined"==typeof e||"undefined"==typeof t)throw new Error("Range assert expects min and max values");return this.min=e,this.max=t,this.validate=function(e){try{return"string"==typeof e&&isNaN(Number(e))||o(e)?(new r).Length({min:this.min,max:this.max}).validate(e):(new r).GreaterThanOrEqual(this.min).validate(e)&&(new r).LessThanOrEqual(this.max).validate(e),!0}catch(t){throw new n(this,e,t.violation)}return!0},this},Regexp:function(e,i){if(this.__class__="Regexp","undefined"==typeof e)throw new Error("You must give a regexp");return this.regexp=e,this.flag=i||"",this.validate=function(e){if("string"!=typeof e)throw new n(this,e,{value:t.errorCode.must_be_a_string});if(!new RegExp(this.regexp,this.flag).test(e))throw new n(this,e,{regexp:this.regexp,flag:this.flag});return!0},this},Required:function(){return this.__class__="Required",this.validate=function(e){if("undefined"==typeof e)throw new n(this,e);try{"string"==typeof e?(new r).NotNull().validate(e)&&(new r).NotBlank().validate(e):!0===o(e)&&(new r).Length({min:1}).validate(e)}catch(t){throw new n(this,e)}return!0},this},Unique:function(e){return this.__class__="Unique","object"==typeof e&&(this.key=e.key),this.validate=function(e){var i,r=[];if(!o(e))throw new n(this,e,{value:t.errorCode.must_be_an_array});for(var s=0;s<e.length;s++)if(i="object"==typeof e[s]?e[s][this.key]:e[s],"undefined"!=typeof i){if(-1!==r.indexOf(i))throw new n(this,e,{value:i});r.push(i)}return!0},this}},e.Assert=r,e.Validator=t,e.Violation=n,e.Constraint=i,Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:0!==n&&n!=1/0&&n!=-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var r=n>=0?n:Math.max(i-Math.abs(n),0);i>r;r++)if(r in t&&t[r]===e)return r;return-1});var s=function(e){for(var t in e)return!1;return!0},o=function(e){return"[object Array]"===Object.prototype.toString.call(e)},a={eql:function(e,t){if(e===t)return!0;if("undefined"!=typeof Buffer&&Buffer.isBuffer(e)&&Buffer.isBuffer(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}return e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():"object"!=typeof e&&"object"!=typeof t?e==t:this.objEquiv(e,t)},isUndefinedOrNull:function(e){return null===e||"undefined"==typeof e},isArguments:function(e){return"[object Arguments]"==Object.prototype.toString.call(e)},keys:function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t},objEquiv:function(e,t){if(this.isUndefinedOrNull(e)||this.isUndefinedOrNull(t))return!1;if(e.prototype!==t.prototype)return!1;if(this.isArguments(e))return this.isArguments(t)?eql(pSlice.call(e),pSlice.call(t)):!1;try{var i,n,r=this.keys(e),s=this.keys(t);if(r.length!==s.length)return!1;for(r.sort(),s.sort(),n=r.length-1;n>=0;n--)if(r[n]!=s[n])return!1;for(n=r.length-1;n>=0;n--)if(i=r[n],!this.eql(e[i],t[i]))return!1;return!0}catch(o){return!1}}};"function"==typeof define&&define.amd&&define("validator",[],function(){return e})}("undefined"==typeof exports?this["undefined"!=typeof validatorjs_ns?validatorjs_ns:"Validator"]={}:exports);var n=function(e,t){this.__class__="ParsleyValidator",this.Validator=Validator,this.locale="en",this.init(e||{},t||{})};n.prototype={init:function(e,t){this.catalog=t;for(var i in e)this.addValidator(i,e[i].fn,e[i].priority,e[i].requirementsTransformer);$.emit("parsley:validator:init")},setLocale:function(e){if("undefined"==typeof this.catalog[e])throw new Error(e+" is not available in the catalog");return this.locale=e,this},addCatalog:function(e,t,i){return"object"==typeof t&&(this.catalog[e]=t),!0===i?this.setLocale(e):this},addMessage:function(e,t,i){return void 0===typeof this.catalog[e]&&(this.catalog[e]={}),this.catalog[e][t.toLowerCase()]=i,this},validate:function(e,t,i){return(new this.Validator.Validator).validate.apply(new Validator.Validator,arguments)},addValidator:function(e,t,i,n){return this.validators[e.toLowerCase()]=function(e){return $.extend((new Validator.Assert).Callback(t,e),{priority:i,requirementsTransformer:n})},this},updateValidator:function(e,t,i,n){return this.addValidator(e,t,i,n)},removeValidator:function(e){return delete this.validators[e],this},getErrorMessage:function(e){var t;return t="type"===e.name?this.catalog[this.locale][e.name][e.requirements]:this.formatMessage(this.catalog[this.locale][e.name],e.requirements),""!==t?t:this.catalog[this.locale].defaultMessage},formatMessage:function(e,t){if("object"==typeof t){for(var i in t)e=this.formatMessage(e,t[i]);return e}return"string"==typeof e?e.replace(new RegExp("%s","i"),t):""},validators:{notblank:function(){return $.extend((new Validator.Assert).NotBlank(),{priority:2})},required:function(){return $.extend((new Validator.Assert).Required(),{priority:512})},type:function(e){var t;switch(e){case"email":t=(new Validator.Assert).Email();break;case"range":case"number":t=(new Validator.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":t=(new Validator.Assert).Regexp("^-?\\d+$");break;case"digits":t=(new Validator.Assert).Regexp("^\\d+$");break;case"alphanum":t=(new Validator.Assert).Regexp("^\\w+$","i");break;case"url":t=(new Validator.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");
break;default:throw new Error("validator type `"+e+"` is not supported")}return $.extend(t,{priority:256})},pattern:function(e){var t="";return/^\/.*\/(?:[gimy]*)$/.test(e)&&(t=e.replace(/.*\/([gimy]*)$/,"$1"),e=e.replace(new RegExp("^/(.*?)/"+t+"$"),"$1")),$.extend((new Validator.Assert).Regexp(e,t),{priority:64})},minlength:function(e){return $.extend((new Validator.Assert).Length({min:e}),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},maxlength:function(e){return $.extend((new Validator.Assert).Length({max:e}),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},length:function(e){return $.extend((new Validator.Assert).Length({min:e[0],max:e[1]}),{priority:32})},mincheck:function(e){return this.minlength(e)},maxcheck:function(e){return this.maxlength(e)},check:function(e){return this.length(e)},min:function(e){return $.extend((new Validator.Assert).GreaterThanOrEqual(e),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},max:function(e){return $.extend((new Validator.Assert).LessThanOrEqual(e),{priority:30,requirementsTransformer:function(){return"string"!=typeof e||isNaN(e)?e:parseInt(e,10)}})},range:function(e){return $.extend((new Validator.Assert).Range(e[0],e[1]),{priority:32,requirementsTransformer:function(){for(var t=0;t<e.length;t++)e[t]="string"!=typeof e[t]||isNaN(e[t])?e[t]:parseInt(e[t],10);return e}})},equalto:function(e){return $.extend((new Validator.Assert).EqualTo(e),{priority:256,requirementsTransformer:function(){return $(e).length?$(e).val():e}})}}};var r=function(e){this.__class__="ParsleyUI"};r.prototype={listen:function(){return $.listen("parsley:form:init",this,this.setupForm),$.listen("parsley:field:init",this,this.setupField),$.listen("parsley:field:validated",this,this.reflow),$.listen("parsley:form:validated",this,this.focus),$.listen("parsley:field:reset",this,this.reset),$.listen("parsley:form:destroy",this,this.destroy),$.listen("parsley:field:destroy",this,this.destroy),this},reflow:function(e){if("undefined"!=typeof e._ui&&!1!==e._ui.active){var t=this._diff(e.validationResult,e._ui.lastValidationResult);e._ui.lastValidationResult=e.validationResult,e._ui.validatedOnce=!0,this.manageStatusClass(e),this.manageErrorsMessages(e,t),this.actualizeTriggers(e),(t.kept.length||t.added.length)&&"undefined"==typeof e._ui.failedOnce&&this.manageFailingFieldTrigger(e)}},getErrorsMessages:function(e){if(!0===e.validationResult)return[];for(var t=[],i=0;i<e.validationResult.length;i++)t.push(this._getErrorMessage(e,e.validationResult[i].assert));return t},manageStatusClass:function(e){!0===e.validationResult?this._successClass(e):e.validationResult.length>0?this._errorClass(e):this._resetClass(e)},manageErrorsMessages:function(e,t){if("undefined"==typeof e.options.errorsMessagesDisabled){if("undefined"!=typeof e.options.errorMessage)return t.added.length||t.kept.length?(0===e._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&e._ui.$errorsWrapper.append($(e.options.errorTemplate).addClass("parsley-custom-error-message")),e._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(e.options.errorMessage)):e._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var i=0;i<t.removed.length;i++)this.removeError(e,t.removed[i].assert.name,!0);for(i=0;i<t.added.length;i++)this.addError(e,t.added[i].assert.name,void 0,t.added[i].assert,!0);for(i=0;i<t.kept.length;i++)this.updateError(e,t.kept[i].assert.name,void 0,t.kept[i].assert,!0)}},addError:function(e,t,i,n,r){e._ui.$errorsWrapper.addClass("filled").append($(e.options.errorTemplate).addClass("parsley-"+t).html(i||this._getErrorMessage(e,n))),!0!==r&&this._errorClass(e)},updateError:function(e,t,i,n,r){e._ui.$errorsWrapper.addClass("filled").find(".parsley-"+t).html(i||this._getErrorMessage(e,n)),!0!==r&&this._errorClass(e)},removeError:function(e,t,i){e._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+t).remove(),!0!==i&&this.manageStatusClass(e)},focus:function(e){if(!0===e.validationResult||"none"===e.options.focus)return e._focusedField=null;e._focusedField=null;for(var t=0;t<e.fields.length;t++)if(!0!==e.fields[t].validationResult&&e.fields[t].validationResult.length>0&&"undefined"==typeof e.fields[t].options.noFocus){if("first"===e.options.focus)return e._focusedField=e.fields[t].$element,e._focusedField.focus();e._focusedField=e.fields[t].$element}return null===e._focusedField?null:e._focusedField.focus()},_getErrorMessage:function(e,t){var i=t.name+"Message";return"undefined"!=typeof e.options[i]?window.ParsleyValidator.formatMessage(e.options[i],t.requirements):window.ParsleyValidator.getErrorMessage(t)},_diff:function(e,t,i){for(var n=[],r=[],s=0;s<e.length;s++){for(var o=!1,a=0;a<t.length;a++)if(e[s].assert.name===t[a].assert.name){o=!0;break}o?r.push(e[s]):n.push(e[s])}return{kept:r,added:n,removed:i?[]:this._diff(t,e,!0).added}},setupForm:function(e){e.$element.on("submit.Parsley",!1,$.proxy(e.onSubmitValidate,e)),!1!==e.options.uiEnabled&&e.$element.attr("novalidate","")},setupField:function(e){var t={active:!1};!1!==e.options.uiEnabled&&(t.active=!0,e.$element.attr(e.options.namespace+"id",e.__id__),t.$errorClassHandler=this._manageClassHandler(e),t.errorsWrapperId="parsley-id-"+("undefined"!=typeof e.options.multiple?"multiple-"+e.options.multiple:e.__id__),t.$errorsWrapper=$(e.options.errorsWrapper).attr("id",t.errorsWrapperId),t.lastValidationResult=[],t.validatedOnce=!1,t.validationInformationVisible=!1,e._ui=t,this._insertErrorWrapper(e),this.actualizeTriggers(e))},_manageClassHandler:function(e){if("string"==typeof e.options.classHandler&&$(e.options.classHandler).length)return $(e.options.classHandler);var t=e.options.classHandler(e);return"undefined"!=typeof t&&t.length?t:"undefined"==typeof e.options.multiple||e.$element.is("select")?e.$element.parent():e.$element.parent()},_insertErrorWrapper:function(e){var t;if("string"==typeof e.options.errorsContainer){if($(e.options.errorsContainer).length)return $(e.options.errorsContainer).append(e._ui.$errorsWrapper);window.console&&window.console.warn&&window.console.warn("The errors container `"+e.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof e.options.errorsContainer&&(t=e.options.errorsContainer(e));return"undefined"!=typeof t&&t.length?t.append(e._ui.$errorsWrapper):"undefined"==typeof e.options.multiple?e.$element.after(e._ui.$errorsWrapper):e.$element.parent().after(e._ui.$errorsWrapper)},actualizeTriggers:function(e){var t=this;if(e.options.multiple?$("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){$(this).off(".Parsley")}):e.$element.off(".Parsley"),!1!==e.options.trigger){var i=e.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==i&&(e.options.multiple?$("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){$(this).on(i.split(" ").join(".Parsley ")+".Parsley",!1,$.proxy("function"==typeof e.eventValidate?e.eventValidate:t.eventValidate,e))}):e.$element.on(i.split(" ").join(".Parsley ")+".Parsley",!1,$.proxy("function"==typeof e.eventValidate?e.eventValidate:this.eventValidate,e)))}},eventValidate:function(e){new RegExp("key").test(e.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(e){return e._ui.failedOnce=!0,e.options.multiple&&$("["+e.options.namespace+'multiple="'+e.options.multiple+'"]').each(function(){return new RegExp("change","i").test($(this).parsley().options.trigger||"")?void 0:$(this).on("change.ParsleyFailedOnce",!1,$.proxy(e.validate,e))}),e.$element.is("select")&&!new RegExp("change","i").test(e.options.trigger||"")?e.$element.on("change.ParsleyFailedOnce",!1,$.proxy(e.validate,e)):new RegExp("keyup","i").test(e.options.trigger||"")?void 0:e.$element.on("keyup.ParsleyFailedOnce",!1,$.proxy(e.validate,e))},reset:function(e){e.$element.off(".Parsley"),e.$element.off(".ParsleyFailedOnce"),"undefined"!=typeof e._ui&&"ParsleyForm"!==e.__class__&&(e._ui.$errorsWrapper.children().each(function(){$(this).remove()}),this._resetClass(e),e._ui.validatedOnce=!1,e._ui.lastValidationResult=[],e._ui.validationInformationVisible=!1)},destroy:function(e){this.reset(e),"ParsleyForm"!==e.__class__&&("undefined"!=typeof e._ui&&e._ui.$errorsWrapper.remove(),delete e._ui)},_successClass:function(e){e._ui.validationInformationVisible=!0,e._ui.$errorClassHandler.removeClass(e.options.errorClass).addClass(e.options.successClass)},_errorClass:function(e){e._ui.validationInformationVisible=!0,e._ui.$errorClassHandler.removeClass(e.options.successClass).addClass(e.options.errorClass)},_resetClass:function(e){e._ui.$errorClassHandler.removeClass(e.options.successClass).removeClass(e.options.errorClass)}};var s=function(t,i,n,r){this.__class__="OptionsFactory",this.__id__=e.hash(4),this.formOptions=null,this.fieldOptions=null,this.staticOptions=$.extend(!0,{},t,i,n,{namespace:r})};s.prototype={get:function(e){if("undefined"==typeof e.__class__)throw new Error("Parsley Instance expected");switch(e.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(e);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(e);default:throw new Error("Instance "+e.__class__+" is not supported")}},getFormOptions:function(t){return this.formOptions=e.attr(t.$element,this.staticOptions.namespace),$.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(t){return this.fieldOptions=e.attr(t.$element,this.staticOptions.namespace),null===this.formOptions&&"undefined"!=typeof t.parent&&(this.formOptions=this.getFormOptions(t.parent)),$.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var o=function(t,i){if(this.__class__="ParsleyForm",this.__id__=e.hash(4),"OptionsFactory"!==e.get(i,"__class__"))throw new Error("You must give an OptionsFactory instance");this.OptionsFactory=i,this.$element=$(t),this.validationResult=null,this.options=this.OptionsFactory.get(this)};o.prototype={onSubmitValidate:function(e){return this.validate(void 0,void 0,e),!1===this.validationResult&&e instanceof $.Event&&(e.stopImmediatePropagation(),e.preventDefault()),this},validate:function(e,t,i){this.submitEvent=i,this.validationResult=!0;var n=[];this._refreshFields(),$.emit("parsley:form:validate",this);for(var r=0;r<this.fields.length;r++)e&&e!==this.fields[r].options.group||(n=this.fields[r].validate(t),!0!==n&&n.length>0&&this.validationResult&&(this.validationResult=!1));return $.emit("parsley:form:validated",this),this.validationResult},isValid:function(e,t){this._refreshFields();for(var i=0;i<this.fields.length;i++)if((!e||e===this.fields[i].options.group)&&!1===this.fields[i].isValid(t))return!1;return!0},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var e=this;return this.fields=[],this.fieldsMappedById={},this.$element.find(this.options.inputs).each(function(){var t=new window.Parsley(this,{},e);"ParsleyField"!==t.__class__&&"ParsleyFieldMultiple"!==t.__class__||t.$element.is(t.options.excluded)||"undefined"==typeof e.fieldsMappedById[t.__class__+"-"+t.__id__]&&(e.fieldsMappedById[t.__class__+"-"+t.__id__]=t,e.fields.push(t))}),this}};var a=function(t,i,n,r,s){if(!new RegExp("ParsleyField").test(e.get(t,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");if("function"!=typeof window.ParsleyValidator.validators[i]&&"Assert"!==window.ParsleyValidator.validators[i](n).__parentClass__)throw new Error("Valid validator expected");var o=function(t,i){return"undefined"!=typeof t.options[i+"Priority"]?t.options[i+"Priority"]:e.get(window.ParsleyValidator.validators[i](n),"priority")||2};return r=r||o(t,i),"function"==typeof window.ParsleyValidator.validators[i](n).requirementsTransformer&&(n=window.ParsleyValidator.validators[i](n).requirementsTransformer()),$.extend(window.ParsleyValidator.validators[i](n),{name:i,requirements:n,priority:r,groups:[r],isDomConstraint:s||e.attr(t.$element,t.options.namespace,i)})},l=function(t,i,n){this.__class__="ParsleyField",this.__id__=e.hash(4),this.$element=$(t),"undefined"!=typeof n?(this.parent=n,this.OptionsFactory=this.parent.OptionsFactory,this.options=this.OptionsFactory.get(this)):(this.OptionsFactory=i,this.options=this.OptionsFactory.get(this)),this.constraints=[],this.constraintsByName={},this.validationResult=[],this._bindConstraints()};l.prototype={validate:function(e){return this.value=this.getValue(),$.emit("parsley:field:validate",this),$.emit("parsley:field:"+(this.isValid(e,this.value)?"success":"error"),this),$.emit("parsley:field:validated",this),this.validationResult},isValid:function(e,t){this.refreshConstraints();var i=this._getConstraintsSortedPriorities();if(t=t||this.getValue(),0===t.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty&&!0!==e)return this.validationResult=[];if(!1===this.options.priorityEnabled)return!0===(this.validationResult=this.validateThroughValidator(t,this.constraints,"Any"));for(var n=0;n<i.length;n++)if(!0!==(this.validationResult=this.validateThroughValidator(t,this.constraints,i[n])))return!1;return!0},getValue:function(){var e;return e="undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof e||null===e?"":!0===this.options.trimValue?e.replace(/^\s+|\s+$/g,""):e},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(e,t,i,n){if(e=e.toLowerCase(),"function"==typeof window.ParsleyValidator.validators[e]){var r=new a(this,e,t,i,n);"undefined"!==this.constraintsByName[r.name]&&this.removeConstraint(r.name),this.constraints.push(r),this.constraintsByName[r.name]=r}return this},removeConstraint:function(e){for(var t=0;t<this.constraints.length;t++)if(e===this.constraints[t].name){this.constraints.splice(t,1);break}return this},updateConstraint:function(e,t,i){return this.removeConstraint(e).addConstraint(e,t,i)},_bindConstraints:function(){for(var e=[],t=0;t<this.constraints.length;t++)!1===this.constraints[t].isDomConstraint&&e.push(this.constraints[t]);this.constraints=e;for(var i in this.options)this.addConstraint(i,this.options[i]);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0);var e=this.$element.attr("type");return"undefined"==typeof e?this:"number"===e?this.addConstraint("type","integer",void 0,!0):new RegExp(e,"i").test("email url range")?this.addConstraint("type",e,void 0,!0):this},_isRequired:function(){return"undefined"==typeof this.constraintsByName.required?!1:!1!==this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){for(var e=[],t=0;t<this.constraints.length;t++)-1===e.indexOf(this.constraints[t].priority)&&e.push(this.constraints[t].priority);return e.sort(function(e,t){return t-e}),e}};var u=function(){this.__class__="ParsleyFieldMultiple"};u.prototype={addElement:function(e){return this.$elements.push(e),this},refreshConstraints:function(){var e;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var t=0;t<this.$elements.length;t++)if($("html").has(this.$elements[t]).length){e=this.$elements[t].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var i=0;i<e.length;i++)this.addConstraint(e[i].name,e[i].requirements,e[i].priority,e[i].isDomConstraint)}else this.$elements.splice(t,1);return this},getValue:function(){if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return $("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var e=[];return $("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){e.push($(this).val())}),e.length?e:[]}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(e){return this.$elements=[this.$element],this.options.multiple=e,this}};var d=$({}),c={};$.listen=function(e){if("undefined"==typeof c[e]&&(c[e]=[]),"function"==typeof arguments[1])return c[e].push({fn:arguments[1]});if("object"==typeof arguments[1]&&"function"==typeof arguments[2])return c[e].push({fn:arguments[2],ctxt:arguments[1]});throw new Error("Wrong parameters")},$.listenTo=function(e,t,i){if("undefined"==typeof c[t]&&(c[t]=[]),!(e instanceof l||e instanceof o))throw new Error("Must give Parsley instance");if("string"!=typeof t||"function"!=typeof i)throw new Error("Wrong parameters");c[t].push({instance:e,fn:i})},$.unsubscribe=function(e,t){if("undefined"!=typeof c[e]){if("string"!=typeof e||"function"!=typeof t)throw new Error("Wrong arguments");for(var i=0;i<c[e].length;i++)if(c[e][i].fn===t)return c[e].splice(i,1)}},$.unsubscribeTo=function(e,t){if("undefined"!=typeof c[t]){if(!(e instanceof l||e instanceof o))throw new Error("Must give Parsley instance");for(var i=0;i<c[t].length;i++)if("undefined"!=typeof c[t][i].instance&&c[t][i].instance.__id__===e.__id__)return c[t].splice(i,1)}},$.unsubscribeAll=function(e){"undefined"!=typeof c[e]&&delete c[e]},$.emit=function(e,t){if("undefined"!=typeof c[e])for(var i=0;i<c[e].length;i++)if("undefined"!=typeof c[e][i].instance){if(t instanceof l||t instanceof o)if(c[e][i].instance.__id__!==t.__id__){if(c[e][i].instance instanceof o&&t instanceof l)for(var n=0;n<c[e][i].instance.fields.length;n++)if(c[e][i].instance.fields[n].__id__===t.__id__){c[e][i].fn.apply(d,Array.prototype.slice.call(arguments,1));continue}}else c[e][i].fn.apply(d,Array.prototype.slice.call(arguments,1))}else c[e][i].fn.apply("undefined"!=typeof c[e][i].ctxt?c[e][i].ctxt:d,Array.prototype.slice.call(arguments,1))},$.subscribed=function(){return c},window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=$.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);var p=function(t,i,n){if(this.__class__="Parsley",this.__version__="2.0.2",this.__id__=e.hash(4),"undefined"==typeof t)throw new Error("You must give an element");if("undefined"!=typeof n&&"ParsleyForm"!==n.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.init($(t),i,n)};p.prototype={init:function(i,n,r){if(!i.length)throw new Error("You must bind Parsley on an existing element.");if(this.$element=i,this.$element.data("Parsley")){var o=this.$element.data("Parsley");return"undefined"!=typeof r&&(o.parent=r),o}return this.OptionsFactory=new s(t,e.get(window,"ParsleyConfig")||{},n,this.getNamespace(n)),this.options=this.OptionsFactory.get(this),this.$element.is("form")||e.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded)?this.isMultiple()?this.handleMultiple(r):this.bind("parsleyField",r):this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"==typeof this.options.multiple||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(t){var i,n,r,s=this;if(this.options=$.extend(this.options,t?t.OptionsFactory.get(t):{},e.attr(this.$element,this.options.namespace)),this.options.multiple?n=this.options.multiple:"undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?n=i=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(n=this.$element.attr("id")),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.bind("parsleyFieldMultiple",t,n||this.__id__);if("undefined"==typeof n)return window.console&&window.console.warn&&window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;if(n=n.replace(/(:|\.|\[|\]|\$)/g,""),"undefined"!=typeof i&&$('input[name="'+i+'"]').each(function(){$(this).is("input[type=radio], input[type=checkbox]")&&$(this).attr(s.options.namespace+"multiple",n)}),$("["+this.options.namespace+"multiple="+n+"]").length)for(var o=0;o<$("["+this.options.namespace+"multiple="+n+"]").length;o++)if("undefined"!=typeof $($("["+this.options.namespace+"multiple="+n+"]").get(o)).data("Parsley")){r=$($("["+this.options.namespace+"multiple="+n+"]").get(o)).data("Parsley"),this.$element.data("ParsleyFieldMultiple")||(r.addElement(this.$element),this.$element.attr(this.options.namespace+"id",r.__id__));break}return this.bind("parsleyField",t,n,!0),r||this.bind("parsleyFieldMultiple",t,n)},getNamespace:function(i){return"undefined"!=typeof this.$element.data("parsleyNamespace")?this.$element.data("parsleyNamespace"):"undefined"!=typeof e.get(i,"namespace")?i.namespace:"undefined"!=typeof e.get(window,"ParsleyConfig.namespace")?window.ParsleyConfig.namespace:t.namespace},bind:function(t,n,r,s){var a;switch(t){case"parsleyForm":a=$.extend(new o(this.$element,this.OptionsFactory),new i,window.ParsleyExtend)._bindFields();break;case"parsleyField":a=$.extend(new l(this.$element,this.OptionsFactory,n),new i,window.ParsleyExtend);break;case"parsleyFieldMultiple":a=$.extend(new l(this.$element,this.OptionsFactory,n),new i,new u,window.ParsleyExtend)._init(r);break;default:throw new Error(t+"is not a supported Parsley type")}return"undefined"!=typeof r&&e.setAttr(this.$element,this.options.namespace,"multiple",r),"undefined"!=typeof s?(this.$element.data("ParsleyFieldMultiple",a),a):(new RegExp("ParsleyF","i").test(a.__class__)&&(this.$element.data("Parsley",a),$.emit("parsley:"+("parsleyForm"===t?"form":"field")+":init",a)),a)}},$.fn.parsley=$.fn.psly=function(e){if(this.length>1){var t=[];return this.each(function(){t.push($(this).parsley(e))}),t}return $(this).length?new p(this,e):void(window.console&&window.console.warn&&window.console.warn("You must bind Parsley on an existing element."))},window.ParsleyUI="function"==typeof e.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new r).listen(),"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),"undefined"==typeof window.ParsleyConfig&&(window.ParsleyConfig={}),window.Parsley=window.psly=p,window.ParsleyUtils=e,window.ParsleyValidator=new n(window.ParsleyConfig.validators,window.ParsleyConfig.i18n),!1!==e.get(window,"ParsleyConfig.autoBind")&&$(document).ready(function(){$("[data-parsley-validate]").length&&$("[data-parsley-validate]").parsley()})}),FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){"use strict";var i,n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,e.dispatchEvent(i)},FastClick.prototype.determineEventType=function(e){"use strict";return this.deviceIsAndroid&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(e){"use strict";var t;this.deviceIsIOS&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){"use strict";var t,i;if(t=e.fastClickScrollParent,!t||!t.contains(e)){i=e;do{if(i.scrollHeight>i.offsetHeight){t=i,e.fastClickScrollParent=i;break}i=i.parentElement}while(i)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){"use strict";var t,i,n;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),i=e.targetTouches[0],this.deviceIsIOS){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!this.deviceIsIOS4){if(i.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=i.pageX,this.touchStartY=i.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i?!0:!1},FastClick.prototype.onTouchMove=function(e){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){"use strict";var t,i,n,r,s,o=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(s=e.changedTouches[0],o=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||o,o.fastClickScrollParent=this.targetElement.fastClickScrollParent),n=o.tagName.toLowerCase(),"label"===n){if(t=this.findControl(o)){if(this.focus(o),this.deviceIsAndroid)return!1;o=t}}else if(this.needsFocus(o))return e.timeStamp-i>100||this.deviceIsIOS&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(o),this.deviceIsIOS4&&"select"===n||(this.targetElement=null,e.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(r=o.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(o)||(e.preventDefault(),this.sendClick(o,e)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){"use strict";return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},FastClick.prototype.destroy=function(){"use strict";var e=this.layer;this.deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){"use strict";var t,i;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!FastClick.prototype.deviceIsAndroid)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===e.style.msTouchAction?!0:!1},FastClick.attach=function(e){"use strict";return new FastClick(e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(e,t){"use strict";function i(e){e=e.split(" ");for(var t={},i=e.length,n=[];i--;)t.hasOwnProperty(e[i])||(t[e[i]]=1,n.unshift(e[i]));return n.join(" ")}function n(e,t){var i=new XMLHttpRequest;return"withCredentials"in i?i.open(e,t,!0):"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(e,t)):i=null,i}var r="file:"===e.location.protocol,s=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),o=/Windows Phone|IEMobile/i.test(navigator.userAgent),a=Array.prototype.forEach||function(e,t){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;var i,n=this.length>>>0;for(i=0;n>i;++i)i in this&&e.call(t,this[i],i,this)},l={},u=0,d=[],c=[],p={},h=function(e){return e.cloneNode(!0)},f=function(e,t){c[e]=c[e]||[],c[e].push(t)},m=function(e){for(var t=0,i=c[e].length;i>t;t++)!function(t){setTimeout(function(){c[e][t](h(l[e]))},0)}(t)},g=function(t,i){if(void 0!==l[t])l[t]instanceof SVGSVGElement?i(h(l[t])):f(t,i);else{if(!e.XMLHttpRequest)return i("Browser does not support XMLHttpRequest"),
!1;l[t]={},f(t,i);var s=n("GET",t);if(!s)return i("Browser does not support CORS"),!1;s.onreadystatechange=function(){if(4===s.readyState){if(404===s.status||null===s.responseXML)return i("Unable to load SVG file: "+t),r&&i("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),i(),!1;if(!(200===s.status||r&&0===s.status))return i("There was a problem injecting the SVG: "+s.status+" "+s.statusText),!1;if(s.responseXML instanceof Document)l[t]=s.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var e;try{var n=new DOMParser;e=n.parseFromString(s.responseText,"text/xml")}catch(o){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)return i("Unable to parse SVG file: "+t),!1;l[t]=e.documentElement}m(t)}},s.overrideMimeType&&s.overrideMimeType("text/xml"),s.send()}},v=function(t,n,r,l){var c=t.getAttribute("svg-inject")||t.getAttribute("src");if(!/\.svg/i.test(c))return void l("Attempted to inject a file with a non-svg extension: "+c);if(!s|o){var h=t.getAttribute("svg-fallback")||t.getAttribute("svg-png");return void(h?(t.setAttribute("src",h),l(null)):r?(t.setAttribute("src",r+"/"+c.split("/").pop().replace(".svg",".png")),l(null)):l("This browser does not support SVG and no PNG fallback was defined."))}-1===d.indexOf(t)&&(d.push(t),t.setAttribute("src",""),g(c,function(r){if("undefined"==typeof r||"string"==typeof r)return l(r),!1;var s=t.getAttribute("id");s&&r.setAttribute("id",s);var o=t.getAttribute("title");o&&r.setAttribute("title",o);var h=[].concat(r.getAttribute("class")||[],"injected-svg",t.getAttribute("class")||[]).join(" ");r.setAttribute("class",i(h));var f=t.getAttribute("style");f&&r.setAttribute("style",f);var m=[].filter.call(t.attributes,function(e){return/^data-\w[\w\-]*$/.test(e.name)});a.call(m,function(e){e.name&&e.value&&r.setAttribute(e.name,e.value)});for(var g,v=r.querySelectorAll("defs clipPath[id]"),y=0,b=v.length;b>y;y++){g=v[y].id+"-"+u;for(var _=r.querySelectorAll('[clip-path*="'+v[y].id+'"]'),w=0,C=_.length;C>w;w++)_[w].setAttribute("clip-path","url(#"+g+")");v[y].id=g}for(var k,x=r.querySelectorAll("defs mask[id]"),T=0,S=x.length;S>T;T++){k=x[T].id+"-"+u;for(var E=r.querySelectorAll('[mask*="'+x[T].id+'"]'),$=0,P=E.length;P>$;$++)E[$].setAttribute("mask","url(#"+k+")");x[T].id=k}r.removeAttribute("xmlns:a");for(var A,L,O=r.querySelectorAll("script"),F=[],M=0,I=O.length;I>M;M++)L=O[M].getAttribute("type"),L&&"application/ecmascript"!==L&&"application/javascript"!==L||(A=O[M].innerText||O[M].textContent,F.push(A),r.removeChild(O[M]));if(F.length>0&&("always"===n||"once"===n&&!p[c])){for(var j=0,N=F.length;N>j;j++)new Function(F[j])(e);p[c]=!0}t.parentNode.replaceChild(r,t),delete d[d.indexOf(t)],t=null,u++,l(r)}))},y=function(e,t,i){t=t||{};var n=t.evalScripts||"always",r=t.pngFallback||!1,s=t.each;if(void 0!==e.length){var o=0;a.call(e,function(t){v(t,n,r,function(t){s&&"function"==typeof s&&s(t),i&&e.length===++o&&i(o)})})}else e?v(e,n,r,function(t){s&&"function"==typeof s&&s(t),i&&i(1),e=null}):i&&i(0)};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=y:"function"==typeof define&&define.amd?define(function(){return y}):"object"==typeof e&&(e.SVGInjector=y)}(window,document),window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;t.type="text/css",t.id="matchmediajs-test",i.parentNode.insertBefore(t,i),n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=i:t.textContent=i,"1px"===n.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var e=window.matchMedia,t=e("only all").matches,i=!1,n=0,r=[],s=function(t){clearTimeout(n),n=setTimeout(function(){for(var t=0,i=r.length;i>t;t++){var n=r[t].mql,s=r[t].listeners||[],o=e(n.media).matches;if(o!==n.matches){n.matches=o;for(var a=0,l=s.length;l>a;a++)s[a].call(window,n)}}},30)};window.matchMedia=function(n){var o=e(n),a=[],l=0;return o.addListener=function(e){t&&(i||(i=!0,window.addEventListener("resize",s,!0)),0===l&&(l=r.push({mql:o,listeners:a})),a.push(e))},o.removeListener=function(e){for(var t=0,i=a.length;i>t;t++)a[t]===e&&a.splice(t,1)},o}}();var btn,getNumberOfGifts,select;window.location.pathname.match("/15bucks")&&(select=document.querySelectorAll('select[name="gift-quantity"]')[0],btn=document.querySelectorAll("a[data-gift-link]")[0],getNumberOfGifts=function(){var e,t;return e=select.value,"custom"===e?(btn.href="//give.newspring.cc/?christmas=",btn.innerHTML="Click Here to Give!"):(t=15*Number(e),"number"==typeof t?(btn.href="//give.newspring.cc/?christmas="+t,btn.innerHTML="Give $"+t+" now!"):void 0)},select.addEventListener?select.addEventListener("change",getNumberOfGifts,!1):select.attachEvent?select.attachEvent("onchange",getNumberOfGifts):select.onchange=getNumberOfGifts),document.addEventListener("DOMContentLoaded",function(){return FastClick.attach(document.body)}),document.ready=function(){var e=$(".cutout--triangle").next("section").find(".shell").css("background-color");$(".cutout--triangle .shell.hero").css("background-color",e)};
